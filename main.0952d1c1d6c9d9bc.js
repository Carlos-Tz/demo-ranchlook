"use strict";(self.webpackChunkranchlook=self.webpackChunkranchlook||[]).push([[179],{2011:(ht,xe,V)=>{V.d(xe,{Dh:()=>me,GT:()=>ge,cc:()=>ke,hO:()=>Ue,on:()=>q,pX:()=>le,xv:()=>_e});var s=V(4650),re=V(127),L=V(5813);ht=V.hmd(ht);const de=["ngOnDestroy"],le=(ye,st,ut,Re={})=>new Proxy(ye,{get:(Ce,Se)=>ut.runOutsideAngular(()=>{var Ge;if(ye[Se])return!(null===(Ge=Re?.spy)||void 0===Ge)&&Ge.get&&Re.spy.get(Se,ye[Se]),ye[Se];if(de.indexOf(Se)>-1)return()=>{};const ze=st.toPromise().then(Z=>{const De=Z&&Z[Se];return"function"==typeof De?De.bind(Z):De&&De.then?De.then(X=>ut.run(()=>X)):ut.run(()=>De)});return new Proxy(()=>{},{get:(Z,De)=>ze[De],apply:(Z,De,X)=>ze.then(ae=>{var oe;const be=ae&&ae(...X);return!(null===(oe=Re?.spy)||void 0===oe)&&oe.apply&&Re.spy.apply(Se,X,be),be})})})}),ge=(ye,st)=>{st.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(Re=>{Object.defineProperty(ye.prototype,Re,Object.getOwnPropertyDescriptor(ut.prototype||ut,Re))})})};class ie{constructor(st){return st}}const me=new s.OlP("angularfire2.app.options"),_e=new s.OlP("angularfire2.app.name");function q(ye,st,ut){const Ce="object"==typeof ut&&ut||{};Ce.name=Ce.name||"string"==typeof ut&&ut||"[DEFAULT]";const Ge=re.Z.apps.filter(ze=>ze&&ze.name===Ce.name)[0]||st.runOutsideAngular(()=>re.Z.initializeApp(ye,Ce));try{JSON.stringify(ye)!==JSON.stringify(Ge.options)&&z("error",`${Ge.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(Ge)}const z=(ye,...st)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ye](...st)},ee={provide:ie,useFactory:q,deps:[me,s.R0b,[new s.FiY,_e]]};let Ue=(()=>{class ye{constructor(ut){re.Z.registerVersion("angularfire",L.q4.full,"core"),re.Z.registerVersion("angularfire",L.q4.full,"app-compat"),re.Z.registerVersion("angular",s.q4F.full,ut.toString())}static initializeApp(ut,Re){return{ngModule:ye,providers:[{provide:me,useValue:ut},{provide:_e,useValue:Re}]}}}return ye.\u0275fac=function(ut){return new(ut||ye)(s.LFG(s.Lbi))},ye.\u0275mod=s.oAB({type:ye}),ye.\u0275inj=s.cJS({providers:[ee]}),ye})();function ke(ye,st,ut,Re,Ce){const[,Se,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===ye)||[];if(Se)return function Ee(ye,st){try{return ye.toString()===st.toString()}catch{return ye===st}}(Ce,Ge)||(we("error",`${st} was already initialized on the ${ut} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Ce,was:Ge})),Se;{const ze=Re();return globalThis.\u0275AngularfireInstanceCache.push([ye,ze,Ce]),ze}}const lt=!!ht.hot,we=(ye,...st)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ye](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,xe,V)=>{V.d(xe,{q4:()=>Mc,iC:()=>va,fc:()=>ao,HU:()=>Bf,vb:()=>$u,JM:()=>Fo});var s=V(4650),re=V(5867),L=V(5861),de=V(9681),le=V(2090),ge=V(4859),ie=V(1877),me=V(8766);const _e="@firebase/installations",q="0.5.12",ee=`w:${q}`,Ue="FIS_v2",st=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(S){return S instanceof le.ZR&&S.code.includes("request-failed")}function Re({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ce(S){return{token:S.token,requestStatus:2,expiresIn:ae(S.expiresIn),creationTime:Date.now()}}function Se(S,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,L.Z)(function*(S,I){const U=(yield I.json()).error;return st.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ze({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Z(S,{refreshToken:I}){const k=ze(S);return k.append("Authorization",function oe(S){return`${Ue} ${S}`}(I)),k}function De(S){return X.apply(this,arguments)}function X(){return(X=(0,L.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function ae(S){return Number(S.replace("s","000"))}function be(S,I){return fe.apply(this,arguments)}function fe(){return(fe=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:k}){const U=Re(S),te=ze(S),ce=I.getImmediate({optional:!0});if(ce){const Rt=yield ce.getHeartbeatsHeader();Rt&&te.append("x-firebase-client",Rt)}const Ke={method:"POST",headers:te,body:JSON.stringify({fid:k,authVersion:Ue,appId:S.appId,sdkVersion:ee})},ft=yield De(()=>fetch(U,Ke));if(ft.ok){const Rt=yield ft.json();return{fid:Rt.fid||k,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:Ce(Rt.authToken)}}throw yield Se("Create Installation",ft)})).apply(this,arguments)}function Ve(S){return new Promise(I=>{setTimeout(I,S)})}const en=/^[cdef][\w-]{21}$/;function Je(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function Cn(S){return function vt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return en.test(k)?k:""}catch{return""}}function ai(S){return`${S.appName}!${S.appId}`}const Tn=new Map;function fn(S,I){const k=ai(S);Yt(k,I),function ks(S,I){const k=function ar(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=S=>{Yt(S.data.key,S.data.fid)}),Ur}();k&&k.postMessage({key:S,fid:I}),function Ar(){0===Tn.size&&Ur&&(Ur.close(),Ur=null)}()}(k,I)}function Yt(S,I){const k=Tn.get(S);if(k)for(const U of k)U(I)}let Ur=null;const xr="firebase-installations-store";let ds=null;function bt(){return ds||(ds=(0,me.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(xr)}})),ds}function Mr(S,I){return li.apply(this,arguments)}function li(){return(li=(0,L.Z)(function*(S,I){const k=ai(S),te=(yield bt()).transaction(xr,"readwrite"),ce=te.objectStore(xr),Ae=yield ce.get(k);return yield ce.put(I,k),yield te.done,(!Ae||Ae.fid!==I.fid)&&fn(S,I.fid),I})).apply(this,arguments)}function $n(S){return Os.apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(S){const I=ai(S),U=(yield bt()).transaction(xr,"readwrite");yield U.objectStore(xr).delete(I),yield U.done})).apply(this,arguments)}function Ps(S,I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,L.Z)(function*(S,I){const k=ai(S),te=(yield bt()).transaction(xr,"readwrite"),ce=te.objectStore(xr),Ae=yield ce.get(k),Ke=I(Ae);return void 0===Ke?yield ce.delete(k):yield ce.put(Ke,k),yield te.done,Ke&&(!Ae||Ae.fid!==Ke.fid)&&fn(S,Ke.fid),Ke})).apply(this,arguments)}function yi(S){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,L.Z)(function*(S){let I;const k=yield Ps(S.appConfig,U=>{const te=ea(U),ce=tn(S,te);return I=ce.registrationPromise,ce.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function ea(S){return jr(S||{fid:Je(),registrationStatus:0})}function tn(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(st.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function Ze(S,I){return kt.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:pr(S)}:{installationEntry:I}}function kt(){return(kt=(0,L.Z)(function*(S,I){try{const k=yield be(S,I);return Mr(S.appConfig,k)}catch(k){throw ut(k)&&409===k.customData.serverCode?yield $n(S.appConfig):yield Mr(S.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function pr(S){return xi.apply(this,arguments)}function xi(){return(xi=(0,L.Z)(function*(S){let I=yield Pt(S.appConfig);for(;1===I.registrationStatus;)yield Ve(100),I=yield Pt(S.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield yi(S);return U||k}return I})).apply(this,arguments)}function Pt(S){return Ps(S,I=>{if(!I)throw st.create("installation-not-found");return jr(I)})}function jr(S){return function Mi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function hs(S,I){return vn.apply(this,arguments)}function vn(){return(vn=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:I},k){const U=kr(S,k),te=Z(S,k),ce=I.getImmediate({optional:!0});if(ce){const Rt=yield ce.getHeartbeatsHeader();Rt&&te.append("x-firebase-client",Rt)}const Ke={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ee,appId:S.appId}})},ft=yield De(()=>fetch(U,Ke));if(ft.ok)return Ce(yield ft.json());throw yield Se("Generate Auth Token",ft)})).apply(this,arguments)}function kr(S,{fid:I}){return`${Re(S)}/${I}/authTokens:generate`}function G(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(S,I=!1){let k;const U=yield Ps(S.appConfig,ce=>{if(!pt(ce))throw st.create("not-registered");const Ae=ce.authToken;if(!I&&An(Ae))return ce;if(1===Ae.requestStatus)return k=H(S,I),ce;{if(!navigator.onLine)throw st.create("app-offline");const Ke=Ui(ce);return k=Me(S,Ke),Ke}});return k?yield k:U.authToken})).apply(this,arguments)}function H(S,I){return W.apply(this,arguments)}function W(){return(W=(0,L.Z)(function*(S,I){let k=yield K(S.appConfig);for(;1===k.authToken.requestStatus;)yield Ve(100),k=yield K(S.appConfig);const U=k.authToken;return 0===U.requestStatus?G(S,I):U})).apply(this,arguments)}function K(S){return Ps(S,I=>{if(!pt(I))throw st.create("not-registered");return function qt(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Me(S,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,L.Z)(function*(S,I){try{const k=yield hs(S,I),U=Object.assign(Object.assign({},I),{authToken:k});return yield Mr(S.appConfig,U),k}catch(k){if(!ut(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Mr(S.appConfig,U)}else yield $n(S.appConfig);throw k}})).apply(this,arguments)}function pt(S){return void 0!==S&&2===S.registrationStatus}function An(S){return 2===S.requestStatus&&!function cn(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function Ui(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function Hn(){return(Hn=(0,L.Z)(function*(S){const I=S,{installationEntry:k,registrationPromise:U}=yield yi(I);return U?U.catch(console.error):G(I).catch(console.error),k.fid})).apply(this,arguments)}function Qi(){return(Qi=(0,L.Z)(function*(S,I=!1){const k=S;return yield mr(k),(yield G(k,I)).token})).apply(this,arguments)}function mr(S){return We.apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(S){const{registrationPromise:I}=yield yi(S);I&&(yield I)})).apply(this,arguments)}function fs(S){return st.create("missing-app-config-values",{valueName:S})}const Bt="installations",Gn=S=>{const I=S.getProvider("app").getImmediate(),k=function lc(S){if(!S||!S.options)throw fs("App Configuration");if(!S.name)throw fs("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!S.options[k])throw fs(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,de._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},il=S=>{const I=S.getProvider("app").getImmediate(),k=(0,de._getProvider)(I,Bt).getImmediate();return{getId:()=>function jt(S){return Hn.apply(this,arguments)}(k),getToken:te=>function vi(S){return Qi.apply(this,arguments)}(k,te)}};(function ta(){(0,de._registerComponent)(new ge.wA(Bt,Gn,"PUBLIC")),(0,de._registerComponent)(new ge.wA("installations-internal",il,"PRIVATE"))})(),(0,de.registerVersion)(_e,q),(0,de.registerVersion)(_e,q,"esm2017");const bi="@firebase/remote-config",Ji=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tm{constructor(I,k,U,te){this.client=I,this.storage=k,this.storageCache=U,this.logger=te}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,te=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${te}.`),te}fetch(I){var k=this;return(0,L.Z)(function*(){const[U,te]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(te&&k.isCachedDataFresh(I.cacheMaxAgeMillis,U))return te;I.eTag=te&&te.eTag;const ce=yield k.client.fetch(I),Ae=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ae.push(k.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ae),ce})()}}function wf(S=navigator){return S.languages&&S.languages[0]||S.language}class fc{constructor(I,k,U,te,ce,Ae){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=U,this.projectId=te,this.apiKey=ce,this.appId=Ae}fetch(I){var k=this;return(0,L.Z)(function*(){var U,te,ce;const[Ae,Ke]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},gt={sdk_version:k.sdkVersion,app_instance_id:Ae,app_instance_id_token:Ke,app_id:k.appId,language_code:wf()},ni={method:"POST",headers:Ft,body:JSON.stringify(gt)},nr=fetch(Rt,ni),ba=new Promise((Uo,Dl)=>{I.signal.addEventListener(()=>{const Hf=new Error("The operation was aborted.");Hf.name="AbortError",Dl(Hf)})});let Vo;try{yield Promise.race([nr,ba]),Vo=yield nr}catch(Uo){let Dl="fetch-client-network";throw"AbortError"===(null===(U=Uo)||void 0===U?void 0:U.name)&&(Dl="fetch-timeout"),Ji.create(Dl,{originalErrorMessage:null===(te=Uo)||void 0===te?void 0:te.message})}let bn=Vo.status;const ii=Vo.headers.get("ETag")||void 0;let wa,Bo;if(200===Vo.status){let Uo;try{Uo=yield Vo.json()}catch(Dl){throw Ji.create("fetch-client-parse",{originalErrorMessage:null===(ce=Dl)||void 0===ce?void 0:ce.message})}wa=Uo.entries,Bo=Uo.state}if("INSTANCE_STATE_UNSPECIFIED"===Bo?bn=500:"NO_CHANGE"===Bo?bn=304:("NO_TEMPLATE"===Bo||"EMPTY_CONFIG"===Bo)&&(wa={}),304!==bn&&200!==bn)throw Ji.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:ii,config:wa}})()}}class W_{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,L.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:U}){var te=this;return(0,L.Z)(function*(){yield function ra(S,I){return new Promise((k,U)=>{const te=Math.max(I-Date.now(),0),ce=setTimeout(k,te);S.addEventListener(()=>{clearTimeout(ce),U(Ji.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ce=yield te.client.fetch(I);return yield te.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function qr(S){if(!(S instanceof le.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ce))throw ce;const Ae={throttleEndTimeMillis:Date.now()+(0,le.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Ae),te.attemptFetch(I,Ae)}})()}}class Cf{constructor(I,k,U,te,ce){this.app=I,this._client=k,this._storageCache=U,this._storage=te,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yu(S,I){var k;const U=S.target.error||void 0;return Ji.create(I,{originalErrorMessage:U&&(null===(k=U)||void 0===k?void 0:k.message)})}const xo="app_namespace_store";class X_{constructor(I,k,U,te=function J_(){return new Promise((S,I)=>{var k;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=te=>{I(yu(te,"storage-open"))},U.onsuccess=te=>{S(te.target.result)},U.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(xo,{keyPath:"compositeKey"})}}catch(U){I(Ji.create("storage-open",{originalErrorMessage:null===(k=U)||void 0===k?void 0:k.message}))}})}()){this.appId=I,this.appName=k,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((te,ce)=>{var Ae;const ft=U.transaction([xo],"readonly").objectStore(xo),Rt=k.createCompositeKey(I);try{const Ft=ft.get(Rt);Ft.onerror=gt=>{ce(yu(gt,"storage-get"))},Ft.onsuccess=gt=>{const ni=gt.target.result;te(ni?ni.value:void 0)}}catch(Ft){ce(Ji.create("storage-get",{originalErrorMessage:null===(Ae=Ft)||void 0===Ae?void 0:Ae.message}))}})})()}set(I,k){var U=this;return(0,L.Z)(function*(){const te=yield U.openDbPromise;return new Promise((ce,Ae)=>{var Ke;const Rt=te.transaction([xo],"readwrite").objectStore(xo),Ft=U.createCompositeKey(I);try{const gt=Rt.put({compositeKey:Ft,value:k});gt.onerror=ni=>{Ae(yu(ni,"storage-set"))},gt.onsuccess=()=>{ce()}}catch(gt){Ae(Ji.create("storage-set",{originalErrorMessage:null===(Ke=gt)||void 0===Ke?void 0:Ke.message}))}})})()}delete(I){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((te,ce)=>{var Ae;const ft=U.transaction([xo],"readwrite").objectStore(xo),Rt=k.createCompositeKey(I);try{const Ft=ft.delete(Rt);Ft.onerror=gt=>{ce(yu(gt,"storage-delete"))},Ft.onsuccess=()=>{te()}}catch(Ft){ce(Ji.create("storage-delete",{originalErrorMessage:null===(Ae=Ft)||void 0===Ae?void 0:Ae.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class vu{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const k=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),te=I.storage.getActiveConfig(),ce=yield k;ce&&(I.lastFetchStatus=ce);const Ae=yield U;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Ke=yield te;Ke&&(I.activeConfig=Ke)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function bu(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Qs(){(0,de._registerComponent)(new ge.wA("remote-config",function S(I,{instanceIdentifier:k}){const U=I.getProvider("app").getImmediate(),te=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ji.create("registration-window");if(!(0,le.hl)())throw Ji.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ae,appId:Ke}=U.options;if(!ce)throw Ji.create("registration-project-id");if(!Ae)throw Ji.create("registration-api-key");if(!Ke)throw Ji.create("registration-app-id");const ft=new X_(Ke,U.name,k=k||"firebase"),Rt=new vu(ft),Ft=new ie.Yd(bi);Ft.logLevel=ie.in.ERROR;const gt=new fc(te,de.SDK_VERSION,k,ce,Ae,Ke),ni=new W_(gt,ft),nr=new Tm(ni,ft,Rt,Ft),ba=new Cf(U,nr,Rt,ft,Ft);return function Em(S){const I=(0,le.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ba),ba},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(bi,"0.3.11"),(0,de.registerVersion)(bi,"0.3.11","esm2017")}();const Od="/firebase-messaging-sw.js",zr="/firebase-cloud-messaging-push-scope",ko="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pc="google.c.a.c_id",mc="google.c.a.c_l",gc="google.c.a.ts",Sm="google.c.a.e";var wi=(()=>{return(S=wi||(wi={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",wi;var S})();function On(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wu(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),te=new Uint8Array(U.length);for(let ce=0;ce<U.length;++ce)te[ce]=U.charCodeAt(ce);return te}const Cu="fcm_token_details_db",Pr="fcm_token_object_Store";function Tf(S){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Cu))return null;let I=null;return(yield(0,me.X3)(Cu,5,{upgrade:(U=(0,L.Z)(function*(te,ce,Ae,Ke){var ft;if(ce<2||!te.objectStoreNames.contains(Pr))return;const Rt=Ke.objectStore(Pr),Ft=yield Rt.index("fcmSenderId").get(S);if(yield Rt.clear(),Ft)if(2===ce){const gt=Ft;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;I={token:gt.fcmToken,createTime:null!==(ft=gt.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:On(gt.vapidKey)}}}else if(3===ce){const gt=Ft;I={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:On(gt.auth),p256dh:On(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:On(gt.vapidKey)}}}else if(4===ce){const gt=Ft;I={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:On(gt.auth),p256dh:On(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:On(gt.vapidKey)}}}}),function(ce,Ae,Ke,ft){return U.apply(this,arguments)})})).close(),yield(0,me.Lj)(Cu),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),Sf(I)?I:null;var U}),Jn.apply(this,arguments)}function Sf(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ci="firebase-messaging-store";let Du=null;function sa(){return Du||(Du=(0,me.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Ci)}})),Du}function Ro(S){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,L.Z)(function*(S){const I=Oo(S),U=yield(yield sa()).transaction(Ci).objectStore(Ci).get(I);if(U)return U;{const te=yield Tf(S.appConfig.senderId);if(te)return yield oa(S,te),te}})).apply(this,arguments)}function oa(S,I){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(S,I){const k=Oo(S),te=(yield sa()).transaction(Ci,"readwrite");return yield te.objectStore(Ci).put(I,k),yield te.done,I})).apply(this,arguments)}function ll(S){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(S){const I=Oo(S),U=(yield sa()).transaction(Ci,"readwrite");yield U.objectStore(Ci).delete(I),yield U.done})).apply(this,arguments)}function Oo({appConfig:S}){return S.appId}const ot=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Eu(S,I){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,L.Z)(function*(S,I){var k;const U=yield Su(S),te=Gt(I),ce={method:"POST",headers:U,body:JSON.stringify(te)};let Ae;try{Ae=yield(yield fetch(cl(S.appConfig),ce)).json()}catch(Ke){throw ot.create("token-subscribe-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(Ae.error)throw ot.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw ot.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function Nd(S,I){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,L.Z)(function*(S,I){var k;const U=yield Su(S),te=Gt(I.subscriptionOptions),ce={method:"PATCH",headers:U,body:JSON.stringify(te)};let Ae;try{Ae=yield(yield fetch(`${cl(S.appConfig)}/${I.token}`,ce)).json()}catch(Ke){throw ot.create("token-update-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(Ae.error)throw ot.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw ot.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function aa(S,I){return la.apply(this,arguments)}function la(){return(la=(0,L.Z)(function*(S,I){var k;const te={method:"DELETE",headers:yield Su(S)};try{const Ae=yield(yield fetch(`${cl(S.appConfig)}/${I}`,te)).json();if(Ae.error)throw ot.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(ce){throw ot.create("token-unsubscribe-failed",{errorInfo:null===(k=ce)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function cl({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Su(S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*({appConfig:S,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Gt({p256dh:S,auth:I,endpoint:k,vapidKey:U}){const te={web:{endpoint:k,auth:I,p256dh:S}};return U!==ko&&(te.web.applicationPubKey=U),te}const ul=6048e5;function ca(S){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,L.Z)(function*(S){const I=yield Iu(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:On(I.getKey("auth")),p256dh:On(I.getKey("p256dh"))},U=yield Ro(S.firebaseDependencies);if(U){if(Xs(U.subscriptionOptions,k))return Date.now()>=U.createTime+ul?Zr(S,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield aa(S.firebaseDependencies,U.token)}catch(te){console.warn(te)}return hl(S.firebaseDependencies,k)}return hl(S.firebaseDependencies,k)})).apply(this,arguments)}function dl(S){return ua.apply(this,arguments)}function ua(){return(ua=(0,L.Z)(function*(S){const I=yield Ro(S.firebaseDependencies);I&&(yield aa(S.firebaseDependencies,I.token),yield ll(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Zr(S,I){return bc.apply(this,arguments)}function bc(){return(bc=(0,L.Z)(function*(S,I){try{const k=yield Nd(S.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield oa(S.firebaseDependencies,U),k}catch(k){throw yield dl(S),k}})).apply(this,arguments)}function hl(S,I){return fl.apply(this,arguments)}function fl(){return(fl=(0,L.Z)(function*(S,I){const U={token:yield Eu(S,I),createTime:Date.now(),subscriptionOptions:I};return yield oa(S,U),U.token})).apply(this,arguments)}function Iu(S,I){return Im.apply(this,arguments)}function Im(){return(Im=(0,L.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wu(I)})})).apply(this,arguments)}function Xs(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function ki(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function ps(S,I){if(!I.notification)return;S.notification={};const k=I.notification.title;k&&(S.notification.title=k);const U=I.notification.body;U&&(S.notification.body=U);const te=I.notification.image;te&&(S.notification.image=te)}(I,S),function Fd(S,I){!I.data||(S.data=I.data)}(I,S),function da(S,I){var k,U,te,ce,Ae;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const Ke=null!==(te=null===(U=I.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==te?te:null===(ce=I.notification)||void 0===ce?void 0:ce.click_action;Ke&&(S.fcmOptions.link=Ke);const ft=null===(Ae=I.fcmOptions)||void 0===Ae?void 0:Ae.analytics_label;ft&&(S.fcmOptions.analyticsLabel=ft)}(I,S),I}function ms(S){return"object"==typeof S&&!!S&&pc in S}function Af(S,I){const k=[];for(let U=0;U<S.length;U++)k.push(S.charAt(U)),U<I.length&&k.push(I.charAt(U));return k.join("")}function pl(S){return ot.create("missing-app-config-values",{valueName:S})}Af("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Af("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Am{constructor(I,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function xf(S){if(!S||!S.options)throw pl("App Configuration Object");if(!S.name)throw pl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const U of I)if(!k[U])throw pl(U);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:te,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function ml(S){return gl.apply(this,arguments)}function gl(){return(gl=(0,L.Z)(function*(S){var I;try{S.swRegistration=yield navigator.serviceWorker.register(Od,{scope:zr}),S.swRegistration.update().catch(()=>{})}catch(k){throw ot.create("failed-service-worker-registration",{browserErrorMessage:null===(I=k)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function Au(S,I){return wc.apply(this,arguments)}function wc(){return(wc=(0,L.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield ml(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ot.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function Ld(S,I){return _l.apply(this,arguments)}function _l(){return(_l=(0,L.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=ko)})).apply(this,arguments)}function Vd(){return(Vd=(0,L.Z)(function*(S,I){if(!navigator)throw ot.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ot.create("permission-blocked");return yield Ld(S,I?.vapidKey),yield Au(S,I?.serviceWorkerRegistration),ca(S)})).apply(this,arguments)}function xu(S,I,k){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,L.Z)(function*(S,I,k){const U=ku(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[pc],message_name:k[mc],message_time:k[gc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ku(S){switch(S){case wi.NOTIFICATION_CLICKED:return"notification_open";case wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bd(){return(Bd=(0,L.Z)(function*(S,I){const k=I.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===wi.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ki(k)):S.onMessageHandler.next(ki(k)));const U=k.data;ms(U)&&"1"===U[Sm]&&(yield xu(S,k.messageType,U))})).apply(this,arguments)}const Ou="@firebase/messaging",eo=S=>{const I=new Am(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ru(S,I){return Bd.apply(this,arguments)}(I,k)),I},Dn=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:U=>function Cc(S,I){return Vd.apply(this,arguments)}(I,U)}};function kf(){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,L.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mf(){(0,de._registerComponent)(new ge.wA("messaging",eo,"PUBLIC")),(0,de._registerComponent)(new ge.wA("messaging-internal",Dn,"PRIVATE")),(0,de.registerVersion)(Ou,"0.9.16"),(0,de.registerVersion)(Ou,"0.9.16","esm2017")}();const Hd="analytics",fa="firebase_id",vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pa="https://www.googletagmanager.com/gtag/js",Ri=new ie.Yd("@firebase/analytics");function Pf(S){return Promise.all(S.map(I=>I.catch(k=>k)))}function ey(S,I){const k=document.createElement("script");k.src=`${pa}?l=${S}&id=${I}`,k.async=!0,document.head.appendChild(k)}function Rm(S,I,k,U,te,ce){return ma.apply(this,arguments)}function ma(){return(ma=(0,L.Z)(function*(S,I,k,U,te,ce){const Ae=U[te];try{if(Ae)yield I[Ae];else{const ft=(yield Pf(k)).find(Rt=>Rt.measurementId===te);ft&&(yield I[ft.appId])}}catch(Ke){Ri.error(Ke)}S("config",te,ce)})).apply(this,arguments)}function Om(S,I,k,U,te){return ga.apply(this,arguments)}function ga(){return(ga=(0,L.Z)(function*(S,I,k,U,te){try{let ce=[];if(te&&te.send_to){let Ae=te.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ke=yield Pf(k);for(const ft of Ae){const Rt=Ke.find(gt=>gt.measurementId===ft),Ft=Rt&&I[Rt.appId];if(!Ft){ce=[];break}ce.push(Ft)}}0===ce.length&&(ce=Object.values(I)),yield Promise.all(ce),S("event",U,te||{})}catch(ce){Ri.error(ce)}})).apply(this,arguments)}function Nm(){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(pa))return I;return null}const gs=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nf=new class _s{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Fm(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ys(S){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,L.Z)(function*(S){var I;const{appId:k,apiKey:U}=S,te={method:"GET",headers:Fm(U)},ce=vl.replace("{app-id}",k),Ae=yield fetch(ce,te);if(200!==Ae.status&&304!==Ae.status){let Ke="";try{const ft=yield Ae.json();null!==(I=ft.error)&&void 0!==I&&I.message&&(Ke=ft.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ke})}return Ae.json()})).apply(this,arguments)}function mt(S){return to.apply(this,arguments)}function to(){return(to=(0,L.Z)(function*(S,I=Nf,k){const{appId:U,apiKey:te,measurementId:ce}=S.options;if(!U)throw gs.create("no-app-id");if(!te){if(ce)return{measurementId:ce,appId:U};throw gs.create("no-api-key")}const Ae=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new _a;return setTimeout((0,L.Z)(function*(){Ke.abort()}),void 0!==k?k:6e4),He({appId:U,apiKey:te,measurementId:ce},Ae,Ke,I)})).apply(this,arguments)}function He(S,I,k){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,L.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:k},U,te=Nf){var ce,Ae;const{appId:Ke,measurementId:ft}=S;try{yield no(U,I)}catch(Rt){if(ft)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${null===(ce=Rt)||void 0===ce?void 0:ce.message}]`),{appId:Ke,measurementId:ft};throw Rt}try{const Rt=yield ys(S);return te.deleteThrottleMetadata(Ke),Rt}catch(Rt){const Ft=Rt;if(!Vu(Ft)){if(te.deleteThrottleMetadata(Ke),ft)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:Ke,measurementId:ft};throw Rt}const gt=503===Number(null===(Ae=Ft?.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,le.$s)(k,te.intervalMillis,30):(0,le.$s)(k,te.intervalMillis),ni={throttleEndTimeMillis:Date.now()+gt,backoffCount:k+1};return te.setThrottleMetadata(Ke,ni),Ri.debug(`Calling attemptFetch again in ${gt} millis`),He(S,ni,U,te)}})).apply(this,arguments)}function no(S,I){return new Promise((k,U)=>{const te=Math.max(I-Date.now(),0),ce=setTimeout(k,te);S.addEventListener(()=>{clearTimeout(ce),U(gs.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Vu(S){if(!(S instanceof le.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class _a{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Pn,En;function pn(){return(pn=(0,L.Z)(function*(S,I,k,U,te){if(te&&te.global)S("event",k,U);else{const ce=yield I;S("event",k,Object.assign(Object.assign({},U),{send_to:ce}))}})).apply(this,arguments)}function Ff(S){En=S}function Sc(S){Pn=S}function ve(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,L.Z)(function*(){var S;if(!(0,le.hl)())return Ri.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(I){return Ri.warn(gs.create("indexeddb-unavailable",{errorInfo:null===(S=I)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function cr(){return(cr=(0,L.Z)(function*(S,I,k,U,te,ce,Ae){var Ke;const ft=mt(S);ft.then(nr=>{k[nr.measurementId]=nr.appId,S.options.measurementId&&nr.measurementId!==S.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nr=>Ri.error(nr)),I.push(ft);const Rt=ve().then(nr=>{if(nr)return U.getId()}),[Ft,gt]=yield Promise.all([ft,Rt]);Nm()||ey(ce,Ft.measurementId),En&&(te("consent","default",En),Ff(void 0)),te("js",new Date);const ni=null!==(Ke=Ae?.config)&&void 0!==Ke?Ke:{};return ni.origin="firebase",ni.update=!0,null!=gt&&(ni[fa]=gt),te("config",Ft.measurementId,ni),Pn&&(te("set",Pn),Sc(void 0)),Ft.measurementId})).apply(this,arguments)}class N{constructor(I){this.app=I}_delete(){return delete _r[this.app.options.appId],Promise.resolve()}}let _r={},Gi=[];const it={};let Hu,vs,ro="dataLayer",Jt=!1;function iy(S,I,k){!function Lf(){const S=[];if((0,le.ru)()&&S.push("This is a browser extension environment."),(0,le.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((U,te)=>`(${te+1}) ${U}`).join(" "),k=gs.create("invalid-analytics-context",{errorInfo:I});Ri.warn(k.message)}}();const U=S.options.appId;if(!U)throw gs.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw gs.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_r[U])throw gs.create("already-exists",{id:U});if(!Jt){!function ty(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(ro);const{wrappedGtag:ce,gtagCore:Ae}=function Pm(S,I,k,U,te){let ce=function(...Ae){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(ce=window[te]),window[te]=function Lu(S,I,k,U){function ce(){return(ce=(0,L.Z)(function*(Ae,Ke,ft){try{"event"===Ae?yield Om(S,I,k,Ke,ft):"config"===Ae?yield Rm(S,I,k,U,Ke,ft):"consent"===Ae?S("consent","update",ft):S("set",Ke)}catch(Rt){Ri.error(Rt)}})).apply(this,arguments)}return function te(Ae,Ke,ft){return ce.apply(this,arguments)}}(ce,S,I,k),{gtagCore:ce,wrappedGtag:window[te]}}(_r,Gi,it,ro,"gtag");vs=ce,Hu=Ae,Jt=!0}return _r[U]=function ji(S,I,k,U,te,ce,Ae){return cr.apply(this,arguments)}(S,Gi,it,I,Hu,ro,k),new N(S)}function er(){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,L.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Gd="@firebase/analytics";!function Kr(){(0,de._registerComponent)(new ge.wA(Hd,(I,{options:k})=>iy(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,de._registerComponent)(new ge.wA("analytics-internal",function S(I){try{const k=I.getProvider(Hd).getImmediate();return{logEvent:(U,te,ce)=>function wl(S,I,k,U){S=(0,le.m9)(S),function ei(S,I,k,U,te){return pn.apply(this,arguments)}(vs,_r[S.app.options.appId],I,k,U).catch(te=>Ri.error(te))}(k,U,te,ce)}}catch(k){throw gs.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,de.registerVersion)(Gd,"0.8.0"),(0,de.registerVersion)(Gd,"0.8.0","esm2017")}();var Ac=V(4408),so=V(7565);const ju=new class Ei extends so.v{}(class Ni extends Ac.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,k,U):I.flush(this)}});var Gu=V(4986),xc=V(8505),Fs=V(5363),tr=V(9468);const Mc=new s.GfV("7.4.1"),No="__angularfire_symbol__analyticsIsSupportedValue",Vf="__angularfire_symbol__analyticsIsSupported",bs="__angularfire_symbol__remoteConfigIsSupportedValue",kc="__angularfire_symbol__remoteConfigIsSupported",Rc="__angularfire_symbol__messagingIsSupportedValue",qu="__angularfire_symbol__messagingIsSupported";function Fo(S,I,k){if(I){if(1===I.length)return I[0];const ce=I.filter(Ae=>Ae.app===k);if(1===ce.length)return ce[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[Vf]||(globalThis[Vf]=er().then(S=>globalThis[No]=S).catch(()=>globalThis[No]=!1)),globalThis[qu]||(globalThis[qu]=kf().then(S=>globalThis[Rc]=S).catch(()=>globalThis[Rc]=!1)),globalThis[kc]||(globalThis[kc]=bu().then(S=>globalThis[bs]=S).catch(()=>globalThis[bs]=!1));const $u=(S,I)=>{const k=I?[I]:(0,re.C6)(),U=[];return k.forEach(te=>{te.container.getProvider(S).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function Ls(){}class Lo{constructor(I,k=ju){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,U){const te=this.zone;return this.delegate.schedule(function(Ae){te.runGuarded(()=>{I.apply(this,[Ae])})},k,U)}}class Cl{constructor(I){this.zone=I,this.task=null}call(I,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),k.pipe((0,xc.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bf=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Lo(Zone.current)),this.insideAngular=k.run(()=>new Lo(Zone.current,Gu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function oo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function ao(S){return S.pipe((0,Fs.Q)(oo().outsideAngular))}function va(S){return oo(),function ti(S){return function(k){return(k=k.lift(new Cl(S.ngZone))).pipe((0,tr.R)(S.outsideAngular),(0,Fs.Q)(S.insideAngular))}}(oo())(S)}},2090:(ht,xe,V)=>{V.d(xe,{$s:()=>Mi,BH:()=>Ue,DV:()=>ln,Dv:()=>Ps,G6:()=>ze,GJ:()=>fn,L:()=>me,LL:()=>fe,Mn:()=>Se,Pz:()=>Zt,Sg:()=>ke,UG:()=>we,UI:()=>ks,US:()=>ge,Wj:()=>Hr,Yr:()=>Ge,ZB:()=>z,ZR:()=>be,b$:()=>ut,cI:()=>en,d:()=>Re,dS:()=>tn,eu:()=>De,g5:()=>L,gK:()=>Kn,gQ:()=>ds,h$:()=>ie,hl:()=>Z,hu:()=>re,jU:()=>ye,lb:()=>ea,m9:()=>kr,ne:()=>bt,p$:()=>q,pd:()=>xr,r3:()=>fr,ru:()=>st,tV:()=>_e,uI:()=>lt,ug:()=>Ze,vZ:()=>Ur,w1:()=>Ce,w9:()=>Tn,xO:()=>Rs,xb:()=>Yt,z$:()=>Ee,zI:()=>X,zd:()=>So});const re=function(G,Y){if(!G)throw L(Y)},L=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},de=function(G){const Y=[];let H=0;for(let W=0;W<G.length;W++){let K=G.charCodeAt(W);K<128?Y[H++]=K:K<2048?(Y[H++]=K>>6|192,Y[H++]=63&K|128):55296==(64512&K)&&W+1<G.length&&56320==(64512&G.charCodeAt(W+1))?(K=65536+((1023&K)<<10)+(1023&G.charCodeAt(++W)),Y[H++]=K>>18|240,Y[H++]=K>>12&63|128,Y[H++]=K>>6&63|128,Y[H++]=63&K|128):(Y[H++]=K>>12|224,Y[H++]=K>>6&63|128,Y[H++]=63&K|128)}return Y},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,Y){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let K=0;K<G.length;K+=3){const Me=G[K],Ye=K+1<G.length,pt=Ye?G[K+1]:0,An=K+2<G.length,cn=An?G[K+2]:0;let jt=(15&pt)<<2|cn>>6,Hn=63&cn;An||(Hn=64,Ye||(jt=64)),W.push(H[Me>>2],H[(3&Me)<<4|pt>>4],H[jt],H[Hn])}return W.join("")},encodeString(G,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(G):this.encodeByteArray(de(G),Y)},decodeString(G,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(G):function(G){const Y=[];let H=0,W=0;for(;H<G.length;){const K=G[H++];if(K<128)Y[W++]=String.fromCharCode(K);else if(K>191&&K<224){const Me=G[H++];Y[W++]=String.fromCharCode((31&K)<<6|63&Me)}else if(K>239&&K<365){const An=((7&K)<<18|(63&G[H++])<<12|(63&G[H++])<<6|63&G[H++])-65536;Y[W++]=String.fromCharCode(55296+(An>>10)),Y[W++]=String.fromCharCode(56320+(1023&An))}else{const Me=G[H++],Ye=G[H++];Y[W++]=String.fromCharCode((15&K)<<12|(63&Me)<<6|63&Ye)}}return Y.join("")}(this.decodeStringToByteArray(G,Y))},decodeStringToByteArray(G,Y){this.init_();const H=Y?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let K=0;K<G.length;){const Me=H[G.charAt(K++)],pt=K<G.length?H[G.charAt(K)]:0;++K;const cn=K<G.length?H[G.charAt(K)]:64;++K;const qt=K<G.length?H[G.charAt(K)]:64;if(++K,null==Me||null==pt||null==cn||null==qt)throw Error();W.push(Me<<2|pt>>4),64!==cn&&(W.push(pt<<4&240|cn>>2),64!==qt&&W.push(cn<<6&192|qt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ie=function(G){const Y=de(G);return ge.encodeByteArray(Y,!0)},me=function(G){return ie(G).replace(/\./g,"")},_e=function(G){try{return ge.decodeString(G,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function q(G){return z(void 0,G)}function z(G,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return Y}for(const H in Y)!Y.hasOwnProperty(H)||!ee(H)||(G[H]=z(G[H],Y[H]));return G}function ee(G){return"__proto__"!==G}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,H)=>{this.resolve=Y,this.reject=H})}wrapCallback(Y){return(H,W)=>{H?this.reject(H):this.resolve(W),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(H):Y(H,W))}}}function ke(G,Y){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=Y||"demo-project",K=G.iat||0,Me=G.sub||G.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:K,exp:K+3600,auth_time:K,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},G);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Ye)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function st(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Ee().indexOf("Electron/")>=0}function Ce(){const G=Ee();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Se(){return Ee().indexOf("MSAppHost/")>=0}function Ge(){return!1}function ze(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){return"object"==typeof indexedDB}function De(){return new Promise((G,Y)=>{try{let H=!0;const W="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(W);K.onsuccess=()=>{K.result.close(),H||self.indexedDB.deleteDatabase(W),G(!0)},K.onupgradeneeded=()=>{H=!1},K.onerror=()=>{var Me;Y((null===(Me=K.error)||void 0===Me?void 0:Me.message)||"")}}catch(H){Y(H)}})}function X(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(Y,H,W){super(H),this.code=Y,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(Y,H,W){this.service=Y,this.serviceName=H,this.errors=W}create(Y,...H){const W=H[0]||{},K=`${this.service}/${Y}`,Me=this.errors[Y],Ye=Me?function Ve(G,Y){return G.replace(vt,(H,W)=>{const K=Y[W];return null!=K?String(K):`<${W}?>`})}(Me,W):"Error";return new be(K,`${this.serviceName}: ${Ye} (${K}).`,W)}}const vt=/\{\$([^}]+)}/g;function en(G){return JSON.parse(G)}function Zt(G){return JSON.stringify(G)}const Je=function(G){let Y={},H={},W={},K="";try{const Me=G.split(".");Y=en(_e(Me[0])||""),H=en(_e(Me[1])||""),K=Me[2],W=H.d||{},delete H.d}catch{}return{header:Y,claims:H,data:W,signature:K}},Tn=function(G){const H=Je(G).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},fn=function(G){const Y=Je(G).claims;return"object"==typeof Y&&!0===Y.admin};function fr(G,Y){return Object.prototype.hasOwnProperty.call(G,Y)}function ln(G,Y){if(Object.prototype.hasOwnProperty.call(G,Y))return G[Y]}function Yt(G){for(const Y in G)if(Object.prototype.hasOwnProperty.call(G,Y))return!1;return!0}function ks(G,Y,H){const W={};for(const K in G)Object.prototype.hasOwnProperty.call(G,K)&&(W[K]=Y.call(H,G[K],K,G));return W}function Ur(G,Y){if(G===Y)return!0;const H=Object.keys(G),W=Object.keys(Y);for(const K of H){if(!W.includes(K))return!1;const Me=G[K],Ye=Y[K];if(ar(Me)&&ar(Ye)){if(!Ur(Me,Ye))return!1}else if(Me!==Ye)return!1}for(const K of W)if(!H.includes(K))return!1;return!0}function ar(G){return null!==G&&"object"==typeof G}function Rs(G){const Y=[];for(const[H,W]of Object.entries(G))Array.isArray(W)?W.forEach(K=>{Y.push(encodeURIComponent(H)+"="+encodeURIComponent(K))}):Y.push(encodeURIComponent(H)+"="+encodeURIComponent(W));return Y.length?"&"+Y.join("&"):""}function So(G){const Y={};return G.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[K,Me]=W.split("=");Y[decodeURIComponent(K)]=decodeURIComponent(Me)}}),Y}function xr(G){const Y=G.indexOf("?");if(!Y)return"";const H=G.indexOf("#",Y);return G.substring(Y,H>0?H:void 0)}class ds{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,H){H||(H=0);const W=this.W_;if("string"==typeof Y)for(let qt=0;qt<16;qt++)W[qt]=Y.charCodeAt(H)<<24|Y.charCodeAt(H+1)<<16|Y.charCodeAt(H+2)<<8|Y.charCodeAt(H+3),H+=4;else for(let qt=0;qt<16;qt++)W[qt]=Y[H]<<24|Y[H+1]<<16|Y[H+2]<<8|Y[H+3],H+=4;for(let qt=16;qt<80;qt++){const jt=W[qt-3]^W[qt-8]^W[qt-14]^W[qt-16];W[qt]=4294967295&(jt<<1|jt>>>31)}let cn,Ui,K=this.chain_[0],Me=this.chain_[1],Ye=this.chain_[2],pt=this.chain_[3],An=this.chain_[4];for(let qt=0;qt<80;qt++){qt<40?qt<20?(cn=pt^Me&(Ye^pt),Ui=1518500249):(cn=Me^Ye^pt,Ui=1859775393):qt<60?(cn=Me&Ye|pt&(Me|Ye),Ui=2400959708):(cn=Me^Ye^pt,Ui=3395469782);const jt=(K<<5|K>>>27)+cn+An+Ui+W[qt]&4294967295;An=pt,pt=Ye,Ye=4294967295&(Me<<30|Me>>>2),Me=K,K=jt}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Me&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+pt&4294967295,this.chain_[4]=this.chain_[4]+An&4294967295}update(Y,H){if(null==Y)return;void 0===H&&(H=Y.length);const W=H-this.blockSize;let K=0;const Me=this.buf_;let Ye=this.inbuf_;for(;K<H;){if(0===Ye)for(;K<=W;)this.compress_(Y,K),K+=this.blockSize;if("string"==typeof Y){for(;K<H;)if(Me[Ye]=Y.charCodeAt(K),++Ye,++K,Ye===this.blockSize){this.compress_(Me),Ye=0;break}}else for(;K<H;)if(Me[Ye]=Y[K],++Ye,++K,Ye===this.blockSize){this.compress_(Me),Ye=0;break}}this.inbuf_=Ye,this.total_+=H}digest(){const Y=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&H,H/=256;this.compress_(this.buf_);let W=0;for(let K=0;K<5;K++)for(let Me=24;Me>=0;Me-=8)Y[W]=this.chain_[K]>>Me&255,++W;return Y}}function bt(G,Y){const H=new Mr(G,Y);return H.subscribe.bind(H)}class Mr{constructor(Y,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Y(this)}).catch(W=>{this.error(W)})}next(Y){this.forEachObserver(H=>{H.next(Y)})}error(Y){this.forEachObserver(H=>{H.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,H,W){let K;if(void 0===Y&&void 0===H&&void 0===W)throw new Error("Missing Observer.");K=function $n(G,Y){if("object"!=typeof G||null===G)return!1;for(const H of Y)if(H in G&&"function"==typeof G[H])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:H,complete:W},void 0===K.next&&(K.next=Os),void 0===K.error&&(K.error=Os),void 0===K.complete&&(K.complete=Os);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Me}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Y)}sendOne(Y,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{H(this.observers[Y])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Os(){}const Ps=function(G,Y,H,W){let K;if(W<Y?K="at least "+Y:W>H&&(K=0===H?"none":"no more than "+H),K)throw new Error(G+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+K+".")};function Kn(G,Y){return`${G} failed: ${Y} argument `}function Hr(G,Y,H,W){if((!W||H)&&"function"!=typeof H)throw new Error(Kn(G,Y)+"must be a valid function.")}function ea(G,Y,H,W){if((!W||H)&&("object"!=typeof H||null===H))throw new Error(Kn(G,Y)+"must be a valid context object.")}const tn=function(G){const Y=[];let H=0;for(let W=0;W<G.length;W++){let K=G.charCodeAt(W);if(K>=55296&&K<=56319){const Me=K-55296;W++,re(W<G.length,"Surrogate pair missing trail surrogate."),K=65536+(Me<<10)+(G.charCodeAt(W)-56320)}K<128?Y[H++]=K:K<2048?(Y[H++]=K>>6|192,Y[H++]=63&K|128):K<65536?(Y[H++]=K>>12|224,Y[H++]=K>>6&63|128,Y[H++]=63&K|128):(Y[H++]=K>>18|240,Y[H++]=K>>12&63|128,Y[H++]=K>>6&63|128,Y[H++]=63&K|128)}return Y},Ze=function(G){let Y=0;for(let H=0;H<G.length;H++){const W=G.charCodeAt(H);W<128?Y++:W<2048?Y+=2:W>=55296&&W<=56319?(Y+=4,H++):Y+=3}return Y};function Mi(G,Y=1e3,H=2){const W=Y*Math.pow(H,G),K=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+K)}function kr(G){return G&&G._delegate?G._delegate:G}},2843:(ht,xe,V)=>{var s=V(4650);let re=null;function L(){return re}const ie=new s.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function _e(){return(0,s.LFG)(z)}()},providedIn:"platform"}),n})();const q=new s.OlP("Location Initialized");let z=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ue(){return new z((0,s.LFG)(ie))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ye(){const n=(0,s.LFG)(ie).location;return new ut((0,s.LFG)(me),n&&n.origin||"")}()},providedIn:"root"}),n})();const st=new s.OlP("appBaseHref");let ut=(()=>{class n extends we{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+lt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+lt(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+lt(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(me),s.LFG(st,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends we{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+lt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+lt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(me),s.LFG(st,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ee(ze(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lt(i))}normalize(e){return n.stripTrailingSlash(function Ge(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=lt,n.joinWithSlash=ke,n.stripTrailingSlash=Ee,n.\u0275fac=function(e){return new(e||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return new Ce((0,s.LFG)(we))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}const Z={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var De=(()=>((De=De||{})[De.Decimal=0]="Decimal",De[De.Percent=1]="Percent",De[De.Currency=2]="Currency",De[De.Scientific=3]="Scientific",De))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function Yt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===fe.CurrencyDecimal)return e[s.wAp.NumberSymbols][fe.Decimal];if(t===fe.CurrencyGroup)return e[s.wAp.NumberSymbols][fe.Group]}return i}const We=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bt(n,t,e,i,r){const c=function il(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],c=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],d=c[0],p=c[1]||"";e.posPre=d.substring(0,d.indexOf("#"));for(let w=0;w<p.length;w++){const E=p.charAt(w);"0"===E?e.minFrac=e.maxFrac=w+1:"#"===E?e.maxFrac=w+1:e.posSuf+=E}const y=d.split(",");if(e.gSize=y[1]?y[1].length:0,e.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const w=r.length-e.posPre.length-e.posSuf.length,E=o.indexOf("#");e.negPre=o.substring(0,E).replace(/'/g,""),e.negSuf=o.slice(E+w).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function ks(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,De.Currency),Yt(t,fe.MinusSign));return c.minFrac=function Kn(n){let t;const e=Z[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),c.maxFrac=c.minFrac,function fs(n,t,e,i,r,o,c=!1){let d="",p=!1;if(isFinite(n)){let y=function bi(n){let i,r,o,c,d,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(d=t.length))i=[0],r=1;else{for(d--;"0"===t.charAt(d);)d--;for(r-=o,i=[],c=0;o<=d;o++,c++)i[c]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);c&&(y=function ta(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(y));let w=t.minInt,E=t.minFrac,M=t.maxFrac;if(o){const je=o.match(We);if(null===je)throw new Error(`${o} is not a valid digit info`);const et=je[1],qe=je[3],wt=je[5];null!=et&&(w=Ws(et)),null!=qe&&(E=Ws(qe)),null!=wt?M=Ws(wt):null!=qe&&E>M&&(M=E)}!function rl(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let c=o+n.integerLen,d=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let E=c;E<i.length;E++)i[E]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=o+1),i[0]=0;for(let E=1;E<c;E++)i[E]=0}if(d>=5)if(c-1<0){for(let E=0;E>c;E--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,o);r++)i.push(0);let p=0!==o;const y=t+n.integerLen,w=i.reduceRight(function(E,M,P,F){return F[P]=(M+=E)<10?M:M-10,p&&(0===F[P]&&P>=y?F.pop():p=!1),M>=10?1:0},0);w&&(i.unshift(w),n.integerLen++)}(y,E,M);let P=y.digits,F=y.integerLen;const j=y.exponent;let ne=[];for(p=P.every(je=>!je);F<w;F++)P.unshift(0);for(;F<0;F++)P.unshift(0);F>0?ne=P.splice(F,P.length):(ne=P,P=[0]);const Ne=[];for(P.length>=t.lgSize&&Ne.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)Ne.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&Ne.unshift(P.join("")),d=Ne.join(Yt(e,i)),ne.length&&(d+=Yt(e,r)+ne.join("")),j&&(d+=Yt(e,fe.Exponential)+"+"+j)}else d=Yt(e,fe.Infinity);return d=n<0&&!p?t.negPre+d+t.negSuf:t.posPre+d+t.posSuf,d}(n,c,t,fe.CurrencyGroup,fe.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function Ws(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let na=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class uc{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new uc(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,c),Qn(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Qn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qn(n,t){n.context.$implicit=t.item}let Wt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Rr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){dc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){dc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Rr{constructor(){this.$implicit=null,this.ngIf=null}}function dc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class hc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ns=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Or=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new hc(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Ns,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ia=(()=>{class n{constructor(e,i,r){r._addDefault(new hc(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Ns,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),fc=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function qr(n,t){return new s.vHH(2100,!1)}class W_{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Ks{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const K_=new Ks,Cf=new W_;let yu=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return K_;if((0,s.F4k)(e))return Cf;throw qr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),pc=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,c){if(!function mc(n){return!(null==n||""===n||n!=n)}(e))return null;c=c||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let d=i||this._defaultCurrencyCode;"code"!==r&&(d="symbol"===r||"symbol-narrow"===r?function Os(n,t,e="en"){const i=function Rs(n){return(0,s.cg1)(n)[s.wAp.Currencies]}(e)[n]||Z[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(d,"symbol"===r?"wide":"narrow",c):r);try{return Bt(function gc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),c,d,i,o)}catch(p){throw qr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(s.EJc,16))},n.\u0275pipe=s.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let wi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const On="browser";function Tf(n){return"server"===n}let yc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ci((0,s.LFG)(ie),window)}),n})();class Ci{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function sa(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Du(this.window.history)||Du(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Du(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Js extends class oa extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){re||(re=n)}(new Js)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function $r(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}();return null==e?null:function vc(n){Oo=Oo||document.createElement("a"),Oo.setAttribute("href",n);const t=Oo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function bf(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Oo,ll=null;const ot=new s.OlP("TRANSITION_ID"),Pd=[{provide:s.ip1,useFactory:function Eu(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[ot,ie,s.zs3],multi:!0}];let Tu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const aa=new s.OlP("EventManagerPlugins");let la=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aa),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class cl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Su=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends Su{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Gt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gt))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Gt(n){L().remove(n)}const ul={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ca=/%COMP%/g;function fl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?fl(n,r,e):(r=r.replace(ca,n),e.push(r))}return e}function Iu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xs=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ki(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ms(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Af(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=fl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(la),s.LFG(Ie),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ki{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ul[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(da(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(da(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ul[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ul[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Iu(i)):this.eventManager.addEventListener(t,e,Iu(i))}}function da(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ms extends ki{constructor(t,e,i,r){super(t),this.component=i;const o=fl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function bc(n){return"_ngcontent-%COMP%".replace(ca,n)}(r+"-"+i.id),this.hostAttr=function hl(n){return"_nghost-%COMP%".replace(ca,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Af extends ki{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=fl(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const d=document.createElement("style");d.textContent=o[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xf=(()=>{class n extends cl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const pl=["alt","control","meta","shift"],ml={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Au={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wc=(()=>{class n extends cl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(pl.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),c+=p+".")}),c+=o,0!=i.length||0===o.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function Ld(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&gl.hasOwnProperty(t)&&(t=gl[t]))}return ml[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pl.forEach(o=>{o!=r&&(0,Au[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Bd=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:On},{provide:s.g9A,useValue:function xu(){Js.makeCurrent()},multi:!0},{provide:ie,useFactory:function ku(){return(0,s.RDi)(document),document},deps:[]}]),Ou=new s.OlP(""),Di=[{provide:s.rWj,useClass:class Nd{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],eo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Mu(){return new s.qLn},deps:[]},{provide:aa,useClass:xf,multi:!0,deps:[ie,s.R0b,s.Lbi]},{provide:aa,useClass:wc,multi:!0,deps:[ie]},{provide:Xs,useClass:Xs,deps:[la,Ie,s.AFp]},{provide:s.FYo,useExisting:Xs},{provide:Su,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[ie]},{provide:la,useClass:la,deps:[aa,s.R0b]},{provide:class Hi{},useClass:Tu,deps:[]},[]];let Dn=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:ot,useExisting:s.AFp},Pd]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...eo,...Di],imports:[wi,s.hGG]}),n})(),Pu=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function xm(){return new Pu((0,s.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ec=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Nf),i},providedIn:"root"}),n})(),Nf=(()=>{class n extends Ec{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function _s(n){return new Nf(n.get(ie))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var ys=V(4986),Xn=V(9751),mt=V(8996),to=V(3269);function He(...n){const t=(0,to.yG)(n);return(0,mt.D)(n,t)}var Kt=V(5813),no=V(8189);function _a(...n){return function Vu(){return(0,no.J)(1)}()((0,mt.D)(n,(0,to.yG)(n)))}var Pn=V(4482);function ei(...n){const t=(0,to.yG)(n);return(0,Pn.e)((e,i)=>{(t?_a(n,e,t):_a(n,e)).subscribe(i)})}var pn=V(5403);function Tc(){return(0,Pn.e)((n,t)=>{let e,i=!1;n.subscribe((0,pn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var $e=V(4004);function Bu(n,t,e,i,r){return(o,c)=>{let d=e,p=t,y=0;o.subscribe((0,pn.x)(c,w=>{const E=y++;p=d?n(p,w,E):(d=!0,w),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function Yr(n,t){return(0,Pn.e)(Bu(n,t,arguments.length>=2,!0))}var Wr=V(4671);function io(n,t=Wr.y){return n=n??Uu,(0,Pn.e)((e,i)=>{let r,o=!0;e.subscribe((0,pn.x)(i,c=>{const d=t(c);(o||!n(r,d))&&(o=!1,r=d,i.next(c))}))})}function Uu(n,t){return n===t}function Qt(n,t){return(0,Pn.e)((e,i)=>{let r=0;e.subscribe((0,pn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var it,En=V(2011),Sc=(V(1451),V(3942)),ve=V(5861),Xi=V(9681),ji=V(4859),cr=V(1877),N=V(2090),_r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gi={},ro=ro||{},Ct=_r||self;function Hu(){}function vs(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Jt(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Lf="closure_uid_"+(1e9*Math.random()>>>0),iy=0;function Lm(n,t,e){return n.call.apply(n.bind,arguments)}function ry(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function er(n,t,e){return(er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lm:ry).apply(null,arguments)}function Ic(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ui(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function bl(){this.s=this.s,this.o=this.o}var Oi={};bl.prototype.s=!1,bl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ny(n){return Object.prototype.hasOwnProperty.call(n,Lf)&&n[Lf]||(n[Lf]=++iy)}(this);delete Oi[n]}},bl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jd=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},wl=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function Gd(n){return Array.prototype.concat.apply([],arguments)}function Pi(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Kr(n){return/^[\s\xa0]*$/.test(n)}var Ei,Ac=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ni(n,t){return-1!=n.indexOf(t)}function so(n,t){return n<t?-1:n>t?1:0}e:{var ju=Ct.navigator;if(ju){var Bm=ju.userAgent;if(Bm){Ei=Bm;break e}}Ei=""}function Gu(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function xc(n){const t={};for(const e in n)t[e]=n[e];return t}var Fs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Fs.length;o++)e=Fs[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Mc(n){return Mc[" "](n),n}Mc[" "]=Hu;var Pc,n,Vf=Ni(Ei,"Opera"),bs=Ni(Ei,"Trident")||Ni(Ei,"MSIE"),kc=Ni(Ei,"Edge"),Rc=kc||bs,qu=Ni(Ei,"Gecko")&&!(Ni(Ei.toLowerCase(),"webkit")&&!Ni(Ei,"Edge"))&&!(Ni(Ei,"Trident")||Ni(Ei,"MSIE"))&&!Ni(Ei,"Edge"),Oc=Ni(Ei.toLowerCase(),"webkit")&&!Ni(Ei,"Edge");function Um(){var n=Ct.document;return n?n.documentMode:void 0}e:{var zu="",Fo=(n=Ei,qu?/rv:([^\);]+)(\)|;)/.exec(n):kc?/Edge\/([\d\.]+)/.exec(n):bs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Oc?/WebKit\/(\S+)/.exec(n):Vf?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Fo&&(zu=Fo?Fo[1]:""),bs){var $u=Um();if(null!=$u&&$u>parseFloat(zu)){Pc=String($u);break e}}Pc=zu}var Ls={};var oo=Ct.document&&bs&&(Um()||parseInt(Pc,10))||void 0,qd=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",Hu,t),Ct.removeEventListener("test",Hu,t)}catch{}return n}();function kn(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function ao(n,t){if(kn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(qu){e:{try{Mc(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ya[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ao.Z.h.call(this)}}kn.prototype.h=function(){this.defaultPrevented=!0},ui(ao,kn);var ya={2:"touch",3:"pen",4:"mouse"};ao.prototype.h=function(){ao.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var va="closure_listenable_"+(1e6*Math.random()|0),ti=0;function Uf(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++ti,this.ca=this.fa=!1}function Zu(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function S(n){this.src=n,this.g={},this.h=0}function I(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=jd(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Zu(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function k(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}S.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=k(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new Uf(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),te={};function ce(n,t,e,i,r){if(i&&i.once)return ft(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ce(n,t[o],e,i,r);return null}return e=Vo(e),n&&n[va]?n.N(t,e,Jt(i)?!!i.capture:!!i,r):Ae(n,t,e,!1,i,r)}function Ae(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=Jt(r)?!!r.capture:!!r,d=nr(n);if(d||(n[U]=d=new S(n)),(e=d.add(t,e,i,c,o)).proxy)return e;if(i=function Ke(){var t=ni;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qd||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(gt(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function ft(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ft(n,t[o],e,i,r);return null}return e=Vo(e),n&&n[va]?n.O(t,e,Jt(i)?!!i.capture:!!i,r):Ae(n,t,e,!0,i,r)}function Rt(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Rt(n,t[o],e,i,r);else i=Jt(i)?!!i.capture:!!i,e=Vo(e),n&&n[va]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=k(o=n.g[t],e,i,r))&&(Zu(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=nr(n))&&(t=n.g[t.toString()],n=-1,t&&(n=k(t,e,i,r)),(e=-1<n?t[n]:null)&&Ft(e))}function Ft(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[va])I(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(gt(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=nr(t))?(I(e,n),0==e.h&&(e.src=null,t[U]=null)):Zu(n)}}}function gt(n){return n in te?te[n]:te[n]="on"+n}function ni(n,t){if(n.ca)n=!0;else{t=new ao(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Ft(n),n=e.call(i,t)}return n}function nr(n){return(n=n[U])instanceof S?n:null}var ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(n){return"function"==typeof n?n:(n[ba]||(n[ba]=function(t){return n.handleEvent(t)}),n[ba])}function bn(){bl.call(this),this.i=new S(this),this.P=this,this.I=null}function ii(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new kn(t,n);else if(t instanceof kn)t.target=t.target||n;else{var r=t;tr(t=new kn(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=wa(c,i,!0,t)&&r}if(r=wa(c=t.g=n,i,!0,t)&&r,r=wa(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=wa(c=t.g=e[o],i,!1,t)&&r}function wa(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&I(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}ui(bn,bl),bn.prototype[va]=!0,bn.prototype.removeEventListener=function(n,t,e,i){Rt(this,n,t,e,i)},bn.prototype.M=function(){if(bn.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Zu(e[i]);delete n.g[t],n.h--}}this.I=null},bn.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},bn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Bo=Ct.JSON.stringify;function Uo(){var n=Gm;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Nc,Hf=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Hm,n=>n.reset());class Hm{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function ww(n){Ct.setTimeout(()=>{throw n},0)}function jm(n,t){Nc||function oy(){var n=Ct.Promise.resolve(void 0);Nc=function(){n.then(WE)}}(),Yu||(Nc(),Yu=!0),Gm.add(n,t)}var Yu=!1,Gm=new class Dl{constructor(){this.h=this.g=null}add(t,e){const i=Hf.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function WE(){for(var n;n=Uo();){try{n.h.call(n.g)}catch(e){ww(e)}var t=Hf;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Yu=!1}function zd(n,t){bn.call(this),this.h=n||1,this.g=t||Ct,this.j=er(this.kb,this),this.l=Date.now()}function ay(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function $d(n,t,e){if("function"==typeof n)e&&(n=er(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=er(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ct.setTimeout(n,t||0)}function ly(n){n.g=$d(()=>{n.g=null,n.i&&(n.i=!1,ly(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ui(zd,bn),(it=zd.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ii(this,"tick"),this.da&&(ay(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){zd.Z.M.call(this),ay(this),delete this.g};class cy extends bl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ly(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(n){bl.call(this),this.h=n,this.g={}}ui(El,bl);var Wu=[];function Fc(n,t,e,i){Array.isArray(e)||(e&&(Wu[0]=e.toString()),e=Wu);for(var r=0;r<e.length;r++){var o=ce(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function uy(n){Gu(n.g,function(t,e){this.g.hasOwnProperty(e)&&Ft(t)},n),n.g={}}function jf(){this.g=!0}function Ca(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function hy(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return Bo(e)}catch{return t}}(n,e)+(i?" "+i:"")})}El.prototype.M=function(){El.Z.M.call(this),uy(this)},El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jf.prototype.Aa=function(){this.g=!1},jf.prototype.info=function(){};var Tl={},Sl=null;function Ku(){return Sl=Sl||new bn}function fy(n){kn.call(this,Tl.Ma,n)}function Lc(n){const t=Ku();ii(t,new fy(t,n))}function py(n,t){kn.call(this,Tl.STAT_EVENT,n),this.stat=t}function yr(n){const t=Ku();ii(t,new py(t,n))}function Ho(n,t){kn.call(this,Tl.Na,n),this.size=t}function Vs(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},t)}Tl.Ma="serverreachability",ui(fy,kn),Tl.STAT_EVENT="statevent",ui(py,kn),Tl.Na="timingevent",ui(Ho,kn);var qf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zf(){}function gy(){}zf.prototype.h=null;var $m,Zd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zm(){kn.call(this,"d")}function Da(){kn.call(this,"c")}function $f(){}function Vc(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new El(this),this.P=Zm,this.W=new zd(n=Rc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cw}function Cw(){this.i=null,this.g="",this.h=!1}ui(zm,kn),ui(Da,kn),ui($f,zf),$f.prototype.g=function(){return new XMLHttpRequest},$f.prototype.i=function(){return{}},$m=new $f;var Zm=45e3,Bc={},Yd={};function Qr(n,t,e){n.K=1,n.v=Kf(Bs(t)),n.s=e,n.U=!0,Qu(n,null)}function Qu(n,t){n.F=Date.now(),Zf(n),n.A=Bs(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Jr(e.h,"t",i),n.C=0,e=n.l.H,n.h=new Cw,n.g=Ty(n.l,e?t:null,!n.s),0<n.O&&(n.L=new cy(er(n.Ia,n,n.g),n.O)),Fc(n.V,n.g,"readystatechange",n.gb),t=n.H?xc(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Lc(1),function KE(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),p=0;p<d.length;p++){var y=d[p].split("=");if(1<y.length){var w=y[0];y=y[1];var E=w.split("_");c=2<=E.length&&"type"==E[1]?c+(w+"=")+y+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ym(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Wd(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=_y(n,e),r==Yd){4==t&&(n.o=4,yr(14),i=!1),Ca(n.j,n.m,null,"[Incomplete Response]");break}if(r==Bc){n.o=4,yr(15),Ca(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ca(n.j,n.m,r,null),Hc(n,r)}Ym(n)&&r!=Yd&&r!=Bc&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,yr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),nd(t),t.L=!0,yr(11))):(Ca(n.j,n.m,e,"[Invalid Chunked Response]"),jo(n),Uc(n))}function _y(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Yd:(e=Number(t.substring(e,i)),isNaN(e)?Bc:(i+=1)+e>t.length?Yd:(t=t.substr(i,e),n.C=i+e,t))}function Zf(n){n.Y=Date.now()+n.P,Dw(n,n.P)}function Dw(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vs(er(n.eb,n),t)}function Wm(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Uc(n){0==n.l.G||n.I||Rw(n.l,n)}function jo(n){Wm(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,ay(n.W),uy(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Hc(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Xf(e.i,n)))if(e.I=n.N,!n.J&&Xf(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;ih(e),Xr(e)}ip(e),yr(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Vs(er(e.ab,e),6e3));if(1>=Jf(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else rp(e,11)}else if((n.J||e.g==n)&&ih(e),!Kr(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const w=y[3];null!=w&&(e.ma=w,e.h.info("VER="+e.ma));const E=y[4];null!=E&&(e.za=E,e.h.info("SVER="+e.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const F=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var o=i.i;!o.g&&(Ni(F,"spdy")||Ni(F,"quic")||Ni(F,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(vr(o,o.h),o.h=null))}if(i.D){const j=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.sa=j,qn(i.F,i.D,j))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=Ow(i,i.H?i.la:null,i.W),c.J){tg(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(Wm(d),Zf(d)),i.g=c}else Ey(i);0<e.l.length&&Zc(e)}else"stop"!=y[0]&&"close"!=y[0]||rp(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?rp(e,7):Ti(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Lc(4)}catch{}}function yy(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(vs(n)||"string"==typeof n)wl(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(vs(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function QE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vs(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Ea(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ea)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Kd(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];jc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)jc(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function jc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(it=Vc.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const t=this.L;t&&3==J(n)?t.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const w=J(this.g);var t=this.g.Da();const E=this.g.ba();if(!(3>w)&&(3!=w||Rc||this.g&&(this.h.h||this.g.ga()||he(this.g)))){this.I||4!=w||7==t||Lc(8==t||0>=E?3:2),Wm(this);var e=this.g.ba();this.N=e;t:if(Ym(this)){var i=he(this.g);n="";var r=i.length,o=4==J(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),Uc(this);var c="";break t}this.h.i=new Ct.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function Gf(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kr(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,yr(12),jo(this),Uc(this);break e}Ca(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hc(this,e)}this.U?(Wd(this,w,c),Rc&&this.i&&3==w&&(Fc(this.V,this.W,"tick",this.fb),this.W.start())):(Ca(this.j,this.m,c,null),Hc(this,c)),4==w&&jo(this),this.i&&!this.I&&(4==w?Rw(this.l,this):(this.i=!1,Zf(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),jo(this),Uc(this)}}}catch{}},it.fb=function(){if(this.g){var n=J(this.g),t=this.g.ga();this.C<t.length&&(Wm(this),Wd(this,n,t),this.i&&4!=n&&Zf(this))}},it.cancel=function(){this.I=!0,jo(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dy(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Lc(3),yr(17)),jo(this),this.o=2,Uc(this)):Dw(this,this.Y-n)},(it=Ea.prototype).R=function(){Kd(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},it.T=function(){return Kd(this),this.g.concat()},it.get=function(n,t){return jc(this.h,n)?this.h[n]:t},it.set=function(n,t){jc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},it.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var vy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Il(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Il){this.g=void 0!==t?t:n.g,Qd(this,n.j),this.s=n.s,Gc(this,n.i),Wf(this,n.m),this.l=n.l,t=n.h;var e=new Al;e.i=t.i,t.g&&(e.g=new Ea(t.g),e.h=t.h),di(this,e),this.o=n.o}else n&&(e=String(n).match(vy))?(this.g=!!t,Qd(this,e[1]||"",!0),this.s=Ju(e[2]||""),Gc(this,e[3]||"",!0),Wf(this,e[4]),this.l=Ju(e[5]||"",!0),di(this,e[6]||"",!0),this.o=Ju(e[7]||"")):(this.g=!!t,this.h=new Al(null,this.g))}function Bs(n){return new Il(n)}function Qd(n,t,e){n.j=e?Ju(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Gc(n,t,e){n.i=e?Ju(t,!0):t}function Wf(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function di(n,t,e){t instanceof Al?(n.h=t,function Qm(n,t){t&&!n.j&&(Ta(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Xd(this,i),Jr(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Jd(t,Cy)),n.h=new Al(t,n.g))}function qn(n,t,e){n.h.set(t,e)}function Kf(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ju(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jd(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Ew),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ew(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Il.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Jd(t,wy,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Jd(t,wy,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Jd(e,"/"==e.charAt(0)?Sw:Tw,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Jd(e,zc)),n.join("")};var wy=/[#\/\?@]/g,Tw=/[#\?:]/g,Sw=/[#\?]/g,Cy=/[#\?@]/g,zc=/#/g;function Al(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ta(n){n.g||(n.g=new Ea,n.h=0,n.i&&function Yf(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Xd(n,t){Ta(n),t=lo(n,t),jc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,jc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Kd(n)))}function Km(n,t){return Ta(n),t=lo(n,t),jc(n.g.h,t)}function Jr(n,t,e){Xd(n,t),0<e.length&&(n.i=null,n.g.set(lo(n,t),Pi(e)),n.h+=e.length)}function lo(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Xm(n){this.l=n||eg,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Al.prototype).add=function(n,t){Ta(this),this.i=null,n=lo(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},it.forEach=function(n,t){Ta(this),this.g.forEach(function(e,i){wl(e,function(r){n.call(t,r,i,this)},this)},this)},it.T=function(){Ta(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},it.R=function(n){Ta(this);var t=[];if("string"==typeof n)Km(this,n)&&(t=Gd(t,this.g.get(lo(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=Gd(t,n[e])}return t},it.set=function(n,t){return Ta(this),this.i=null,Km(this,n=lo(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},it.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var eg=10;function Qf(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Jf(n){return n.h?1:n.g?n.g.size:0}function Xf(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function vr(n,t){n.g?n.g.add(t):n.h=t}function tg(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ep(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Pi(n.i)}function Xu(){}function Iw(){this.g=new Xu}function tp(n,t,e){const i=e||"";try{yy(n,function(r,o){let c=r;Jt(r)&&(c=Bo(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Us(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function xl(n){this.l=n.$b||null,this.j=n.ib||!1}function ed(n,t){bn.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=co,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xm.prototype.cancel=function(){if(this.i=ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Xu.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},Xu.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},ui(xl,zf),xl.prototype.g=function(){return new ed(this.l,this.j)},xl.prototype.i=function(n){return function(){return n}}({}),ui(ed,bn);var co=0;function td(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $c(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uo(n)}function uo(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=ed.prototype).open=function(n,t){if(this.readyState!=co)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,uo(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ct).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$c(this)),this.readyState=co},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;td(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?$c(this):uo(this),3==this.readyState&&td(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,$c(this))},it.Ta=function(n){this.g&&(this.response=n,$c(this))},it.ha=function(){this.g&&$c(this)},it.setRequestHeader=function(n,t){this.v.append(n,t)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(ed.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Aw=Ct.JSON.parse;function hi(n){bn.call(this),this.headers=new Ea,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dy,this.K=this.L=!1}ui(hi,bn);var Dy="",xw=/^https?$/i,ng=["POST","PUT"];function v(n){return"content-type"==n.toLowerCase()}function m(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,_(n),x(n)}function _(n){n.D||(n.D=!0,ii(n,"complete"),ii(n,"error"))}function C(n){if(n.h&&typeof ro<"u"&&(!n.C[1]||4!=J(n)||2!=n.ba()))if(n.v&&4==J(n))$d(n.Fa,0,n);else if(ii(n,"readystatechange"),4==J(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(vy)[1]||null;if(!r&&Ct.self&&Ct.self.location){var o=Ct.self.location.protocol;r=o.substr(0,o.length-1)}i=!xw.test(r?r.toLowerCase():"")}e=i}if(e)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var c=2<J(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",_(n)}}finally{x(n)}}}function x(n,t){if(n.g){O(n);const e=n.g,i=n.C[0]?Hu:null;n.g=null,n.C=null,t||ii(n,"ready");try{e.onreadystatechange=i}catch{}}}function O(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function J(n){return n.g?n.g.readyState:0}function he(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Dy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function rt(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function Be(n){let t="";return Gu(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):qn(n,t,e))}function Dt(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function yt(n){this.za=0,this.l=[],this.h=new jf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dt("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dt("baseRetryDelayMs",5e3,n),this.$a=Dt("retryDelaySeedMs",1e4,n),this.Ya=Dt("forwardChannelMaxRetries",2,n),this.ra=Dt("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Xm(n&&n.concurrentRequestLimit),this.Ca=new Iw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ti(n){if(eh(n),3==n.G){var t=n.V++,e=Bs(n.F);qn(e,"SID",n.J),qn(e,"RID",t),qn(e,"TYPE","terminate"),Yc(n,e),(t=new Vc(n,n.h,t,void 0)).K=2,t.v=Kf(Bs(e)),e=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(e=Ct.navigator.sendBeacon(t.v.toString(),"")),!e&&Ct.Image&&((new Image).src=t.v,e=!0),e||(t.g=Ty(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Zf(t)}JE(n)}function Xr(n){n.g&&(nd(n),n.g.cancel(),n.g=null)}function eh(n){Xr(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),ih(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function th(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Zc(n)}function Zc(n){Qf(n.i)||n.m||(n.m=!0,jm(n.Ha,n),n.C=0)}function ig(n,t){var e;e=t?t.m:n.V++;const i=Bs(n.F);qn(i,"SID",n.J),qn(i,"RID",e),qn(i,"AID",n.U),Yc(n,i),n.o&&n.s&&rt(i,n.o,n.s),e=new Vc(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=nh(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),vr(n.i,e),Qr(e,i,t)}function Yc(n,t){n.j&&yy({},function(e,i){qn(t,i,e)})}function nh(n,t,e){e=Math.min(n.l.length,e);var i=n.j?er(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let p=0;p<e;p++){let y=r[p].h;const w=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),d=!1;else try{tp(w,c,"req"+y+"_")}catch{i&&i(w)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function Ey(n){n.g||n.u||(n.Y=1,jm(n.Ga,n),n.A=0)}function ip(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Vs(er(n.Ga,n),YM(n,n.A)),n.A++,0))}function nd(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function kw(n){n.g=new Vc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Bs(n.oa);qn(t,"RID","rpc"),qn(t,"SID",n.J),qn(t,"CI",n.N?"0":"1"),qn(t,"AID",n.U),Yc(n,t),qn(t,"TYPE","xmlhttp"),n.o&&n.s&&rt(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Kf(Bs(t)),e.s=null,e.U=!0,Qu(e,n)}function ih(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function Rw(n,t){var e=null;if(n.g==t){ih(n),nd(n),n.g=null;var i=2}else{if(!Xf(n.i,t))return;e=t.D,tg(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ii(i=Ku(),new Ho(i,e,t,r)),Zc(n)}else Ey(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function np(n,t){return!(Jf(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Vs(er(n.Ha,n,t),YM(n,n.C)),n.C++,0)))}(n,t)||2==i&&ip(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:rp(n,5);break;case 4:rp(n,10);break;case 3:rp(n,6);break;default:rp(n,2)}}function YM(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function rp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=er(n.jb,n);e||(e=new Il("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||Qd(e,"https"),Kf(e)),function ur(n,t){const e=new jf;if(Ct.Image){const i=new Image;i.onload=Ic(Us,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Ic(Us,e,i,"TestLoadImage: error",!1,t),i.onabort=Ic(Us,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ic(Us,e,i,"TestLoadImage: timeout",!1,t),Ct.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else yr(2);n.G=0,n.j&&n.j.va(t),JE(n),eh(n)}function JE(n){n.G=0,n.I=-1,n.j&&((0!=ep(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Pi(n.l),n.l.length=0),n.j.ua())}function Ow(n,t,e){let i=function qc(n){return n instanceof Il?Bs(n):new Il(n,void 0)}(e);if(""!=i.i)t&&Gc(i,t+"."+i.i),Wf(i,i.m);else{const r=Ct.location;i=function by(n,t,e,i){var r=new Il(null,void 0);return n&&Qd(r,n),t&&Gc(r,t),e&&Wf(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Gu(n.aa,function(r,o){qn(i,o,r)}),e=n.sa,(t=n.D)&&e&&qn(i,t,e),qn(i,"VER",n.ma),Yc(n,i),i}function Ty(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hi(e&&n.Ba&&!n.qa?new xl({ib:!0}):n.qa)).L=n.H,t}function Pw(){}function Sy(){if(bs&&!(10<=Number(oo)))throw Error("Environmental error: no available transport.")}function Hs(n,t){bn.call(this),this.g=new yt(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Kr(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kr(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new id(this)}function Iy(n){zm.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function XE(){Da.call(this),this.status=1}function id(n){this.g=n}(it=hi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$m.g(),this.C=function my(n){return n.h||(n.h=n.i())}(this.u?this.u:$m),this.g.onreadystatechange=er(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void m(this,o)}n=e||"";const r=new Ea(this.headers);i&&yy(i,function(o,c){r.set(c,o)}),i=function Vm(n){e:{var t=v;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ct.FormData&&n instanceof Ct.FormData,!(0<=jd(ng,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{O(this),0<this.B&&((this.K=function Mw(n){return bs&&function Lo(){return function No(n){var t=Ls;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Ac(String(Pc)).split("."),e=Ac("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=so(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||so(0==r[2].length,0==o[2].length)||so(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=er(this.pa,this)):this.A=$d(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){m(this,o)}},it.pa=function(){typeof ro<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),x(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),x(this,!0)),hi.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?C(this):this.cb())},it.cb=function(){C(this)},it.ba=function(){try{return 2<J(this)?this.g.status:-1}catch{return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Aw(t)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=yt.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Vc(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=xc(o),tr(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=nh(this,r,t),qn(e=Bs(this.F),"RID",n),qn(e,"CVER",22),this.D&&qn(e,"X-HTTP-Session-Id",this.D),Yc(this,e),this.o&&o&&rt(e,this.o,o),vr(this.i,r),this.Ra&&qn(e,"TYPE","init"),this.ja?(qn(e,"$req",t),qn(e,"SID","null"),r.$=!0,Qr(r,e,null)):Qr(r,e,t),this.G=2}}else 3==this.G&&(n?ig(this,n):0==this.l.length||Qf(this.i)||ig(this))},it.Ga=function(){if(this.u=null,kw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Vs(er(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yr(10),Xr(this),kw(this))},it.ab=function(){null!=this.v&&(this.v=null,Xr(this),ip(this),yr(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),yr(2)):(this.h.info("Failed to ping google.com"),yr(1))},(it=Pw.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},Sy.prototype.g=function(n,t){return new Hs(n,t)},ui(Hs,bn),Hs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),jm(er(n.hb,n,t))),yr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Ow(n,null,n.W),Zc(n)},Hs.prototype.close=function(){Ti(this.g)},Hs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,th(this.g,t)}else this.v?((t={}).__data__=Bo(n),th(this.g,t)):th(this.g,n)},Hs.prototype.M=function(){this.g.j=null,delete this.j,Ti(this.g),delete this.g,Hs.Z.M.call(this)},ui(Iy,zm),ui(XE,Da),ui(id,Pw),id.prototype.xa=function(){ii(this.g,"a")},id.prototype.wa=function(n){ii(this.g,new Iy(n))},id.prototype.va=function(n){ii(this.g,new XE(n))},id.prototype.ua=function(){ii(this.g,"b")},Sy.prototype.createWebChannel=Sy.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,qf.NO_ERROR=0,qf.TIMEOUT=8,qf.HTTP_ERROR=6,qm.COMPLETE="complete",gy.EventType=Zd,Zd.OPEN="a",Zd.CLOSE="b",Zd.ERROR="c",Zd.MESSAGE="d",bn.prototype.listen=bn.prototype.N,hi.prototype.listenOnce=hi.prototype.O,hi.prototype.getLastError=hi.prototype.La,hi.prototype.getLastErrorCode=hi.prototype.Da,hi.prototype.getStatus=hi.prototype.ba,hi.prototype.getResponseJson=hi.prototype.Qa,hi.prototype.getResponseText=hi.prototype.ga,hi.prototype.send=hi.prototype.ea;var rg=Gi.createWebChannelTransport=function(){return new Sy},WM=Gi.getStatEventTarget=function(){return Ku()},Nw=Gi.ErrorCode=qf,KM=Gi.EventType=qm,eT=Gi.Event=Tl,tT=Gi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},QM=Gi.FetchXmlHttpFactory=xl,Ay=Gi.WebChannel=gy,JM=Gi.XhrIo=hi;const xy="@firebase/firestore";class br{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let sp="9.9.1";const rd=new cr.Yd("@firebase/firestore");function My(){return rd.logLevel}function Le(n,...t){if(rd.logLevel<=cr.in.DEBUG){const e=t.map(ky);rd.debug(`Firestore (${sp}): ${n}`,...e)}}function _n(n,...t){if(rd.logLevel<=cr.in.ERROR){const e=t.map(ky);rd.error(`Firestore (${sp}): ${n}`,...e)}}function rh(n,...t){if(rd.logLevel<=cr.in.WARN){const e=t.map(ky);rd.warn(`Firestore (${sp}): ${n}`,...e)}}function ky(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const t=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: `+n;throw _n(t),new Error(t)}function dt(n,t){n||ct()}function tt(n,t){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class nT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(br.UNAUTHENTICATED))}shutdown(){}}class ek{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class rT{constructor(t){this.t=t,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,ve.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt("string"==typeof i.accessToken),new nT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return dt(null===t||"string"==typeof t),new br(t)}}class tk{constructor(t,e,i){this.type="FirstParty",this.user=br.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class nk{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new tk(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ik{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(dt("string"==typeof e.token),this.p=e.token,new sT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class sh{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=rk(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function op(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function oT(n){return n+"\0"}class Si{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Si.fromMillis(Date.now())}static fromDate(t){return Si.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Si(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Si(0,0))}static max(){return new Lt(new Si(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ap{constructor(t,e,i){void 0===e?e=0:e>t.length&&ct(),void 0===i?i=t.length-e:i>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===ap.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ap?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wn extends ap{construct(t,e,i){return new wn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new wn(e)}static emptyPath(){return new wn([])}}const Ml=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends ap{construct(t,e,i){return new Ii(t,e,i)}static isValidIdentifier(t){return Ml.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ii(e)}static emptyPath(){return new Ii([])}}class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(wn.fromString(t))}static fromName(t){return new Qe(wn.fromString(t).popFirst(5))}static empty(){return new Qe(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new wn(t.slice()))}}class Ry{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Oy(n){return n.fields.find(t=>2===t.kind)}function oh(n){return n.fields.filter(t=>2!==t.kind)}Ry.UNKNOWN_ID=-1;class sd{constructor(t,e){this.fieldPath=t,this.kind=e}}class og{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new og(0,ws.min())}}function Fw(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new Si(e+1,0):new Si(e,i));return new ws(r,Qe.empty(),t)}function Py(n){return new ws(n.readTime,n.key,-1)}class ws{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ws(Lt.min(),Qe.empty(),-1)}static max(){return new ws(Lt.max(),Qe.empty(),-1)}}function Ny(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Qe.comparator(n.documentKey,t.documentKey),0!==e?e:Ot(n.largestBatchId,t.largestBatchId))}const sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ah{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function kl(n){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,ve.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==sk)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),Fy.apply(this,arguments)}class ue{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ue((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ue?e:ue.resolve(e)}catch(e){return ue.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ue.reject(e)}static resolve(t){return new ue((e,i)=>{e(t)})}static reject(t){return new ue((e,i)=>{i(t)})}static waitFor(t){return new ue((e,i)=>{let r=0,o=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&e()},p=>i(p))}),c=!0,o===r&&e()})}static or(t){let e=ue.resolve(!1);for(const i of t)e=e.next(r=>r?ue.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ue((i,r)=>{const o=t.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const y=p;e(t[y]).next(w=>{c[y]=w,++d,d===o&&i(c)},w=>r(w))}})}static doWhile(t,e){return new ue((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class lp{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new dr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new ag(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=lg(i.target.error);this.T.reject(new ag(t,r))}}static open(t,e,i,r){try{return new lp(e,t.transaction(r,i))}catch(o){throw new ag(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new ak(e)}}class Sa{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Sa.v((0,N.z$)())&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),lh(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,N.hl)())return!1;if(Sa.S())return!0;const t=(0,N.z$)(),e=Sa.v(t),i=0<e&&e<10,r=Sa.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new ag(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Pe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Pe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new ag(t,d))},o.onupgradeneeded=c=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.P.O(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ve.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.k(t);const p=lp.open(o.db,t,c?"readonly":"readwrite",i),y=r(p).next(w=>(p.R(),w)).catch(w=>(p.abort(w),ue.reject(w))).toPromise();return y.catch(()=>{}),yield p.A,y}catch(p){const y=p,w="FirebaseError"!==y.name&&d<3;if(Le("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),o.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ok{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return lh(this.$.delete())}}class ag extends Pe{constructor(t,e){super(pe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function od(n){return"IndexedDbTransactionError"===n.name}class ak{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),lh(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),lh(this.store.add(t))}get(t){return lh(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),lh(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),lh(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ue((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ue((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,c,d)=>d.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new ue((i,r)=>{e.onerror=o=>{const c=lg(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}G(t,e){const i=[];return new ue((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new ok(d),y=e(d.primaryKey,d.value,p);if(y instanceof ue){const w=y.catch(E=>(p.done(),ue.reject(E)));i.push(w)}p.isDone?r():null===p.U?d.continue():d.continue(p.U)}}).next(()=>ue.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function lh(n){return new ue((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=lg(i.target.error);e(r)}})}let Lw=!1;function lg(n){const t=Sa.v((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lw||(Lw=!0,setTimeout(()=>{throw i},0)),i}}return n}class aT{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Le("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ve.Z)(function*(){e.task=null;try{Le("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){od(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield kl(i)}yield e.Z(1)}))}}class Vw{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,ve.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return ue.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Le("IndexBackiller",`Processing collection: ${c}`),this.nt(t,c,r).next(d=>{r-=d,i.add(c)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.st(r,o)).next(d=>(Le("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=Py(o);Ny(c,i)>0&&(i=c)}),new ws(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class js{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function lT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ad(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Bw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}js.ot=-1;class Nn{constructor(t,e){this.comparator=t,this.root=e||wr.EMPTY}insert(t,e){return new Nn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(t){return new Nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cg(this.root,t,this.comparator,!1)}getReverseIterator(){return new cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cg(this.root,t,this.comparator,!0)}}class cg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??wr.RED,this.left=r??wr.EMPTY,this.right=o??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new wr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return wr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1,wr.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,t,e,i,r){return this}insert(n,t,e){return new wr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(t){this.comparator=t,this.data=new Nn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new lk(this.data.getIterator())}getIteratorFrom(t){return new lk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fn(this.comparator);return e.data=t,e}}class lk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wc(n){return n.hasNext()?n.getNext():void 0}class ho{constructor(t){this.fields=t,t.sort(Ii.comparator)}static empty(){return new ho([])}unionWith(t){let e=new Fn(Ii.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ho(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return op(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ir{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ir(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ir(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const uT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(n){if(dt(!!n),"string"==typeof n){let t=0;const e=uT.exec(n);if(dt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ai(n.seconds),nanos:Ai(n.nanos)}}function Ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ol(n){return"string"==typeof n?ir.fromBase64String(n):ir.fromUint8Array(n)}function cp(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Uw(n){const t=n.mapValue.fields.__previous_value__;return cp(t)?Uw(t):t}function ch(n){const t=Rl(n.mapValue.fields.__local_write_time__.timestampValue);return new Si(t.seconds,t.nanos)}class dT{constructor(t,e,i,r,o,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Ia{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ia&&t.projectId===this.projectId&&t.database===this.database}}function Kc(n){return null==n}function ug(n){return 0===n&&1/n==-1/0}function Hw(n){return"number"==typeof n&&Number.isInteger(n)&&!ug(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ly={nullValue:"NULL_VALUE"};function cd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cp(n)?4:fT(n)?9007199254740991:10:ct()}function Go(n,t){if(n===t)return!0;const e=cd(n);if(e!==cd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ch(n).isEqual(ch(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Rl(i.timestampValue),c=Rl(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ol(n.bytesValue).isEqual(Ol(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ai(i.geoPointValue.latitude)===Ai(r.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ai(i.integerValue)===Ai(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Ai(i.doubleValue),c=Ai(r.doubleValue);return o===c?ug(o)===ug(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return op(n.arrayValue.values||[],t.arrayValue.values||[],Go);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(lT(o)!==lT(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!Go(o[d],c[d])))return!1;return!0}(n,t);default:return ct()}var r}function up(n,t){return void 0!==(n.values||[]).find(e=>Go(e,t))}function uh(n,t){if(n===t)return 0;const e=cd(n),i=cd(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=Ai(r.integerValue||r.doubleValue),d=Ai(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return jw(n.timestampValue,t.timestampValue);case 4:return jw(ch(n),ch(t));case 5:return Ot(n.stringValue,t.stringValue);case 6:return function(r,o){const c=Ol(r),d=Ol(o);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=Ot(c[p],d[p]);if(0!==y)return y}return Ot(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=Ot(Ai(r.latitude),Ai(o.latitude));return 0!==c?c:Ot(Ai(r.longitude),Ai(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let p=0;p<c.length&&p<d.length;++p){const y=uh(c[p],d[p]);if(y)return y}return Ot(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ld.mapValue&&o===ld.mapValue)return 0;if(r===ld.mapValue)return 1;if(o===ld.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=o.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const E=Ot(d[w],y[w]);if(0!==E)return E;const M=uh(c[d[w]],p[y[w]]);if(0!==M)return M}return Ot(d.length,y.length)}(n.mapValue,t.mapValue);default:throw ct()}}function jw(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ot(n,t);const e=Rl(n),i=Rl(t),r=Ot(e.seconds,i.seconds);return 0!==r?r:Ot(e.nanos,i.nanos)}function dp(n){return Vy(n)}function Vy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Rl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ol(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Vy(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Vy(i.fields[d])}`;return o+"}"}(n.mapValue):ct();var t}function dh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Gw(n){return!!n&&"integerValue"in n}function Cs(n){return!!n&&"arrayValue"in n}function hT(n){return!!n&&"nullValue"in n}function qw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function By(n){return!!n&&"mapValue"in n}function dg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ad(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=dg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=dg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function fT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ck(n){return"nullValue"in n?Ly:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dh(Ia.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function pT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dh(Ia.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ld:ct()}function mT(n,t){const e=uh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function gT(n,t){const e=uh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Nr{constructor(t){this.value=t}static empty(){return new Nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!By(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dg(e)}setAll(t){let e=Ii.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=dg(c):r.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());By(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Go(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];By(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ad(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Nr(dg(this.value))}}function Ut(n){const t=[];return ad(n.fields,(e,i)=>{const r=new Ii([e]);if(By(i)){const o=Ut(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new ho(t)}class zn{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new zn(t,0,Lt.min(),Lt.min(),Nr.empty(),0)}static newFoundDocument(t,e,i){return new zn(t,1,e,Lt.min(),i,0)}static newNoDocument(t,e){return new zn(t,2,e,Lt.min(),Nr.empty(),0)}static newUnknownDocument(t,e){return new zn(t,3,e,Lt.min(),Nr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _T{constructor(t,e=null,i=[],r=[],o=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.ut=null}}function zw(n,t=null,e=[],i=[],r=null,o=null,c=null){return new _T(n,t,e,i,r,o,c)}function hh(n){const t=tt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+dp(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Kc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>dp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>dp(i)).join(",")),t.ut=e}return t.ut}function hp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!hk(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Go(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!fk(n.startAt,t.startAt)&&fk(n.endAt,t.endAt)}function Uy(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hg(n,t){return n.filters.filter(e=>e instanceof es&&e.field.isEqual(t))}function yT(n,t,e){let i=Ly,r=!0;for(const o of hg(n,t)){let c=Ly,d=!0;switch(o.op){case"<":case"<=":c=ck(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=Ly}mT({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];mT({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function vT(n,t,e){let i=ld,r=!0;for(const o of hg(n,t)){let c=ld,d=!0;switch(o.op){case">=":case">":c=pT(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=ld}gT({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];gT({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class es extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new bT(t,e,i):"array-contains"===e?new $w(t,i):"in"===e?new Zw(t,i):"not-in"===e?new dk(t,i):"array-contains-any"===e?new oF(t,i):new es(t,e,i)}static ct(t,e,i){return"in"===e?new wT(t,i):new fh(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(uh(e,this.value)):null!==e&&cd(this.value)===cd(e)&&this.at(uh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bT extends es{constructor(t,e,i){super(t,e,i),this.key=Qe.fromName(i.referenceValue)}matches(t){const e=Qe.comparator(t.key,this.key);return this.at(e)}}class wT extends es{constructor(t,e){super(t,"in",e),this.keys=CT(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fh extends es{constructor(t,e){super(t,"not-in",e),this.keys=CT(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function CT(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class $w extends es{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Cs(e)&&up(e.arrayValue,this.value)}}class Zw extends es{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&up(this.value.arrayValue,e)}}class dk extends es{constructor(t,e){super(t,"not-in",e)}matches(t){if(up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!up(this.value.arrayValue,e)}}class oF extends es{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Cs(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>up(this.value.arrayValue,i))}}class ph{constructor(t,e){this.position=t,this.inclusive=e}}class fg{constructor(t,e="asc"){this.field=t,this.dir=e}}function hk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Yw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?Qe.comparator(Qe.fromName(c.referenceValue),e.key):uh(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function fk(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Go(n.position[e],t.position[e]))return!1;return!0}class Qc{constructor(t,e=null,i=[],r=[],o=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.lt=null,this.ft=null}}function mh(n,t,e,i,r,o,c,d){return new Qc(n,t,e,i,r,o,c,d)}function fp(n){return new Qc(n)}function pp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ww(n){for(const t of n.filters)if(t.ht())return t.field;return null}function Hy(n){return null!==n.collectionGroup}function mp(n){const t=tt(n);if(null===t.lt){t.lt=[];const e=Ww(t),i=pp(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new fg(e)),t.lt.push(new fg(Ii.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new fg(Ii.keyField(),o))}}}return t.lt}function qo(n){const t=tt(n);if(!t.ft)if("F"===t.limitType)t.ft=zw(t.path,t.collectionGroup,mp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of mp(t))e.push(new fg(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new ph(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ph(t.startAt.position,t.startAt.inclusive):null;t.ft=zw(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function ET(n,t,e){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function pg(n,t){return hp(qo(n),qo(t))&&n.limitType===t.limitType}function TT(n){return`${hh(qo(n))}|lt:${n.limitType}`}function jy(n){return`Query(target=${function uk(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${dp(i.value)}`;var i}).join(", ")}]`),Kc(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>dp(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>dp(e)).join(",")),`Target(${t})`}(qo(n))}; limitType=${n.limitType})`}function Kw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const d=Yw(r,o,c);return r.inclusive?d<=0:d<0}(e.startAt,mp(e),i)||e.endAt&&!function(r,o,c){const d=Yw(r,o,c);return r.inclusive?d>=0:d>0}(e.endAt,mp(e),i)));var e,i}function Qw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jw(n){return(t,e)=>{let i=!1;for(const r of mp(n)){const o=Xw(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Xw(n,t,e){const i=n.field.isKeyField()?Qe.comparator(t.key,e.key):function(r,o,c){const d=o.data.field(r),p=c.data.field(r);return null!==d&&null!==p?uh(d,p):ct()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}function pk(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ug(t)?"-0":t}}function Gy(n){return{integerValue:""+n}}function ST(n,t){return Hw(t)?Gy(t):pk(n,t)}class eC{constructor(){this._=void 0}}function gp(n,t,e){return n instanceof Jc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Fr?nC(n,t):n instanceof gh?qy(n,t):function(i,r){const o=tC(i,r),c=zy(o)+zy(i._t);return Gw(o)&&Gw(i._t)?Gy(c):pk(i.wt,c)}(n,t)}function IT(n,t,e){return n instanceof Fr?nC(n,t):n instanceof gh?qy(n,t):e}function tC(n,t){return n instanceof Gs?Gw(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Jc extends eC{}class Fr extends eC{constructor(t){super(),this.elements=t}}function nC(n,t){const e=iC(t);for(const i of n.elements)e.some(r=>Go(r,i))||e.push(i);return{arrayValue:{values:e}}}class gh extends eC{constructor(t){super(),this.elements=t}}function qy(n,t){let e=iC(t);for(const i of n.elements)e=e.filter(r=>!Go(r,i));return{arrayValue:{values:e}}}class Gs extends eC{constructor(t,e){super(),this.wt=t,this._t=e}}function zy(n){return Ai(n.integerValue||n.doubleValue)}function iC(n){return Cs(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _h{constructor(t,e){this.field=t,this.transform=e}}class AT{constructor(t,e){this.version=t,this.transformResults=e}}class Fi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class vh{}function $y(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new yp(n.key,Fi.none()):new _p(n.key,n.data,Fi.none());{const e=n.data,i=Nr.empty();let r=new Fn(Ii.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Xc(n.key,i,new ho(r.toArray()),Fi.none())}}function rC(n,t,e){n instanceof _p?function(i,r,o){const c=i.value.clone(),d=sC(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Xc?function(i,r,o){if(!yh(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=sC(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(MT(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function bh(n,t,e,i){return n instanceof _p?function(r,o,c,d){if(!yh(r.precondition,o))return c;const p=r.value.clone(),y=mk(r.fieldTransforms,d,o);return p.setAll(y),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Xc?function(r,o,c,d){if(!yh(r.precondition,o))return c;const p=mk(r.fieldTransforms,d,o),y=o.data;return y.setAll(MT(r)),y.setAll(p),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(c=e,yh(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function lF(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=tC(i.transform,r||null);null!=o&&(null===e&&(e=Nr.empty()),e.set(i.field,o))}return e||null}function xT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&op(e,i,(r,o)=>function aF(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Fr&&i instanceof Fr||e instanceof gh&&i instanceof gh?op(e.elements,i.elements,Go):e instanceof Gs&&i instanceof Gs?Go(e._t,i._t):e instanceof Jc&&i instanceof Jc);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class _p extends vh{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xc extends vh{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function sC(n,t,e){const i=new Map;dt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,d=t.data.field(o.field);i.set(o.field,IT(c,d,e[r]))}return i}function mk(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,gp(o,c,t))}return i}class yp extends vh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kT extends vh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RT{constructor(t){this.count=t}}var qi,yn;function Zy(n){switch(n){default:return ct();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function gk(n){if(void 0===n)return _n("GRPC error has no .code"),pe.UNKNOWN;switch(n){case qi.OK:return pe.OK;case qi.CANCELLED:return pe.CANCELLED;case qi.UNKNOWN:return pe.UNKNOWN;case qi.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case qi.INTERNAL:return pe.INTERNAL;case qi.UNAVAILABLE:return pe.UNAVAILABLE;case qi.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case qi.NOT_FOUND:return pe.NOT_FOUND;case qi.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case qi.ABORTED:return pe.ABORTED;case qi.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case qi.DATA_LOSS:return pe.DATA_LOSS;default:return ct()}}(yn=qi||(qi={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class wh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ad(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Bw(this.inner)}size(){return this.innerSize}}const cF=new Nn(Qe.comparator);function fo(){return cF}const _k=new Nn(Qe.comparator);function Yy(...n){let t=_k;for(const e of n)t=t.insert(e.key,e);return t}function yk(n){let t=_k;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function eu(){return Wy()}function vk(){return Wy()}function Wy(){return new wh(n=>n.toString(),(n,t)=>n.isEqual(t))}const ud=new Nn(Qe.comparator),oC=new Fn(Qe.comparator);function zt(...n){let t=oC;for(const e of n)t=t.add(e);return t}const OT=new Fn(Ot);function vp(){return OT}class bp{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Ch.createSynthesizedTargetChangeForCurrentChange(t,e)),new bp(Lt.min(),i,vp(),fo(),zt())}}class Ch{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Ch(ir.EMPTY_BYTE_STRING,e,zt(),zt(),zt())}}class Ky{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class tu{constructor(t,e){this.targetId=t,this.It=e}}class aC{constructor(t,e,i=ir.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class PT{constructor(){this.Tt=0,this.Et=cC(),this.At=ir.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=zt(),e=zt(),i=zt();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new Ch(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=cC()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class lC{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=fo(),this.Bt=NT(),this.Lt=new Fn(Ot)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(Uy(o))if(0===i){const c=new Qe(o.path);this.Kt(e,c,zn.newNoDocument(c,Lt.min()))}else dt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,c)=>{const d=this.Ht(c);if(d){if(o.current&&Uy(d.target)){const p=new Qe(d.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,zn.newNoDocument(p,t))}o.vt&&(e.set(c,o.St()),o.Dt())}});let i=zt();this.Bt.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ht(p);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.$t.forEach((o,c)=>c.setReadTime(t));const r=new bp(t,e,this.Lt,this.$t,i);return this.$t=fo(),this.Bt=NT(),this.Lt=new Fn(Ot),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new PT,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Fn(Ot),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new PT),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function NT(){return new Nn(Qe.comparator)}function cC(){return new Nn(Qe.comparator)}const bk={asc:"ASCENDING",desc:"DESCENDING"},wk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qy{constructor(t,e){this.databaseId=t,this.dt=e}}function Pl(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jy(n,t){return n.dt?t.toBase64():t.toUint8Array()}function wp(n,t){return Pl(n,t.toTimestamp())}function zi(n){return dt(!!n),Lt.fromTimestamp(function(t){const e=Rl(t);return new Si(e.seconds,e.nanos)}(n))}function Dh(n,t){return(e=n,new wn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function FT(n){const t=wn.fromString(n);return dt(jT(t)),t}function Cp(n,t){return Dh(n.databaseId,t.path)}function Aa(n,t){const e=FT(t);if(e.get(1)!==n.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Qe(ev(e))}function mg(n,t){return Dh(n.databaseId,t)}function Xy(n){const t=FT(n);return 4===t.length?wn.emptyPath():ev(t)}function Dp(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ev(n){return dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function LT(n,t,e){return{name:Cp(n,t),fields:e.value.mapValue.fields}}function Ck(n,t,e){const i=Aa(n,t.name),r=zi(t.updateTime),o=new Nr({mapValue:{fields:t.fields}}),c=zn.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function gg(n,t){let e;if(t instanceof _p)e={update:LT(n,t.key,t.value)};else if(t instanceof yp)e={delete:Cp(n,t.key)};else if(t instanceof Xc)e={update:LT(n,t.key,t.data),updateMask:HT(t.fieldMask)};else{if(!(t instanceof kT))return ct();e={verify:Cp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gs)return{fieldPath:o.field.canonicalString(),increment:c._t};throw ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:wp(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),e;var r}function tv(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Fi.updateTime(zi(r.updateTime)):void 0!==r.exists?Fi.exists(r.exists):Fi.none():Fi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(dt("REQUEST_TIME"===c.setToServerValue),d=new Jc):"appendMissingElements"in c?d=new Fr(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new gh(c.removeAllFromArray.values||[]):"increment"in c?d=new Gs(o,c.increment):ct();const p=Ii.fromServerFormat(c.fieldPath);return new _h(p,d)}(n,r)):[];var r;if(t.update){const r=Aa(n,t.update.name),o=new Nr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new ho((t.updateMask.fieldPaths||[]).map(y=>Ii.fromServerFormat(y)));return new Xc(r,o,c,e,i)}return new _p(r,o,e,i)}if(t.delete){const r=Aa(n,t.delete);return new yp(r,e)}if(t.verify){const r=Aa(n,t.verify);return new kT(r,e)}return ct()}function UT(n,t){return{documents:[mg(n,t.path)]}}function qs(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=mg(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=mg(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(w=>function(E){if("=="===E.op){if(qw(E.value))return{unaryFilter:{field:Eh(E.field),op:"IS_NAN"}};if(hT(E.value))return{unaryFilter:{field:Eh(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(qw(E.value))return{unaryFilter:{field:Eh(E.field),op:"IS_NOT_NAN"}};if(hT(E.value))return{unaryFilter:{field:Eh(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(E.field),op:dC(E.op),value:E.value}}}(w));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:Eh((w=y).field),direction:Sk(w.dir)};var w})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(y=t.limit,n.dt||Kc(y)?y:{value:y});var y,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function uC(n){let t=Xy(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){dt(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=Tk(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new fg(Ep((E=w).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(w){let E;return E="object"==typeof w?w.value:w,Kc(E)?null:E}(e.limit));let p=null;var w;e.startAt&&(p=new ph((w=e.startAt).values||[],!!w.before));let y=null;return e.endAt&&(y=function(w){return new ph(w.values||[],!w.before)}(e.endAt)),mh(t,r,c,o,d,"F",p,y)}function Tk(n){return n?void 0!==n.unaryFilter?[Ak(n)]:void 0!==n.fieldFilter?[Ik(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Tk(t)).reduce((t,e)=>t.concat(e)):ct():[]}function Sk(n){return bk[n]}function dC(n){return wk[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Ep(n){return Ii.fromServerFormat(n.fieldPath)}function Ik(n){return es.create(Ep(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ak(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Ep(n.unaryFilter.field);return es.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Ep(n.unaryFilter.field);return es.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ep(n.unaryFilter.field);return es.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ep(n.unaryFilter.field);return es.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function HT(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ts(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=GT(t)),t=xk(n.get(e),t);return GT(t)}function xk(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function GT(n){return n+"\x01\x01"}function xa(n){const t=n.length;if(dt(t>=2),2===t)return dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&ct(),n.charAt(c+1)){case"\x01":const d=n.substring(o,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ct()}o=c+2}return new wn(i)}const hC=["userId","batchId"];function nv(n,t){return[n,ts(t)]}function Ma(n,t,e){return[n,ts(t),e]}const fC={},Mk=["prefixPath","collectionGroup","readTime","documentId"],kk=["prefixPath","collectionGroup","documentId"],uF=["collectionGroup","readTime","prefixPath","documentId"],qT=["canonicalId","targetId"],Rk=["targetId","path"],Ok=["path","targetId"],Pk=["collectionId","parent"],pC=["indexId","uid"],Nk=["uid","sequenceNumber"],Fk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iv=["indexId","uid","orderedDocumentKey"],mC=["userId","collectionPath","documentId"],Lk=["userId","collectionPath","largestBatchId"],zT=["userId","collectionGroup","largestBatchId"],rv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$T=[...rv,"documentOverlays"],Vk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bk=Vk,gC=[...Bk,"indexConfiguration","indexState","indexEntries"];class ZT extends ah{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Cr(n,t){const e=tt(n);return Sa.N(e.ee,t)}class sv{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&rC(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=bh(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=bh(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=vk();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=e.has(r.key)?null:d;const p=$y(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),zt())}isEqual(t){return this.batchId===t.batchId&&op(this.mutations,t.mutations,(e,i)=>xT(e,i))&&op(this.baseMutations,t.baseMutations,(e,i)=>xT(e,i))}}class ov{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){dt(t.mutations.length===i.length);let r=ud;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new ov(t,e,i,r)}}class av{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nu{constructor(t,e,i,r,o=Lt.min(),c=Lt.min(),d=ir.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new nu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class lv{constructor(t){this.ne=t}}function _g(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Th(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Cp(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Pl(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:ka(t.version)};else{if(!t.isUnknownDocument())return ct();i.unknownDocument={path:e.path.toArray(),version:ka(t.version)}}var r,o;return i}function Th(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function ka(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sh(n){const t=new Si(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function ru(n,t){const e=(t.baseMutations||[]).map(o=>tv(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>tv(n.ne,o)),r=Si.fromMillis(t.localWriteTimeMs);return new sv(t.batchId,r,e,i)}function Tp(n){const t=Sh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Sh(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(dt(1===(r=n.query).documents.length),i=qo(fp(Xy(r.documents[0])))):i=qo(uC(n.query)),new nu(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ir.fromBase64String(n.resumeToken))}function YT(n,t){const e=ka(t.snapshotVersion),i=ka(t.lastLimboFreeSnapshotVersion);let r;r=Uy(t.target)?UT(n.ne,t.target):qs(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hh(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _C(n){const t=uC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ET(t,t.limit,"L"):t}function Ih(n,t){return new av(t.largestBatchId,tv(n.ne,t.overlayMutation))}function WT(n,t){const e=t.path.lastSegment();return[n,ts(t.path.popLast()),e]}function Uk(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:ka(i.readTime),documentKey:ts(i.documentKey.path),largestBatchId:i.largestBatchId}}class Hk{getBundleMetadata(t,e){return jk(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sh(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return jk(t).put({bundleId:(i=e).id,createTime:ka(zi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return KT(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_C(r.bundledQuery),readTime:Sh(r.readTime)};var r})}saveNamedQuery(t,e){return KT(t).put({name:(i=e).name,readTime:ka(zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function jk(n){return Cr(n,"bundles")}function KT(n){return Cr(n,"namedQueries")}class cv{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new cv(t,e.uid||"")}getOverlay(t,e){return yg(t).get(WT(this.userId,e)).next(i=>i?Ih(this.wt,i):null)}getOverlays(t,e){const i=eu();return ue.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const d=new av(e,c);r.push(this.ie(t,d))}),ue.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(ts(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(yg(t).W("collectionPathOverlayIndex",d))}),ue.waitFor(o)}getOverlaysForCollection(t,e,i){const r=eu(),o=ts(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return yg(t).K("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const y=Ih(this.wt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=eu();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return yg(t).J({index:"collectionGroupOverlayIndex",range:d},(p,y,w)=>{const E=Ih(this.wt,y);o.size()<r||E.largestBatchId===c?(o.set(E.getKey(),E),c=E.largestBatchId):w.done()}).next(()=>o)}ie(t,e){return yg(t).put(function(i,r,o){const[c,d,p]=WT(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:gg(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function yg(n){return Cr(n,"documentOverlays")}class Ah{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Ai(t.integerValue));else if("doubleValue"in t){const i=Ai(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),ug(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Ol(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?fT(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):ct()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Qe.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function dF(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function yC(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=dF(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Ah.ye=new Ah;class vC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=yC(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=yC(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Gk{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class bC{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class vg{constructor(){this.Me=new vC,this.Fe=new Gk(this.Me),this.$e=new bC(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class xh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new xh(this.indexId,this.documentKey,this.arrayValue,i)}}function Mh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=QT(n.arrayValue,t.arrayValue),0!==e?e:(e=QT(n.directionalValue,t.directionalValue),0!==e?e:Qe.comparator(n.documentKey,t.documentKey)))}function QT(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class qk{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=Oy(t);if(void 0!==e&&!this.Qe(e))return!1;const i=oh(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],c))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class zk{constructor(){this.ze=new Sp}addToCollectionParentIndex(t,e){return this.ze.add(e),ue.resolve()}getCollectionParents(t,e){return ue.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return ue.resolve()}deleteFieldIndex(t,e){return ue.resolve()}getDocumentsMatchingTarget(t,e){return ue.resolve(null)}getIndexType(t,e){return ue.resolve(0)}getFieldIndexes(t,e){return ue.resolve([])}getNextCollectionGroupToUpdate(t){return ue.resolve(null)}getMinOffset(t,e){return ue.resolve(ws.min())}getMinOffsetFromCollectionGroup(t,e){return ue.resolve(ws.min())}updateCollectionGroup(t,e,i){return ue.resolve()}updateIndexEntries(t,e){return ue.resolve()}}class Sp{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Fn(wn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Fn(wn.comparator)).toArray()}}const Nl=new Uint8Array(0);class hF{constructor(t,e){this.user=t,this.databaseId=e,this.He=new Sp,this.Je=new wh(i=>hh(i),(i,r)=>hp(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:ts(r)};return Ip(t).put(o)}return ue.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[oT(e),""],!1,!0);return Ip(t).K(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(xa(c.parent))}return i})}addFieldIndex(t,e){const i=uv(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=kh(t);return o.next(d=>{c.put(Uk(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=uv(t),r=kh(t),o=bg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=bg(t);let r=!0;const o=new Map;return ue.forEach(this.Ye(e),c=>this.Xe(t,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=zt();const d=[];return ue.forEach(o,(p,y)=>{var w;Le("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${hh(e)}`);const E=function(et,qe){const wt=Oy(qe);if(void 0===wt)return null;for(const xt of hg(et,wt.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(y,p),M=function(et,qe){const wt=new Map;for(const xt of oh(qe))for(const hn of hg(et,xt.fieldPath))switch(hn.op){case"==":case"in":wt.set(xt.fieldPath.canonicalString(),hn.value);break;case"not-in":case"!=":return wt.set(xt.fieldPath.canonicalString(),hn.value),Array.from(wt.values())}return null}(y,p),P=function(et,qe){const wt=[];let xt=!0;for(const hn of oh(qe)){const Bi=0===hn.kind?yT(et,hn.fieldPath,et.startAt):vT(et,hn.fieldPath,et.startAt);wt.push(Bi.value),xt&&(xt=Bi.inclusive)}return new ph(wt,xt)}(y,p),F=function(et,qe){const wt=[];let xt=!0;for(const hn of oh(qe)){const Bi=0===hn.kind?vT(et,hn.fieldPath,et.endAt):yT(et,hn.fieldPath,et.endAt);wt.push(Bi.value),xt&&(xt=Bi.inclusive)}return new ph(wt,xt)}(y,p),j=this.Ze(p,y,P),ne=this.Ze(p,y,F),Ne=this.tn(p,y,M),je=this.en(p.indexId,E,j,P.inclusive,ne,F.inclusive,Ne);return ue.forEach(je,et=>i.j(et,e.limit).next(qe=>{qe.forEach(wt=>{const xt=Qe.fromSegments(wt.documentKey);c.has(xt)||(c=c.add(xt),d.push(xt))})}))}).next(()=>d)}return ue.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,o.length),y=p/(null!=e?e.length:1),w=[];for(let E=0;E<p;++E){const M=e?this.nn(e[E/y]):Nl,P=this.sn(t,M,i[E%y],r),F=this.rn(t,M,o[E%y],c),j=d.map(ne=>this.sn(t,M,ne,!0));w.push(...this.createRange(P,F,j))}return w}sn(t,e,i,r){const o=new xh(t,Qe.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new xh(t,Qe.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new qk(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const d of o)i.Ge(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return ue.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(c){let d=new Fn(Ii.comparator),p=!1;for(const y of c.filters){const w=y;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:d=d.add(w.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new vg;for(const r of oh(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Be(r.kind);Ah.ye.re(o,c)}return i.Oe()}nn(t){const e=new vg;return Ah.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new vg;return Ah.ye.re(dh(this.databaseId,e),i.Be(function(r){const o=oh(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new vg);let o=0;for(const c of oh(t)){const d=i[o++];for(const p of r)if(this.cn(e,c.fieldPath)&&Cs(d))r=this.an(r,c,d);else{const y=p.Be(c.kind);Ah.ye.re(d,y)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new vg;p.seed(d.Oe()),Ah.ye.re(c,p.Be(e.kind)),o.push(p)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof es&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=uv(t),r=kh(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const c=[];return ue.forEach(o,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(y,w){const E=w?new og(w.sequenceNumber,new ws(Sh(w.readTime),new Qe(xa(w.documentKey)),w.largestBatchId)):og.empty(),M=y.fields.map(([P,F])=>new sd(Ii.fromServerFormat(P),F));return new Ry(y.indexId,y.collectionGroup,M,E)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ot(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=uv(t),o=kh(t);return this.ln(t).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>ue.forEach(d,p=>o.put(Uk(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ue.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ue.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ue.forEach(d,p=>this.fn(t,r,p).next(y=>{const w=this.dn(o,p);return y.isEqual(w)?ue.resolve():this._n(t,o,p,y,w)}))))})}wn(t,e,i,r){return bg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return bg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=bg(t);let o=new Fn(Mh);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(c,d)=>{o=o.add(new xh(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}dn(t,e){let i=new Fn(Mh);const r=this.on(e,t);if(null==r)return i;const o=Oy(e);if(null!=o){const c=t.data.field(o.fieldPath);if(Cs(c))for(const d of c.arrayValue.values||[])i=i.add(new xh(e.indexId,t.key,this.nn(d),r))}else i=i.add(new xh(e.indexId,t.key,Nl,r));return i}_n(t,e,i,r,o){Le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,y,w,E){const M=d.getIterator(),P=p.getIterator();let F=Wc(M),j=Wc(P);for(;F||j;){let ne=!1,Ne=!1;if(F&&j){const je=y(F,j);je<0?Ne=!0:je>0&&(ne=!0)}else null!=F?Ne=!0:ne=!0;ne?(w(j),j=Wc(P)):Ne?(E(F),F=Wc(M)):(F=Wc(M),j=Wc(P))}}(r,o,Mh,d=>{c.push(this.wn(t,e,i,d))},d=>{c.push(this.mn(t,e,i,d))}),ue.waitFor(c)}ln(t){let e=1;return kh(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Mh(c,d)).filter((c,d,p)=>!d||0!==Mh(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=Mh(c,t),p=Mh(c,e);if(0===d)r[0]=t.Le();else if(d>0&&p<0)r.push(c),r.push(c.Le());else if(p>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Nl,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Nl,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(JT)}getMinOffset(t,e){return ue.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||ct())).next(JT)}}function Ip(n){return Cr(n,"collectionParents")}function bg(n){return Cr(n,"indexEntries")}function uv(n){return Cr(n,"indexConfiguration")}function kh(n){return Cr(n,"indexState")}function JT(n){dt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Ny(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ws(t.readTime,t.documentKey,e)}const Ra={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Dr(t,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lr(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.J({range:c},(w,E,M)=>(d++,M.delete()));o.push(p.next(()=>{dt(1===d)}));const y=[];for(const w of e.mutations){const E=Ma(t,w.key.path,e.batchId);o.push(r.delete(E)),y.push(w.key)}return ue.waitFor(o).next(()=>y)}function Fl(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ct();t=n.noDocument}return JSON.stringify(t).length}Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);class Rh{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){dt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Rh(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ll(t).J({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Oa(t),c=Ll(t);return c.add({}).next(d=>{dt("number"==typeof d);const p=new sv(d,e,i,r),y=function(M,P,F){const j=F.baseMutations.map(Ne=>gg(M.ne,Ne)),ne=F.mutations.map(Ne=>gg(M.ne,Ne));return{userId:P,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:j,mutations:ne}}(this.wt,this.userId,p),w=[];let E=new Fn((M,P)=>Ot(M.canonicalString(),P.canonicalString()));for(const M of r){const P=Ma(this.userId,M.key.path,d);E=E.add(M.key.path.popLast()),w.push(c.put(y)),w.push(o.put(P,fC))}return E.forEach(M=>{w.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.gn[d]=p.keys()}),ue.waitFor(w).next(()=>p)})}lookupMutationBatch(t,e){return Ll(t).get(e).next(i=>i?(dt(i.userId===this.userId),ru(this.wt,i)):null)}yn(t,e){return this.gn[e]?ue.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ll(t).J({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(dt(d.batchId>=i),o=ru(this.wt,d)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ll(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ll(t).K("userMutationsIndex",e).next(i=>i.map(r=>ru(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=nv(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Oa(t).J({range:r},(c,d,p)=>{const[y,w,E]=c,M=xa(w);if(y===this.userId&&e.path.isEqual(M))return Ll(t).get(E).next(P=>{if(!P)throw ct();dt(P.userId===this.userId),o.push(ru(this.wt,P))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fn(Ot);const r=[];return e.forEach(o=>{const c=nv(this.userId,o.path),d=IDBKeyRange.lowerBound(c),p=Oa(t).J({range:d},(y,w,E)=>{const[M,P,F]=y,j=xa(P);M===this.userId&&o.path.isEqual(j)?i=i.add(F):E.done()});r.push(p)}),ue.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=nv(this.userId,i),c=IDBKeyRange.lowerBound(o);let d=new Fn(Ot);return Oa(t).J({range:c},(p,y,w)=>{const[E,M,P]=p,F=xa(M);E===this.userId&&i.isPrefixOf(F)?F.length===r&&(d=d.add(P)):w.done()}).next(()=>this.pn(t,d))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Ll(t).get(o).next(c=>{if(null===c)throw ct();dt(c.userId===this.userId),i.push(ru(this.wt,c))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Lr(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Oa(t).J({range:i},(o,c,d)=>{if(o[0]===this.userId){const p=xa(o[1]);r.push(p)}else d.done()}).next(()=>{dt(0===r.length)})})}containsKey(t,e){return po(t,this.userId,e)}Tn(t){return Oh(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function po(n,t,e){const i=nv(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return Oa(n).J({range:o,H:!0},(d,p,y)=>{const[w,E,M]=d;w===t&&E===r&&(c=!0),y.done()}).next(()=>c)}function Ll(n){return Cr(n,"mutations")}function Oa(n){return Cr(n,"documentMutations")}function Oh(n){return Cr(n,"mutationQueues")}class zo{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new zo(0)}static Rn(){return new zo(-1)}}class Ap{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new zo(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Lt.fromTimestamp(new Si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Pa(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(dt(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Pa(t).J((c,d)=>{const p=Tp(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>ue.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Pa(t).J((i,r)=>{const o=Tp(r);e(o)})}bn(t){return Ph(t).get("targetGlobalKey").next(e=>(dt(null!==e),e))}Pn(t,e){return Ph(t).put("targetGlobalKey",e)}vn(t,e){return Pa(t).put(YT(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=hh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Pa(t).J({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const y=Tp(d);hp(e,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=mo(t);return e.forEach(c=>{const d=ts(c.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),ue.waitFor(r)}removeMatchingKeys(t,e,i){const r=mo(t);return ue.forEach(e,o=>{const c=ts(o.path);return ue.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=mo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=mo(t);let o=zt();return r.J({range:i,H:!0},(c,d,p)=>{const y=xa(c[1]),w=new Qe(y);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=ts(e.path),r=IDBKeyRange.bound([i],[oT(i)],!1,!0);let o=0;return mo(t).J({index:"documentTargetsIndex",H:!0,range:r},([c,d],p,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}te(t,e){return Pa(t).get(e).next(i=>i?Tp(i):null)}}function Pa(n){return Cr(n,"targets")}function Ph(n){return Cr(n,"targetGlobal")}function mo(n){return Cr(n,"targetDocuments")}function Nh([n,t],[e,i]){const r=Ot(n,e);return 0===r?Ot(t,i):r}class xp{constructor(t){this.Sn=t,this.buffer=new Fn(Nh),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Nh(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XT{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ve.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){od(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield kl(i)}yield e.kn(3e5)}))}}class eS{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ue.resolve(js.ot);const i=new xp(e);return this.On.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Ra)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ra):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,r,o,c,d,p,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(y=Date.now(),My()<=cr.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(p-d)+`ms\n\tRemoved ${E} documents in `+(y-p)+`ms\nTotal Duration: ${y-w}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:E})))}}class tS{constructor(t,e){this.db=t,this.garbageCollector=new eS(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return wg(t,i)}removeReference(t,e,i){return wg(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return wg(t,e)}Un(t,e){return function(i,r){let o=!1;return Oh(i).Y(c=>po(i,c,r).next(d=>(d&&(o=!0),ue.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(c,d)=>{if(d<=e){const p=this.Un(t,c).next(y=>{if(!y)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Lt.min()),mo(t).delete([0,ts(c.path)])))});r.push(p)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return wg(t,e)}Ln(t,e){const i=mo(t);let r,o=js.ot;return i.J({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:y})=>{0===c?(o!==js.ot&&e(new Qe(xa(r)),o),o=y,r=p):o=js.ot}).next(()=>{o!==js.ot&&e(new Qe(xa(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function wg(n,t){return mo(n).put((i=n.currentSequenceNumber,{targetId:0,path:ts(t.path),sequenceNumber:i}));var i}class wC{constructor(){this.changes=new wh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,zn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ue.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nS{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Fh(t).put(i)}removeEntry(t,e,i){return Fh(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Th(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=zn.newInvalidDocument(e);return Fh(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cg(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:zn.newInvalidDocument(e)};return Fh(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cg(e))},(r,o)=>{i={document:this.Kn(e,o),size:Fl(o)}}).next(()=>i)}getEntries(t,e){let i=fo();return this.Qn(t,e,(r,o)=>{const c=this.Kn(r,o);i=i.insert(r,c)}).next(()=>i)}jn(t,e){let i=fo(),r=new Nn(Qe.comparator);return this.Qn(t,e,(o,c)=>{const d=this.Kn(o,c);i=i.insert(o,d),r=r.insert(o,Fl(c))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return ue.resolve();let r=new Fn(EC);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(Cg(r.first()),Cg(r.last())),c=r.getIterator();let d=c.getNext();return Fh(t).J({index:"documentKeyIndex",range:o},(p,y,w)=>{const E=Qe.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&EC(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?w.q(Cg(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Th(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fh(t).K(IDBKeyRange.bound(r,o,!0)).next(c=>{let d=fo();for(const p of c){const y=this.Kn(Qe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(t,e,i,r){let o=fo();const c=rS(e,i),d=rS(e,ws.max());return Fh(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,y,w)=>{const E=this.Kn(Qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(E.key,E),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(t){return new iS(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return DC(t).get("remoteDocumentGlobalKey").next(e=>(dt(!!e),e))}qn(t,e){return DC(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function iu(n,t){let e;if(t.document)e=Ck(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Qe.fromSegments(t.noDocument.path),r=Sh(t.noDocument.readTime);e=zn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ct();{const i=Qe.fromSegments(t.unknownDocument.path),r=Sh(t.unknownDocument.version);e=zn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Si(i[0],i[1]);return Lt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return zn.newInvalidDocument(t)}}function CC(n){return new nS(n)}class iS extends wC{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new wh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Fn((o,c)=>Ot(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,d.readTime)),c.isValidDocument()){const p=_g(this.zn.wt,c);r=r.add(o.path.popLast()),i+=Fl(p)-d.size,e.push(this.zn.addEntry(t,o,p))}else if(i-=d.size,this.trackRemovals){const p=_g(this.zn.wt,c.convertToNoDocument(Lt.min()));e.push(this.zn.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),ue.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,c)=>{this.Hn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function DC(n){return Cr(n,"remoteDocumentGlobal")}function Fh(n){return Cr(n,"remoteDocumentsV14")}function Cg(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rS(n,t){const e=t.documentKey.path.toArray();return[n,Th(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function EC(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Ot(e[o],i[o]),r)return r;return r=Ot(e.length,i.length),r||(r=Ot(e[e.length-2],i[i.length-2]),r||Ot(e[e.length-1],i[i.length-1]))}class $k{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class TC{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&bh(i.mutation,r,ho.empty(),Si.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,zt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=zt()){const r=eu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=Yy();return o.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=eu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,zt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let o=fo();const c=Wy(),d=Wy();return e.forEach((p,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof Xc)?o=o.insert(y.key,y):void 0!==w&&(c.set(y.key,w.mutation.getFieldMask()),bh(w.mutation,y,w.mutation.getFieldMask(),Si.now()))}),this.recalculateAndSaveOverlays(t,o).next(p=>(p.forEach((y,w)=>c.set(y,w)),e.forEach((y,w)=>{var E;return d.set(y,new $k(w,null!==(E=c.get(y))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Wy();let r=new Nn((c,d)=>c-d),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=e.get(p);if(null===y)return;let w=i.get(p)||ho.empty();w=d.applyToLocalView(y,w),i.set(p,w);const E=(r.get(d.batchId)||zt()).add(p);r=r.insert(d.batchId,E)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,E=vk();w.forEach(M=>{if(!o.has(M)){const P=$y(e.get(M),i.get(M));null!==P&&E.set(M,P),o=o.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,E))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Hy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ue.resolve(eu());let d=-1,p=o;return c.next(y=>ue.forEach(y,(w,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),o.get(w)?ue.resolve():this.getBaseDocument(t,w,E).next(M=>{p=p.insert(w,M)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,p,y,zt())).next(w=>({batchId:d,changes:yk(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Qe(e)).next(i=>{let r=Yy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Yy();return this.indexManager.getCollectionParents(t,r).next(c=>ue.forEach(c,d=>{const p=(y=e,w=d.child(r),new Qc(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(y=>{y.forEach((w,E)=>{o=o.insert(w,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((d,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,zn.newInvalidDocument(y)))});let c=Yy();return r.forEach((d,p)=>{const y=o.get(d);void 0!==y&&bh(y.mutation,p,ho.empty(),Si.now()),Kw(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ue.resolve(zn.newInvalidDocument(e))}}class SC{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return ue.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:zi(i.createTime)}),ue.resolve()}getNamedQuery(t,e){return ue.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:_C(i.bundledQuery),readTime:zi(i.readTime)}),ue.resolve();var i}}class IC{constructor(){this.overlays=new Nn(Qe.comparator),this.Xn=new Map}getOverlay(t,e){return ue.resolve(this.overlays.get(e))}getOverlays(t,e){const i=eu();return ue.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),ue.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),ue.resolve()}getOverlaysForCollection(t,e,i){const r=eu(),o=e.length+1,c=new Qe(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ue.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Nn((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let w=o.get(y.largestBatchId);null===w&&(w=eu(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=eu(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=r)););return ue.resolve(d)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new av(e,i));let o=this.Xn.get(e);void 0===o&&(o=zt(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class AC{constructor(){this.Zn=new Fn($i.ts),this.es=new Fn($i.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new $i(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new $i(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Qe(new wn([])),i=new $i(e,t),r=new $i(e,t+1),o=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),o.push(c.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Qe(new wn([])),i=new $i(e,t),r=new $i(e,t+1);let o=zt();return this.es.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new $i(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class $i{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Qe.comparator(t.key,e.key)||Ot(t.ls,e.ls)}static ns(t,e){return Ot(t.ls,e.ls)||Qe.comparator(t.key,e.key)}}class dv{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Fn($i.ts)}checkEmpty(t){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const c=new sv(o,e,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new $i(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(t,e){return ue.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $i(e,0),r=new $i(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);o.push(d)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fn(Ot);return e.forEach(r=>{const o=new $i(r,0),c=new $i(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,c],d=>{i=i.add(d.ls)})}),ue.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Qe.isDocumentKey(o)||(o=o.child(""));const c=new $i(new Qe(o),0);let d=new Fn(Ot);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(p.ls)),!0)},c),ue.resolve(this.gs(d))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){dt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return ue.forEach(e.mutations,r=>{const o=new $i(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new $i(e,0),r=this.ds.firstAfterOrEqual(i);return ue.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ue.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xC{constructor(t){this.ps=t,this.docs=new Nn(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ue.resolve(i?i.document.mutableCopy():zn.newInvalidDocument(e))}getEntries(t,e){let i=fo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():zn.newInvalidDocument(r))}),ue.resolve(i)}getAllFromCollection(t,e,i){let r=fo();const o=new Qe(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||Ny(Py(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return ue.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ct()}Is(t,e){return ue.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Zk(this)}getSize(t){return ue.resolve(this.size)}}class Zk extends wC{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),ue.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class hv{constructor(t){this.persistence=t,this.Ts=new wh(e=>hh(e),hp),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Es=0,this.As=new AC,this.targetCount=0,this.Rs=zo.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),ue.resolve()}getLastRemoteSnapshotVersion(t){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ue.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),ue.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new zo(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,ue.resolve()}updateTargetData(t,e){return this.vn(e),ue.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,ue.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Ts.delete(c),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),ue.waitFor(o).next(()=>r)}getTargetCount(t){return ue.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return ue.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),ue.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ue.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),ue.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return ue.resolve(i)}containsKey(t,e){return ue.resolve(this.As.containsKey(e))}}class Dg{constructor(t,e){this.bs={},this.overlays={},this.Ps=new js(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new hv(this),this.indexManager=new zk,this.remoteDocumentCache=new xC(i=>this.referenceDelegate.Ss(i)),this.wt=new lv(e),this.Ds=new SC(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new IC,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new dv(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new MC(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return ue.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class MC extends ah{constructor(t){super(),this.currentSequenceNumber=t}}class Eg{constructor(t){this.persistence=t,this.ks=new AC,this.Os=null}static Ms(t){return new Eg(t)}get Fs(){if(this.Os)return this.Os;throw ct()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),ue.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),ue.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Fs,i=>{const r=Qe.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,Lt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return ue.or([()=>ue.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class kC{constructor(t){this.wt=t}O(t,e,i,r){const o=new lp("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hC,{unique:!0}),d.createObjectStore("documentMutations"),RC(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),RC(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").K().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hC,{unique:!0});const w=p.store("mutations"),E=y.map(M=>w.put(M));return ue.waitFor(E)})}(t,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(o))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(c=c.next(()=>this.Us(o))),i<8&&r>=8&&(c=c.next(()=>this.qs(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(o))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:mC});p.createIndex("collectionPathOverlayIndex",Lk,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",zT,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:Mk});p.createIndex("documentKeyIndex",kk),p.createIndex("collectionGroupIndex",uF)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(t,o))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:pC}).createIndex("sequenceNumberIndex",Nk,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:Fk}).createIndex("documentKeyIndex",iv,{unique:!1})}(t))),c}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=Fl(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>ue.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(d=>ue.forEach(d,p=>{dt(p.userId===o.userId);const y=ru(this.wt,p);return Lr(t,o.userId,y).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((c,d)=>{const p=new wn(c),y=[0,ts(p)];o.push(e.get(y).next(w=>w?ue.resolve():e.put({targetId:0,path:ts(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:Pk});const i=e.store("collectionParents"),r=new Sp,o=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:ts(p)})}};return e.store("remoteDocuments").J({H:!0},(c,d)=>{const p=new wn(c);return o(p.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([c,d,p],y)=>{const w=xa(d);return o(w.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=Tp(r),c=YT(this.wt,o);return e.put(c)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,c)=>{const d=e.store("remoteDocumentsV14"),p=(y=c,y.document?new Qe(wn.fromString(y.document.name).popFirst(5)):y.noDocument?Qe.fromSegments(y.noDocument.path):y.unknownDocument?Qe.fromSegments(y.unknownDocument.path):ct()).path.toArray();var y;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(w))}).next(()=>ue.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=CC(this.wt),o=new Dg(Eg.Ms,this.wt.ne);return i.K().next(c=>{const d=new Map;return c.forEach(p=>{var y;let w=null!==(y=d.get(p.userId))&&void 0!==y?y:zt();ru(this.wt,p).keys().forEach(E=>w=w.add(E)),d.set(p.userId,w)}),ue.forEach(d,(p,y)=>{const w=new br(y),E=cv.se(this.wt,w),M=o.getIndexManager(w),P=Rh.se(w,this.wt,M,o.referenceDelegate);return new TC(r,P,E,M).recalculateAndSaveOverlaysForDocumentKeys(new ZT(e,js.ot),p).next()})})}}function RC(n){n.createObjectStore("targetDocuments",{keyPath:Rk}).createIndex("documentTargetsIndex",Ok,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qT,{unique:!0}),n.createObjectStore("targetGlobal")}const fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tg{constructor(t,e,i,r,o,c,d,p,y,w,E=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=c,this.document=d,this.Ws=y,this.zs=w,this.Hs=E,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=M=>Promise.resolve(),!Tg.V())throw new Pe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tS(this,r),this.ei=e+"main",this.wt=new lv(p),this.ni=new Sa(this.ei,this.Hs,new kC(this.wt)),this.Vs=new Ap(this.referenceDelegate,this.wt),this.remoteDocumentCache=CC(this.wt),this.Ds=new Hk,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===w&&_n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,fv);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new js(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>pv(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(od(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Lh(t).get("owner").next(e=>ue.resolve(this.di(e)))}_i(t){return pv(t).delete(this.clientId)}wi(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Cr(i,"clientMetadata");return r.K().next(o=>{const c=t.gi(o,18e5),d=o.filter(p=>-1===c.indexOf(p));return ue.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?ue.resolve(!0):Lh(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,fv);return!1}}return!(!this.networkEnabled||!this.inForeground)||pv(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new ZT(e,js.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>pv(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return Rh.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new hF(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return cv.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Le("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.Hs)?gC:14===c?Bk:13===c?Vk:12===c?$T:11===c?rv:void ct();var c;let d;return this.ni.runTransaction(t,r,o,p=>(d=new ZT(p,this.Ps?this.Ps.next():js.ot),"readwrite-primary"===e?this.ai(d).next(y=>!!y||this.hi(d)).next(y=>{if(!y)throw _n(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Pe(pe.FAILED_PRECONDITION,sk);return i(d)}).next(y=>this.fi(d).next(()=>y)):this.bi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}bi(t){return Lh(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Pe(pe.FAILED_PRECONDITION,fv)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lh(t).put("owner",e)}static V(){return Sa.V()}li(t){const e=Lh(t);return e.get("owner").next(i=>this.di(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ue.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(_n(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return _n("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){_n("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Lh(n){return Cr(n,"owner")}function pv(n){return Cr(n,"clientMetadata")}function mv(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class gv{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=zt(),r=zt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new gv(t,e.fromCache,i,r)}}class OC{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){return ue.resolve(null)}xi(t,e,i,r){return function DT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Lt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const c=this.ki(e,o);return this.Oi(e,c,i,r)?this.Ni(t,e):(My()<=cr.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jy(e)),this.Mi(t,c,e,Fw(r,-1)))})}ki(t,e){let i=new Fn(Jw(t));return e.forEach((r,o)=>{Kw(t,o)&&(i=i.add(o))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return My()<=cr.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",jy(e)),this.Di.getDocumentsMatchingQuery(t,e,ws.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class sS{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new Nn(Ot),this.Bi=new wh(o=>hh(o),hp),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TC(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function oS(n,t,e,i){return new sS(n,t,e,i)}function PC(n,t){return _v.apply(this,arguments)}function _v(){return _v=(0,ve.Z)(function*(n,t){const e=tt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let p=zt();for(const y of r){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of o){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return e.localDocuments.getDocuments(i,p).next(y=>({Ki:y,removedBatchIds:c,addedBatchIds:d}))})})}),_v.apply(this,arguments)}function aS(n,t){const e=tt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const w=p.batch,E=w.keys();let M=ue.resolve();return E.forEach(P=>{M=M.next(()=>y.getEntry(d,P)).next(F=>{const j=p.docVersions.get(P);dt(null!==j),F.version.compareTo(j)<0&&(w.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),y.addEntry(F)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,w))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=zt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function yv(n){const t=tt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function lS(n,t){const e=tt(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const d=[];t.targetChanges.forEach((w,E)=>{const M=r.get(E);if(!M)return;d.push(e.Vs.removeMatchingKeys(o,w.removedDocuments,E).next(()=>e.Vs.addMatchingKeys(o,w.addedDocuments,E)));let P=M.withSequenceNumber(o.currentSequenceNumber);var F,j,ne;t.targetMismatches.has(E)?P=P.withResumeToken(ir.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,i)),r=r.insert(E,P),j=P,ne=w,(0===(F=M).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&d.push(e.Vs.updateTargetData(o,P))});let p=fo(),y=zt();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,w))}),d.push(NC(o,c,t.documentUpdates).next(w=>{p=w.Gi,y=w.Qi})),!i.isEqual(Lt.min())){const w=e.Vs.getLastRemoteSnapshotVersion(o).next(E=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(w)}return ue.waitFor(d).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,p,y)).next(()=>p)}).then(o=>(e.$i=r,o))}function NC(n,t,e){let i=zt(),r=zt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=fo();return e.forEach((d,p)=>{const y=o.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Lt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}function cS(n,t){const e=tt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Vh(n,t){const e=tt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,ue.resolve(r)):e.Vs.allocateTargetId(i).next(c=>(r=new nu(t,c,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function Bh(n,t,e){return vv.apply(this,arguments)}function vv(){return vv=(0,ve.Z)(function*(n,t,e){const i=tt(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!od(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),vv.apply(this,arguments)}function Sg(n,t,e){const i=tt(n);let r=Lt.min(),o=zt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,y){const w=tt(d),E=w.Bi.get(y);return void 0!==E?ue.resolve(w.$i.get(E)):w.Vs.getTargetData(p,y)}(i,c,qo(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,t,e?r:Lt.min(),e?o:zt())).next(d=>(uS(i,Qw(t),d),{documents:d,ji:o})))}function FC(n,t){const e=tt(n),i=tt(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(c=>c?c.target:null))}function Yk(n,t){const e=tt(n),i=e.Li.get(t)||Lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,Fw(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uS(e,t,r),r))}function uS(n,t,e){let i=Lt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function bv(){return bv=(0,ve.Z)(function*(n,t,e,i){const r=tt(n);let o=zt(),c=fo();for(const y of e){const w=t.Wi(y.metadata.name);y.document&&(o=o.add(w));const E=t.zi(y);E.setReadTime(t.Hi(y.metadata.readTime)),c=c.insert(w,E)}const d=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield Vh(r,(y=i,qo(fp(wn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>NC(y,d,c).next(w=>(d.apply(y),w)).next(w=>r.Vs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Vs.addMatchingKeys(y,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Gi,w.Qi)).next(()=>w.Gi)))}),bv.apply(this,arguments)}function Kk(n,t){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,ve.Z)(function*(n,t,e=zt()){const i=yield Vh(n,qo(_C(t.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=zi(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(o,t);const d=i.withResumeToken(ir.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(d.targetId,d),r.Vs.updateTargetData(o,d).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),Zi.apply(this,arguments)}function LC(n,t){return`firestore_clients_${n}_${t}`}function dS(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function VC(n,t){return`firestore_targets_${n}_${t}`}class Ig{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Pe(r.error.code,r.error.message))),c?new Ig(t,e,r.state,o):(_n("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ag{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Pe(i.error.code,i.error.message))),o?new Ag(t,i.state,r):(_n("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=vp();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=Hw(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new xg(t,o):(_n("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wv{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wv(e.clientId,e.onlineState):(_n("SharedClientState",`Failed to parse online state: ${t}`),null)}}class dd{constructor(){this.activeTargetIds=vp()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BC{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Nn(Ot),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=LC(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new dd),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(LC(t.persistenceKey,r));if(o){const c=xg.Ji(r,o);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(VC(this.persistenceKey,t));if(i){const r=Ag.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(VC(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void _n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let c=js.ot;if(null!=o)try{const d=JSON.parse(o);dt("number"==typeof d),c=d}catch(d){_n("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==js.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new Ig(this.currentUser,t,e,i),o=dS(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=dS(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=VC(this.persistenceKey,t),o=new Ag(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return xg.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return Ig.Ji(new br(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return Ag.Ji(r,e)}wr(t){return wv.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),c=[],d=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||d.push(p)}),this.syncEngine.Mr(c,d).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=vp();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class hS{constructor(){this.Fr=new dd,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new dd,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fS{Br(t){}shutdown(){}}class pS{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fF{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class UC extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const c=this.oo(t,e);Le("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,o),this.co(t,c,d,i).then(p=>(Le("RestConnection","Received: ",p),p),p=>{throw rh("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}ao(t,e,i,r,o,c){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+sp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${mS[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,c)=>{const d=new JM;d.listenOnce(KM.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nw.NO_ERROR:const y=d.getResponseJson();Le("Connection","XHR received:",JSON.stringify(y)),o(y);break;case Nw.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),c(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Nw.HTTP_ERROR:const w=d.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',w,"response text:",d.getResponseText()),w>0){const E=d.getResponseJson().error;if(E&&E.status&&E.message){const M=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(F)>=0?F:pe.UNKNOWN}(E.status);c(new Pe(M,E.message))}else c(new Pe(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=rg(),c=WM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new QM({})),this.uo(d.initMessageHeaders,e,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Le("Connection","Creating WebChannel: "+p,d);const y=o.createWebChannel(p,d);let w=!1,E=!1;const M=new fF({jr:F=>{E?Le("Connection","Not sending because WebChannel is closed:",F):(w||(Le("Connection","Opening WebChannel transport."),y.open(),w=!0),Le("Connection","WebChannel sending:",F),y.send(F))},Wr:()=>y.close()}),P=(F,j,ne)=>{F.listen(j,Ne=>{try{ne(Ne)}catch(je){setTimeout(()=>{throw je},0)}})};return P(y,Ay.EventType.OPEN,()=>{E||Le("Connection","WebChannel transport opened.")}),P(y,Ay.EventType.CLOSE,()=>{E||(E=!0,Le("Connection","WebChannel transport closed"),M.eo())}),P(y,Ay.EventType.ERROR,F=>{E||(E=!0,rh("Connection","WebChannel transport errored:",F),M.eo(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))}),P(y,Ay.EventType.MESSAGE,F=>{var j;if(!E){const ne=F.data[0];dt(!!ne);const Ne=ne,je=Ne.error||(null===(j=Ne[0])||void 0===j?void 0:j.error);if(je){Le("Connection","WebChannel received error:",je);const et=je.status;let qe=function(xt){const hn=qi[xt];if(void 0!==hn)return gk(hn)}(et),wt=je.message;void 0===qe&&(qe=pe.INTERNAL,wt="Unknown error status: "+et+" with message "+je.message),E=!0,M.eo(new Pe(qe,wt)),y.close()}else Le("Connection","WebChannel received:",ne),M.no(ne)}}),P(c,eT.STAT_EVENT,F=>{F.stat===tT.PROXY?Le("Connection","Detected buffering proxy"):F.stat===tT.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.Zr()},0),M}}function Cv(){return typeof window<"u"?window:null}function go(){return typeof document<"u"?document:null}function Mg(n){return new Qy(n,!0)}class Dv{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Na{constructor(t,e,i,r,o,c,d,p){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Dv(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,ve.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,ve.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===pe.RESOURCE_EXHAUSTED?(_n(e.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,ve.Z)(function*(){t.state=0,t.start()}))}qo(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fa extends Na{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function VT(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ct(),r=t.targetChange.targetIds||[],o=function(p,y){return p.dt?(dt(void 0===y||"string"==typeof y),ir.fromBase64String(y||"")):(dt(void 0===y||y instanceof Uint8Array),ir.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=void 0===p.code?pe.UNKNOWN:gk(p.code);return new Pe(y,p.message||"")}(c);e=new aC(i,r,o,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Aa(n,i.document.name),o=zi(i.document.updateTime),c=new Nr({mapValue:{fields:i.document.fields}}),d=zn.newFoundDocument(r,o,c);e=new Ky(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Aa(n,i.document),o=i.readTime?zi(i.readTime):Lt.min(),c=zn.newNoDocument(r,o);e=new Ky([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Aa(n,i.document);e=new Ky([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ct();{const i=t.filter,o=new RT(i.count||0);e=new tu(i.targetId,o)}}var p;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Lt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?zi(o.readTime):Lt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=Dp(this.wt),e.addTarget=function(r,o){let c;const d=o.target;return c=Uy(d)?{documents:UT(r,d)}:{query:qs(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=Jy(r,o.resumeToken):o.snapshotVersion.compareTo(Lt.min())>0&&(c.readTime=Pl(r,o.snapshotVersion.toTimestamp())),c}(this.wt,t);const i=function Ek(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=Dp(this.wt),e.removeTarget=t,this.Mo(e)}}class La extends Na{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function BT(n,t){return n&&n.length>0?(dt(void 0!==t),n.map(e=>function(i,r){let o=zi(i.updateTime?i.updateTime:r);return o.isEqual(Lt.min())&&(o=zi(r)),new AT(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=zi(t.commitTime);return this.listener.Jo(i,e)}return dt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Dp(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>gg(this.wt,i))};this.Mo(e)}}class gS extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(pe.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.bo.ao(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(pe.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class _S{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(_n(e),this.su=!1):Le("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Qk{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(d=>{i.enqueueAndForget((0,ve.Z)(function*(){var p;Va(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ve.Z)(function*(y){const w=tt(y);w.lu.add(4),yield Mp(w),w._u.set("Unknown"),w.lu.delete(4),yield kg(w)}),function(y){return p.apply(this,arguments)})(c))}))}),this._u=new _S(i,r)}}function kg(n){return HC.apply(this,arguments)}function HC(){return HC=(0,ve.Z)(function*(n){if(Va(n))for(const t of n.fu)yield t(!0)}),HC.apply(this,arguments)}function Mp(n){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,ve.Z)(function*(n){for(const t of n.fu)yield t(!1)}),Rg.apply(this,arguments)}function hd(n,t){const e=tt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),Sv(e)?Tv(e):Rp(e).Co()&&Ev(e,t))}function Og(n,t){const e=tt(n),i=Rp(e);e.hu.delete(t),i.Co()&&yS(e,t),0===e.hu.size&&(i.Co()?i.ko():Va(e)&&e._u.set("Unknown"))}function Ev(n,t){n.wu.Nt(t.targetId),Rp(n).Qo(t)}function yS(n,t){n.wu.Nt(t),Rp(n).jo(t)}function Tv(n){n.wu=new lC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),Rp(n).start(),n._u.iu()}function Sv(n){return Va(n)&&!Rp(n).Do()&&n.hu.size>0}function Va(n){return 0===tt(n).lu.size}function vS(n){n.wu=void 0}function bS(n){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,ve.Z)(function*(n){n.hu.forEach((t,e)=>{Ev(n,t)})}),Iv.apply(this,arguments)}function jC(n,t){return kp.apply(this,arguments)}function kp(){return kp=(0,ve.Z)(function*(n,t){vS(n),Sv(n)?(n._u.uu(t),Tv(n)):n._u.set("Unknown")}),kp.apply(this,arguments)}function wS(n,t,e){return Av.apply(this,arguments)}function Av(){return Av=(0,ve.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof aC&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Pg(n,i)}else if(t instanceof Ky?n.wu.Ut(t):t instanceof tu?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Lt.min()))try{const i=yield yv(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.wu.Yt(o);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.hu.get(p);y&&r.hu.set(p,y.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(ir.EMPTY_BYTE_STRING,p.snapshotVersion)),yS(r,d);const y=new nu(p.target,d,1,p.sequenceNumber);Ev(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield Pg(n,i)}var i}),Av.apply(this,arguments)}function Pg(n,t,e){return xv.apply(this,arguments)}function xv(){return xv=(0,ve.Z)(function*(n,t,e){if(!od(t))throw t;n.lu.add(1),yield Mp(n),n._u.set("Offline"),e||(e=()=>yv(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield kg(n)}))}),xv.apply(this,arguments)}function GC(n,t){return t().catch(e=>Pg(n,e,t))}function Uh(n){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,ve.Z)(function*(n){const t=tt(n),e=fd(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;CS(t);)try{const r=yield cS(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,DS(t,r)}catch(r){yield Pg(t,r)}ES(t)&&TS(t)}),Mv.apply(this,arguments)}function CS(n){return Va(n)&&n.au.length<10}function DS(n,t){n.au.push(t);const e=fd(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function ES(n){return Va(n)&&!fd(n).Do()&&n.au.length>0}function TS(n){fd(n).start()}function Jk(n){return qC.apply(this,arguments)}function qC(){return qC=(0,ve.Z)(function*(n){fd(n).Xo()}),qC.apply(this,arguments)}function Xk(n){return zC.apply(this,arguments)}function zC(){return zC=(0,ve.Z)(function*(n){const t=fd(n);for(const e of n.au)t.Ho(e.mutations)}),zC.apply(this,arguments)}function e1(n,t,e){return $C.apply(this,arguments)}function $C(){return $C=(0,ve.Z)(function*(n,t,e){const i=n.au.shift(),r=ov.from(i,t,e);yield GC(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Uh(n)}),$C.apply(this,arguments)}function t1(n,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,ve.Z)(function*(n,t){var e;t&&fd(n).zo&&(yield(e=(0,ve.Z)(function*(i,r){if(Zy(o=r.code)&&o!==pe.ABORTED){const c=i.au.shift();fd(i).No(),yield GC(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Uh(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),ES(n)&&TS(n)}),ZC.apply(this,arguments)}function SS(n,t){return YC.apply(this,arguments)}function YC(){return YC=(0,ve.Z)(function*(n,t){const e=tt(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Va(e);e.lu.add(3),yield Mp(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield kg(e)}),YC.apply(this,arguments)}function WC(n,t){return KC.apply(this,arguments)}function KC(){return KC=(0,ve.Z)(function*(n,t){const e=tt(n);t?(e.lu.delete(2),yield kg(e)):t||(e.lu.add(2),yield Mp(e),e._u.set("Unknown"))}),KC.apply(this,arguments)}function Rp(n){return n.mu||(n.mu=function(t,e,i){const r=tt(t);return r.tu(),new Fa(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:bS.bind(null,n),Jr:jC.bind(null,n),Go:wS.bind(null,n)}),n.fu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.mu.No(),Sv(n)?Tv(n):n._u.set("Unknown")):(yield n.mu.stop(),vS(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function fd(n){return n.gu||(n.gu=function(t,e,i){const r=tt(t);return r.tu(),new La(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:Jk.bind(null,n),Jr:t1.bind(null,n),Yo:Xk.bind(null,n),Jo:e1.bind(null,n)}),n.fu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.gu.No(),yield Uh(n)):(yield n.gu.stop(),n.au.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class QC{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,d=new QC(t,e,c,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hh(n,t){if(_n("AsyncQueue",`${t}: ${n}`),od(n))return new Pe(pe.UNAVAILABLE,`${t}: ${n}`);throw n}class jh{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Qe.comparator(e.key,i.key):(e,i)=>Qe.comparator(e.key,i.key),this.keyedMap=Yy(),this.sortedSet=new Nn(this.comparator)}static emptySet(t){return new jh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof jh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new jh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class JC{constructor(){this.yu=new Nn(Qe.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ct():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Gh{constructor(t,e,i,r,o,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Gh(t,e,jh.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class IS{constructor(){this.Iu=void 0,this.listeners=[]}}class AS{constructor(){this.queries=new wh(t=>TT(t),pg),this.onlineState="Unknown",this.Tu=new Set}}function kv(n,t){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,ve.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new IS),r)try{o.Iu=yield e.onListen(i)}catch(c){const d=Hh(c,`Initialization of query '${jy(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&e0(e)}),Rv.apply(this,arguments)}function Ov(n,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ve.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Ng.apply(this,arguments)}function XC(n,t){const e=tt(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&e0(e)}function qh(n,t,e){const i=tt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function e0(n){n.Tu.forEach(t=>{t.next()})}class t0{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Gh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Gh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class Op{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class n1{constructor(t){this.wt=t}Wi(t){return Aa(this.wt,t)}zi(t){return t.metadata.exists?Ck(this.wt,t.document,!1):zn.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return zi(t)}}class n0{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=r1(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=wn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new n1(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||zt()).add(o);e.set(c,d)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function Wk(n,t,e,i){return bv.apply(this,arguments)}(t.localStore,new n1(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield Kk(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function r1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class r0{constructor(t){this.key=t}}class s0{constructor(t){this.key=t}}class s1{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=zt(),this.mutatedKeys=zt(),this.Lu=Jw(t),this.Uu=new jh(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new JC,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,E)=>{const M=r.get(w),P=Kw(this.query,E)?E:null,F=!!M&&this.mutatedKeys.has(M.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ne=!1;M&&P?M.data.isEqual(P.data)?F!==j&&(i.track({type:3,doc:P}),ne=!0):this.Qu(M,P)||(i.track({type:2,doc:P}),ne=!0,(p&&this.Lu(P,p)>0||y&&this.Lu(P,y)<0)&&(d=!0)):!M&&P?(i.track({type:0,doc:P}),ne=!0):M&&!P&&(i.track({type:1,doc:M}),ne=!0,(p||y)&&(d=!0)),ne&&(P?(c=c.add(P),o=j?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Uu:c,Gu:i,Oi:d,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((y,w)=>function(E,M){const P=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return P(E)-P(M)}(y.type,w.type)||this.Lu(y.doc,w.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==o.length||p?{snapshot:new Gh(this.query,t.Uu,r,o,t.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new JC,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=zt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new s0(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new r0(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=zt();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Gh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Tt{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class o1{constructor(t){this.key=t,this.Xu=!1}}class a1{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new wh(d=>TT(d),pg),this.ec=new Map,this.nc=new Set,this.sc=new Nn(Qe.comparator),this.ic=new Map,this.rc=new AC,this.oc={},this.uc=new Map,this.cc=zo.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function l1(n,t){return pd.apply(this,arguments)}function pd(){return pd=(0,ve.Z)(function*(n,t){const e=$h(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const c=yield Vh(e.localStore,qo(t));e.isPrimaryClient&&hd(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield o0(e,t,i,"current"===d)}return r}),pd.apply(this,arguments)}function o0(n,t,e,i){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,ve.Z)(function*(n,t,e,i){n.hc=(w,E,M)=>{return(P=(0,ve.Z)(function*(F,j,ne,Ne){let je=j.view.Ku(ne);je.Oi&&(je=yield Sg(F.localStore,j.query,!1).then(({documents:wt})=>j.view.Ku(wt,je)));const et=Ne&&Ne.targetChanges.get(j.targetId),qe=j.view.applyChanges(je,F.isPrimaryClient,et);return Lv(F,j.targetId,qe.zu),qe.snapshot}),function(F,j,ne,Ne){return P.apply(this,arguments)})(n,w,E,M);var P};const r=yield Sg(n.localStore,t,!0),o=new s1(t,r.ji),c=o.Ku(r.documents),d=Ch.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=o.applyChanges(c,n.isPrimaryClient,d);Lv(n,e,p.zu);const y=new Tt(t,e,o);return n.tc.set(t,y),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),Pp.apply(this,arguments)}function Pv(n,t){return fi.apply(this,arguments)}function fi(){return fi=(0,ve.Z)(function*(n,t){const e=tt(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!pg(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Bh(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Og(e.remoteStore,i.targetId),su(e,i.targetId)}).catch(kl))):(su(e,i.targetId),yield Bh(e.localStore,i.targetId,!0))}),fi.apply(this,arguments)}function Nv(){return Nv=(0,ve.Z)(function*(n,t,e){const i=w0(n);try{const r=yield function(o,c){const d=tt(o),p=Si.now(),y=c.reduce((M,P)=>M.add(P.key),zt());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=fo(),F=zt();return d.Ui.getEntries(M,y).next(j=>{P=j,P.forEach((ne,Ne)=>{Ne.isValidDocument()||(F=F.add(ne))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,P)).next(j=>{w=j;const ne=[];for(const Ne of c){const je=lF(Ne,w.get(Ne.key).overlayedDocument);null!=je&&ne.push(new Xc(Ne.key,je,Ut(je.value.mapValue),Fi.exists(!0)))}return d.mutationQueue.addMutationBatch(M,p,ne,c)}).next(j=>{E=j;const ne=j.applyToLocalDocumentSet(w,F);return d.documentOverlayCache.saveOverlays(M,j.batchId,ne)})}).then(()=>({batchId:E.batchId,changes:yk(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let p=o.oc[o.currentUser.toKey()];p||(p=new Nn(Ot)),p=p.insert(c,d),o.oc[o.currentUser.toKey()]=p}(i,r.batchId,e),yield _o(i,r.changes),yield Uh(i.remoteStore)}catch(r){const o=Hh(r,"Failed to persist write");e.reject(o)}}),Nv.apply(this,arguments)}function a0(n,t){return l0.apply(this,arguments)}function l0(){return l0=(0,ve.Z)(function*(n,t){const e=tt(n);try{const i=yield lS(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.ic.get(o);c&&(dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?dt(c.Xu):r.removedDocuments.size>0&&(dt(c.Xu),c.Xu=!1))}),yield _o(e,i,t)}catch(i){yield kl(i)}}),l0.apply(this,arguments)}function c0(n,t,e){const i=tt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=tt(o);d.onlineState=c;let p=!1;d.queries.forEach((y,w)=>{for(const E of w.listeners)E.Eu(c)&&(p=!0)}),p&&e0(d)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function xS(n,t,e){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,ve.Z)(function*(n,t,e){const i=tt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let c=new Nn(Qe.comparator);c=c.insert(o,zn.newNoDocument(o,Lt.min()));const d=zt().add(o),p=new bp(Lt.min(),new Map,new Fn(Ot),c,d);yield a0(i,p),i.sc=i.sc.remove(o),i.ic.delete(t),g0(i)}else yield Bh(i.localStore,t,!1).then(()=>su(i,t,e)).catch(kl)}),Fv.apply(this,arguments)}function MS(n,t){return u0.apply(this,arguments)}function u0(){return u0=(0,ve.Z)(function*(n,t){const e=tt(n),i=t.batch.batchId;try{const r=yield aS(e.localStore,t);p0(e,i,null),f0(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield _o(e,r)}catch(r){yield kl(r)}}),u0.apply(this,arguments)}function c1(n,t,e){return d0.apply(this,arguments)}function d0(){return d0=(0,ve.Z)(function*(n,t,e){const i=tt(n);try{const r=yield function(o,c){const d=tt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,c).next(w=>(dt(null!==w),y=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,t);p0(i,t,e),f0(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield _o(i,r)}catch(r){yield kl(r)}}),d0.apply(this,arguments)}function h0(){return h0=(0,ve.Z)(function*(n,t){const e=tt(n);Va(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=tt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=Hh(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),h0.apply(this,arguments)}function f0(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function p0(n,t,e){const i=tt(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function su(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||m0(n,i)})}function m0(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(Og(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),g0(n))}function Lv(n,t,e){for(const i of e)i instanceof r0?(n.rc.addReference(i.key,t),kS(n,i)):i instanceof s0?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||m0(n,i.key)):ct()}function kS(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.nc.add(i),g0(n))}function g0(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Qe(wn.fromString(t)),i=n.cc.next();n.ic.set(i,new o1(e)),n.sc=n.sc.insert(e,i),hd(n.remoteStore,new nu(qo(fp(e.path)),i,2,js.ot))}}function _o(n,t,e){return zh.apply(this,arguments)}function zh(){return zh=(0,ve.Z)(function*(n,t,e){const i=tt(n),r=[],o=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,p)=>{c.push(i.hc(p,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const w=gv.Vi(p.targetId,y);o.push(w)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,ve.Z)(function*(p,y){const w=tt(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ue.forEach(y,M=>ue.forEach(M.Pi,P=>w.persistence.referenceDelegate.addReference(E,M.targetId,P)).next(()=>ue.forEach(M.vi,P=>w.persistence.referenceDelegate.removeReference(E,M.targetId,P)))))}catch(E){if(!od(E))throw E;Le("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const M=E.targetId;if(!E.fromCache){const P=w.$i.get(M),j=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);w.$i=w.$i.insert(M,j)}}}),function(p,y){return d.apply(this,arguments)})(i.localStore,o))}),zh.apply(this,arguments)}function u1(n,t){return _0.apply(this,arguments)}function _0(){return _0=(0,ve.Z)(function*(n,t){const e=tt(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield PC(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(c=>{c.forEach(d=>{d.reject(new Pe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield _o(e,i.Ki)}var r}),_0.apply(this,arguments)}function d1(n,t){const e=tt(n),i=e.ic.get(t);if(i&&i.Xu)return zt().add(i.key);{let r=zt();const o=e.ec.get(t);if(!o)return r;for(const c of o){const d=e.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function RS(n,t){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,ve.Z)(function*(n,t){const e=tt(n),i=yield Sg(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&Lv(e,t.targetId,r.zu),r}),Vv.apply(this,arguments)}function OS(n,t){return y0.apply(this,arguments)}function y0(){return y0=(0,ve.Z)(function*(n,t){const e=tt(n);return Yk(e.localStore,t).then(i=>_o(e,i))}),y0.apply(this,arguments)}function PS(n,t,e,i){return v0.apply(this,arguments)}function v0(){return v0=(0,ve.Z)(function*(n,t,e,i){const r=tt(n),o=yield function(c,d){const p=tt(c),y=tt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.yn(w,d).next(E=>E?p.localDocuments.getDocuments(w,E):ue.resolve(null)))}(r.localStore,t);var d;null!==o?("pending"===e?yield Uh(r.remoteStore):"acknowledged"===e||"rejected"===e?(p0(r,t,i||null),f0(r,t),d=t,tt(tt(r.localStore).mutationQueue).In(d)):ct(),yield _o(r,o)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),v0.apply(this,arguments)}function NS(){return NS=(0,ve.Z)(function*(n,t){const e=tt(n);if($h(e),w0(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield f1(e,i.toArray());e.ac=!0,yield WC(e.remoteStore,!0);for(const o of r)hd(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(su(e,c),Bh(e.localStore,c,!0))),Og(e.remoteStore,c)}),yield r,yield f1(e,i),function(o){const c=tt(o);c.ic.forEach((d,p)=>{Og(c.remoteStore,p)}),c.rc.cs(),c.ic=new Map,c.sc=new Nn(Qe.comparator)}(e),e.ac=!1,yield WC(e.remoteStore,!1)}}),NS.apply(this,arguments)}function f1(n,t,e){return FS.apply(this,arguments)}function FS(){return FS=(0,ve.Z)(function*(n,t,e){const i=tt(n),r=[],o=[];for(const c of t){let d;const p=i.ec.get(c);if(p&&0!==p.length){d=yield Vh(i.localStore,qo(p[0]));for(const y of p){const w=i.tc.get(y),E=yield RS(i,w);E.snapshot&&o.push(E.snapshot)}}else{const y=yield FC(i.localStore,c);d=yield Vh(i.localStore,y),yield o0(i,p1(y),c,!1)}r.push(d)}return i.Zu.Go(o),r}),FS.apply(this,arguments)}function p1(n){return mh(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function LS(n){const t=tt(n);return tt(tt(t.localStore).persistence).Ri()}function Bv(n,t,e,i){return b0.apply(this,arguments)}function b0(){return b0=(0,ve.Z)(function*(n,t,e,i){const r=tt(n);if(r.ac)return void Le("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield Yk(r.localStore,Qw(o[0])),d=bp.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield _o(r,c,d);break}case"rejected":yield Bh(r.localStore,t,!0),su(r,t,i);break;default:ct()}}),b0.apply(this,arguments)}function m1(n,t,e){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,ve.Z)(function*(n,t,e){const i=$h(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const o=yield FC(i.localStore,r),c=yield Vh(i.localStore,o);yield o0(i,p1(o),c.targetId,!1),hd(i.remoteStore,c)}for(const r of e)i.ec.has(r)&&(yield Bh(i.localStore,r,!1).then(()=>{Og(i.remoteStore,r),su(i,r)}).catch(kl))}}),Uv.apply(this,arguments)}function $h(n){const t=tt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xS.bind(null,t),t.Zu.Go=XC.bind(null,t.eventManager),t.Zu.lc=qh.bind(null,t.eventManager),t}function w0(n){const t=tt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c1.bind(null,t),t}class VS{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.wt=Mg(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return oS(this.persistence,new OC,t.initialUser,this.wt)}_c(t){return new Dg(Eg.Ms,this.wt)}dc(t){return new hS}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class BS extends VS{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield w0(i.yc.syncEngine),yield Uh(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return oS(this.persistence,new OC,t.initialUser,this.wt)}mc(t,e){return new XT(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new Vw(e,this.persistence);return new aT(t.asyncQueue,i)}_c(t){const e=mv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new Tg(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Cv(),go(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new hS}}class _1 extends BS{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof BC&&(i.sharedClientState.syncEngine={kr:PS.bind(null,r),Or:Bv.bind(null,r),Mr:m1.bind(null,r),Ri:LS.bind(null,r),Nr:OS.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,ve.Z)(function*(c){yield function h1(n,t){return NS.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}dc(t){const e=Cv();if(!BC.V(e))throw new Pe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new BC(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Hv{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>c0(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=u1.bind(null,i.syncEngine),yield WC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new AS}createDatastore(t){const e=Mg(t.databaseInfo.databaseId),i=new UC(t.databaseInfo);return new gS(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=d=>c0(this.syncEngine,d,0),c=pS.V()?new pS:new fS,new Qk(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,d,p,y){const w=new a1(i,r,o,c,d,p);return y&&(w.ac=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=tt(e);Le("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Mp(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function US(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jv{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Np{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new dr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new Op(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,ve.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class y1{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Pe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(o,c){const d=tt(o),p=Dp(d.wt)+"/documents",y={documents:c.map(P=>Cp(d.wt,P))},w=yield d.ao("BatchGetDocuments",p,y,c.length),E=new Map;w.forEach(P=>{const F=function Dk(n,t){return"found"in t?function(e,i){dt(!!i.found);const r=Aa(e,i.found.name),o=zi(i.found.updateTime),c=new Nr({mapValue:{fields:i.found.fields}});return zn.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){dt(!!i.missing),dt(!!i.readTime);const r=Aa(e,i.missing),o=zi(i.readTime);return zn.newNoDocument(r,o)}(n,t):ct()}(d.wt,P);E.set(F.key.toString(),F)});const M=[];return c.forEach(P=>{const F=E.get(P.toString());dt(!!F),M.push(F)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new yp(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Qe.fromPath(r);t.mutations.push(new kT(o,t.precondition(o)))}),yield(i=(0,ve.Z)(function*(r,o){const c=tt(r),d=Dp(c.wt)+"/documents",p={writes:o.map(y=>gg(c.wt,y))};yield c.ro("Commit",d,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Pe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Fi.updateTime(e):Fi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new Pe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(e)}return Fi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class HS{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new Dv(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,ve.Z)(function*(){const e=new y1(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!Kc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Zy(e)}return!1}}class v1{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=sh.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,ve.Z)(function*(d){Le("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Hh(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function C0(n,t){return D0.apply(this,arguments)}function D0(){return D0=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(o){i.isEqual(o)||(yield PC(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),D0.apply(this,arguments)}function E0(n,t){return T0.apply(this,arguments)}function T0(){return T0=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Lg(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>SS(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>SS(t.remoteStore,o)),n.onlineComponents=t}),T0.apply(this,arguments)}function Lg(n){return S0.apply(this,arguments)}function S0(){return S0=(0,ve.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield C0(n,new VS)),n.offlineComponents}),S0.apply(this,arguments)}function Vg(n){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,ve.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield E0(n,new Hv)),n.onlineComponents}),Gv.apply(this,arguments)}function jS(n){return Lg(n).then(t=>t.persistence)}function I0(n){return Lg(n).then(t=>t.localStore)}function GS(n){return Vg(n).then(t=>t.remoteStore)}function Bg(n){return Vg(n).then(t=>t.syncEngine)}function Fp(n){return qv.apply(this,arguments)}function qv(){return qv=(0,ve.Z)(function*(n){const t=yield Vg(n),e=t.eventManager;return e.onListen=l1.bind(null,t.syncEngine),e.onUnlisten=Pv.bind(null,t.syncEngine),e}),qv.apply(this,arguments)}function qS(n,t,e={}){const i=new dr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,o,c,d,p){const y=new jv({next:E=>{o.enqueueAndForget(()=>Ov(r,w));const M=E.docs.has(c);!M&&E.fromCache?p.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&E.fromCache&&d&&"server"===d.source?p.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new t0(fp(c.path),y,{includeMetadataChanges:!0,Du:!0});return kv(r,w)}(yield Fp(n),n.asyncQueue,t,e,i)})),i.promise}function zS(n,t,e={}){const i=new dr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,o,c,d,p){const y=new jv({next:E=>{o.enqueueAndForget(()=>Ov(r,w)),E.fromCache&&"server"===d.source?p.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new t0(c,y,{includeMetadataChanges:!0,Du:!0});return kv(r,w)}(yield Fp(n),n.asyncQueue,t,e,i)})),i.promise}const YS=new Map;function A0(n,t,e){if(!e)throw new Pe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function x0(n,t,e,i){if(!0===t&&!0===i)throw new Pe(pe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function WS(n){if(!Qe.isDocumentKey(n))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KS(n){if(Qe.isDocumentKey(n))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ct()}function nn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zv(n);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function $v(n,t){if(t<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class M0{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,x0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zh{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,t instanceof Ia?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(r.options.projectId)}(t))}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new iT;switch(e.type){case"gapi":const i=e.client;return dt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new nk(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=YS.get(t);e&&(Le("ComponentProvider","Removing Datastore"),YS.delete(t),e.terminate())}(this),Promise.resolve()}}class ri{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ri(this.firestore,t,this._key)}}class Er{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Er(this.firestore,t,this._query)}}class Vl extends Er{constructor(t,e,i){super(t,e,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ri(this.firestore,null,new Qe(t))}withConverter(t){return new Vl(this.firestore,t,this._path)}}function k0(n,t,...e){if(n=(0,N.m9)(n),A0("collection","path",t),n instanceof Zh){const i=wn.fromString(t,...e);return KS(i),new Vl(n,null,i)}{if(!(n instanceof ri||n instanceof Vl))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return KS(i),new Vl(n.firestore,null,i)}}function Ug(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=sh.I()),A0("doc","path",t),n instanceof Zh){const i=wn.fromString(t,...e);return WS(i),new ri(n,null,new Qe(i))}{if(!(n instanceof ri||n instanceof Vl))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return WS(i),new ri(n.firestore,n instanceof Vl?n.converter:null,new Qe(i))}}function QS(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof ri||n instanceof Vl)&&(t instanceof ri||t instanceof Vl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function I1(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof Er&&t instanceof Er&&n.firestore===t.firestore&&pg(n._query,t._query)&&n.converter===t.converter}class JS{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Dv(this,"async_queue_retry"),this.Kc=()=>{const e=go();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=go();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=go();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new dr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!od(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,_n("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=QC.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&ct()}verifyOperationInProgress(){}zc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function Hg(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class A1{constructor(){this._progressObserver={},this._taskCompletionResolver=new dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pi extends Zh{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new JS,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||O0(this),this._firestoreClient.terminate()}}function Yi(n){return n._firestoreClient||O0(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function O0(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new dT(n._databaseId,o,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new v1(n._authCredentials,n._appCheckCredentials,n._queue,i)}function nI(n,t,e){const i=new dr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield C0(n,e),yield E0(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===pe.FAILED_PRECONDITION||c.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function sI(n){if(n._initialized||n._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class md{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Bl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bl(ir.fromBase64String(t))}catch(e){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Bl(ir.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Yh{constructor(t){this._methodName=t}}class jg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}const oI=/^__.*__$/;class O1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Xc(t,this.data,this.fieldMask,e,this.fieldTransforms):new _p(t,this.data,e,this.fieldTransforms)}}class aI{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Xc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function lI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Zv{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new Zv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Jv(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(lI(this.Zc)&&oI.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class P1{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||Mg(t)}aa(t,e,i,r=!1){return new Zv({Zc:t,methodName:e,ca:i,path:Ii.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Wh(n){const t=n._freezeSettings(),e=Mg(n._databaseId);return new P1(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Yv(n,t,e,i,r,o={}){const c=n.aa(o.merge||o.mergeFields?2:0,t,e,r);N0("Data must be an object, but it was:",c,i);const d=P0(i,c);let p,y;if(o.merge)p=new ho(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const w=[];for(const E of o.mergeFields){const M=F0(t,E,e);if(!c.contains(M))throw new Pe(pe.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Xv(w,M)||w.push(M)}p=new ho(w),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new O1(new Nr(d),p,y)}class Gg extends Yh{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gg}}function Vp(n,t,e){return new Zv({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class Wv extends Yh{_toFieldTransform(t){return new _h(t.path,new Jc)}isEqual(t){return t instanceof Wv}}class cI extends Yh{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=Vp(this,t,!0),i=this.ha.map(o=>Bp(o,e)),r=new Fr(i);return new _h(t.path,r)}isEqual(t){return this===t}}class uI extends Yh{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=Vp(this,t,!0),i=this.ha.map(o=>Bp(o,e)),r=new gh(i);return new _h(t.path,r)}isEqual(t){return this===t}}class dI extends Yh{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Gs(t.wt,ST(t.wt,this.la));return new _h(t.path,e)}isEqual(t){return this===t}}function Kv(n,t,e,i){const r=n.aa(1,t,e);N0("Data must be an object, but it was:",r,i);const o=[],c=Nr.empty();ad(i,(p,y)=>{const w=gd(t,p,e);y=(0,N.m9)(y);const E=r.ia(w);if(y instanceof Gg)o.push(w);else{const M=Bp(y,E);null!=M&&(o.push(w),c.set(w,M))}});const d=new ho(o);return new aI(c,d,r.fieldTransforms)}function Qv(n,t,e,i,r,o){const c=n.aa(1,t,e),d=[F0(t,i,e)],p=[r];if(o.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)d.push(F0(t,o[M])),p.push(o[M+1]);const y=[],w=Nr.empty();for(let M=d.length-1;M>=0;--M)if(!Xv(y,d[M])){const P=d[M];let F=p[M];F=(0,N.m9)(F);const j=c.ia(P);if(F instanceof Gg)y.push(P);else{const ne=Bp(F,j);null!=ne&&(y.push(P),w.set(P,ne))}}const E=new ho(y);return new aI(w,E,c.fieldTransforms)}function hI(n,t,e,i=!1){return Bp(e,n.aa(i?4:3,t))}function Bp(n,t){if(fI(n=(0,N.m9)(n)))return N0("Unsupported field value:",t,n),P0(n,t);if(n instanceof Yh)return function(e,i){if(!lI(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let d=Bp(c,i.ra(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ST(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Si.fromDate(e);return{timestampValue:Pl(i.wt,r)}}if(e instanceof Si){const r=new Si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pl(i.wt,r)}}if(e instanceof jg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bl)return{bytesValue:Jy(i.wt,e._byteString)};if(e instanceof ri){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Dh(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${zv(e)}`)}(n,t)}function P0(n,t){const e={};return Bw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ad(n,(i,r)=>{const o=Bp(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function fI(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Si||n instanceof jg||n instanceof Bl||n instanceof ri||n instanceof Yh)}function N0(n,t,e){if(!fI(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=zv(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function F0(n,t,e){if((t=(0,N.m9)(t))instanceof md)return t._internalPath;if("string"==typeof t)return gd(n,t);throw Jv("Field path arguments must be of type string or ",n,!1,void 0,e)}const N1=new RegExp("[~\\*/\\[\\]]");function gd(n,t,e){if(t.search(N1)>=0)throw Jv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new md(...t.split("."))._internalPath}catch{throw Jv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Jv(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Pe(pe.INVALID_ARGUMENT,d+n+p)}function Xv(n,t){return n.some(e=>e.isEqual(t))}class zs{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new F1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Kh("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class F1 extends zs{data(){return super.data()}}function Kh(n,t){return"string"==typeof t?gd(n,t):t instanceof md?t._internalPath:t._delegate._internalPath}class Ba{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ou extends zs{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Kh("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class qg extends ou{data(t={}){return super.data(t)}}class _d{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ba(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qg(this._firestore,this._userDataWriter,i.key,i,new Ba(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new qg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ba(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new qg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ba(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:eb(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function eb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function zg(n,t){return n instanceof ou&&t instanceof ou?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof _d&&t instanceof _d&&n._firestore===t._firestore&&I1(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function pI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}function au(n,...t){for(const e of t)n=e._apply(n);return n}class mI extends $g{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Wh(t.firestore),i=function(r,o,c,d,p,y,w){let E;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){U0(w,y);const P=[];for(const F of w)P.push(bI(d,r,F));E={arrayValue:{values:P}}}else E=bI(d,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||U0(w,y),E=hI(c,"where",w,"in"===y||"not-in"===y);const M=es.create(p,y,E);return function(P,F){if(F.ht()){const ne=Ww(P);if(null!==ne&&!ne.isEqual(F.field))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ne.toString()}' and '${F.field.toString()}'`);const Ne=pp(P);null!==Ne&&ib(0,F.field,Ne)}const j=function(ne,Ne){for(const je of ne.filters)if(Ne.indexOf(je.op)>=0)return je.op;return null}(P,function(ne){switch(ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(null!==j)throw new Pe(pe.INVALID_ARGUMENT,j===F.op?`Invalid query. You cannot use more than one '${F.op.toString()}' filter.`:`Invalid query. You cannot use '${F.op.toString()}' filters with '${j.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Er(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new Qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class gI extends $g{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new fg(r,o);return function(d,p){if(null===pp(d)){const y=Ww(d);null!==y&&ib(0,y,p.field)}}(i,c),c}(t._query,this.fa,this.wa);return new Er(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Qc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class _I extends $g{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new Er(t.firestore,t.converter,ET(t._query,this.ma,this.ga))}}class tb extends $g{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=vI(t,this.type,this.ya,this.pa);return new Er(t.firestore,t.converter,(r=e,new Qc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class nb extends $g{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=vI(t,this.type,this.ya,this.pa);return new Er(t.firestore,t.converter,(r=e,new Qc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function vI(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof zs)return function(r,o,c,d,p){if(!d)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const w of mp(r))if(w.field.isKeyField())y.push(dh(o,d.key));else{const E=d.data.field(w.field);if(cp(E))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const M=w.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(E)}return new ph(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Wh(n.firestore);return function(o,c,d,p,y,w){const E=o.explicitOrderBy;if(y.length>E.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<y.length;P++){const F=y[P];if(E[P].field.isKeyField()){if("string"!=typeof F)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof F}`);if(!Hy(o)&&-1!==F.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${F}' contains a slash.`);const j=o.path.child(wn.fromString(F));if(!Qe.isDocumentKey(j))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const ne=new Qe(j);M.push(dh(c,ne))}else{const j=hI(d,p,F);M.push(j)}}return new ph(M,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function bI(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hy(t)&&-1!==e.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(wn.fromString(e));if(!Qe.isDocumentKey(i))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dh(n,new Qe(i))}if(e instanceof ri)return dh(n,e._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zv(e)}.`)}function U0(n,t){if(!Array.isArray(n)||0===n.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function ib(n,t,e){if(!e.isEqual(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const wI={maxAttempts:5};class rb{convertValue(t,e="none"){switch(cd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ol(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){const i={};return ad(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new jg(Ai(t.latitude),Ai(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Uw(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ch(t));default:return null}}convertTimestamp(t){const e=Rl(t);return new Si(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=wn.fromString(t);dt(jT(i));const r=new Ia(i.get(1),i.get(3)),o=new Qe(i.popFirst(5));return r.isEqual(e)||_n(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Zg(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class CI extends rb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ri(this.firestore,null,e)}}class DI{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wh(t)}set(t,e,i){this._verifyNotCommitted();const r=lu(t,this._firestore),o=Zg(r.converter,e,i),c=Yv(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Fi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=lu(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof md?Qv(this._dataReader,"WriteBatch.update",o._key,e,i,r):Kv(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Fi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=lu(t,this._firestore);return this._mutations=this._mutations.concat(new yp(e._key,Fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lu(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Qh extends rb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ri(this.firestore,null,e)}}function II(n,t,e){n=nn(n,ri);const i=nn(n.firestore,pi),r=Zg(n.converter,t,e);return Hp(i,[Yv(Wh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Fi.none())])}function H1(n,t,e,...i){n=nn(n,ri);const r=nn(n.firestore,pi),o=Wh(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof md?Qv(o,"updateDoc",n._key,t,e,i):Kv(o,"updateDoc",n._key,t),Hp(r,[c.toMutation(n._key,Fi.exists(!0))])}function H0(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||Hg(t[c])||(o=t[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(Hg(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let p,y,w;if(n instanceof ri)y=nn(n.firestore,pi),w=fp(n._key.path),p={next:E=>{t[c]&&t[c](Wg(y,n,E))},error:t[c+1],complete:t[c+2]};else{const E=nn(n,Er);y=nn(E.firestore,pi),w=E._query;const M=new Qh(y);p={next:P=>{t[c]&&t[c](new _d(y,M,E,P))},error:t[c+1],complete:t[c+2]},pI(n._query)}return function(E,M,P,F){const j=new jv(F),ne=new t0(M,j,P);return E.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return kv(yield Fp(E),ne)})),()=>{j.Tc(),E.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Ov(yield Fp(E),ne)}))}}(Yi(y),w,d,p)}function Hp(n,t){return function(e,i){const r=new dr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function pF(n,t,e){return Nv.apply(this,arguments)}(yield Bg(e),i,r)})),r.promise}(Yi(n),t)}function Wg(n,t,e){const i=e.docs.get(t._key),r=new Qh(n);return new ou(n,r,t._key,i,new Ba(e.hasPendingWrites,e.fromCache),t.converter)}class j1 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wh(t)}get(t){const e=lu(t,this._firestore),i=new CI(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ct();const o=r[0];if(o.isFoundDocument())return new zs(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new zs(this._firestore,i,e._key,null,e.converter);throw ct()})}set(t,e,i){const r=lu(t,this._firestore),o=Zg(r.converter,e,i),c=Yv(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=lu(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof md?Qv(this._dataReader,"Transaction.update",o._key,e,i,r):Kv(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=lu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=lu(t,this._firestore),i=new Qh(this._firestore);return super.get(t).then(r=>new ou(this._firestore,i,e._key,r._document,new Ba(!1,!1),e.converter))}}function sb(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function MI(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function q0(){if(!function cT(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){sp=Xi.SDK_VERSION,(0,Xi._registerComponent)(new ji.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new pi(r,new rT(e.getProvider("auth-internal")),new ik(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Xi.registerVersion)(xy,"3.4.13",n),(0,Xi.registerVersion)(xy,"3.4.13","esm2017")}();class Ul{constructor(t){this._delegate=t}static fromBase64String(t){return q0(),new Ul(Bl.fromBase64String(t))}static fromUint8Array(t){return MI(),new Ul(Bl.fromUint8Array(t))}toBase64(){return q0(),this._delegate.toBase64()}toUint8Array(){return MI(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function z0(n){return function kI(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class $0{enableIndexedDbPersistence(t,e){return function eI(n,t){sI(n=nn(n,pi));const e=Yi(n),i=n._freezeSettings(),r=new Hv;return nI(e,r,new BS(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function tI(n){sI(n=nn(n,pi));const t=Yi(n),e=n._freezeSettings(),i=new Hv;return nI(t,i,new _1(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function x1(n){if(n._initialized&&!n._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new dr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!Sa.V())return Promise.resolve();const r=i+"main";yield Sa.delete(r)}),function(i){return e.apply(this,arguments)})(mv(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Y1{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ia||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function S1(n,t,e,i={}){var r;const o=(n=nn(n,Zh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=br.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new br(p)}n._authCredentials=new ek(new nT(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function k1(n){return function b1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield jS(n),e=yield GS(n);return t.setNetworkEnabled(!0),function(i){const r=tt(i);return r.lu.delete(0),kg(r)}(e)}))}(Yi(n=nn(n,pi)))}(this._delegate)}disableNetwork(){return function iI(n){return function w1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield jS(n),e=yield GS(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const o=tt(r);o.lu.add(0),yield Mp(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Yi(n=nn(n,pi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,x0("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M1(n){return function(t){const e=new dr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Fg(n,t){return h0.apply(this,arguments)}(yield Bg(t),e)})),e.promise}(Yi(n=nn(n,pi)))}(this._delegate)}onSnapshotsInSync(t){return function Yg(n,t){return function E1(n,t){const e=new jv(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield Fp(n),r=e,tt(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield Fp(n),r=e,void tt(i).Tu.delete(r);var i,r}))}}(Yi(n=nn(n,pi)),Hg(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Xh(this,k0(this._delegate,t))}catch(e){throw ns(e,"collection()","Firestore.collection()")}}doc(t){try{return new yo(this,Ug(this._delegate,t))}catch(e){throw ns(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Es(this,function Lp(n,t){if(n=nn(n,Zh),A0("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Er(n,null,(e=t,new Qc(wn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ns(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function xI(n,t,e){n=nn(n,pi);const i=Object.assign(Object.assign({},wI),e);return function(r){if(r.maxAttempts<1)throw new Pe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function T1(n,t,e){const i=new dr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(o=n,Vg(o).then(c=>c.datastore));var o;new HS(n.asyncQueue,r,e,t,i).run()})),i.promise}(Yi(n),r=>t(new j1(n,r)),i)}(this._delegate,e=>t(new RI(this,e)))}batch(){return Yi(this._delegate),new OI(new DI(this._delegate,t=>Hp(this._delegate,t)))}loadBundle(t){return function rI(n,t){const e=Yi(n=nn(n,pi)),i=new A1;return function $S(n,t,e,i){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return US(p,y);if(p instanceof ArrayBuffer)return US(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Np(p,c);var p}(e,Mg(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function g1(n,t,e){const i=tt(n);var r;(r=(0,ve.Z)(function*(o,c,d){try{const p=yield c.getMetadata();if(yield function(M,P){const F=tt(M),j=zi(P.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",ne=>F.Ds.getBundleMetadata(ne,P.id)).then(ne=>!!ne&&ne.createTime.compareTo(j)>=0)}(o.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(r1(p));const y=new n0(p,o.localStore,c.wt);let w=yield c.fc();for(;w;){const M=yield y.Nu(w);M&&d._updateProgress(M),w=yield c.fc()}const E=yield y.complete();return yield _o(o,E.Mu,void 0),yield function(M,P){const F=tt(M);return F.persistence.runTransaction("Save bundle","readwrite",j=>F.Ds.saveBundleMetadata(j,P))}(o.localStore,p),d._completeWith(E.progress),Promise.resolve(E.Ou)}catch(p){return rh("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var M}),function(o,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Bg(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function R1(n,t){return function ZS(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=tt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield I0(n),t)}))}(Yi(n=nn(n,pi)),t).then(e=>e?new Er(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Es(this,e):null)}}class ob extends rb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ul(new Bl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return yo.forKey(e,this.firestore,null)}}class RI{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ob(t)}get(t){const e=yd(t);return this._delegate.get(e).then(i=>new Gp(this._firestore,new ou(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=yd(t);return i?(sb("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=yd(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=yd(t);return this._delegate.delete(e),this}}class OI{constructor(t){this._delegate=t}set(t,e,i){const r=yd(t);return i?(sb("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=yd(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=yd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Jh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new qg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qg(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Jh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Jh(t,new ob(t),e),r.set(e,o)),o}}Jh.INSTANCES=new WeakMap;class yo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ob(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new yo(e,new ri(e._delegate,i,new Qe(t)))}static forKey(t,e,i){return new yo(e,new ri(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Xh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Xh(this.firestore,k0(this._delegate,t))}catch(e){throw ns(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof ri&&QS(this._delegate,t)}set(t,e){e=sb("DocumentReference.set",e);try{return e?II(this._delegate,t,e):II(this._delegate,t)}catch(i){throw ns(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?H1(this._delegate,t):H1(this._delegate,t,e,...i)}catch(r){throw ns(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _F(n){return Hp(nn(n.firestore,pi),[new yp(n._key,Fi.none())])}(this._delegate)}onSnapshot(...t){const e=PI(t),i=Z0(t,r=>new Gp(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return H0(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function TI(n){n=nn(n,ri);const t=nn(n.firestore,pi),e=Yi(t),i=new Qh(t);return function C1(n,t){const e=new dr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,o,c){try{const d=yield function(p,y){const w=tt(p);return w.persistence.runTransaction("read document","readonly",E=>w.localDocuments.getDocument(E,y))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Pe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Hh(d,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield I0(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ou(t,i,n._key,r,new Ba(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function SI(n){n=nn(n,ri);const t=nn(n.firestore,pi);return qS(Yi(t),n._key,{source:"server"}).then(e=>Wg(t,n,e))}(this._delegate):function EI(n){n=nn(n,ri);const t=nn(n.firestore,pi);return qS(Yi(t),n._key).then(e=>Wg(t,n,e))}(this._delegate),e.then(i=>new Gp(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new yo(this.firestore,this._delegate.withConverter(t?Jh.getInstance(this.firestore,t):null))}}function ns(n,t,e){return n.message=n.message.replace(t,e),n}function PI(n){for(const t of n)if("object"==typeof t&&!z0(t))return t;return{}}function Z0(n,t){var e,i;let r;return r=z0(n[0])?n[0]:z0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Gp{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new yo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return zg(this._delegate,t._delegate)}}class Qg extends Gp{data(t){const e=this._delegate.data(t);return function sg(n,t){n||ct()}(void 0!==e),e}}class Es{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ob(t)}where(t,e,i){try{return new Es(this.firestore,au(this._delegate,function L0(n,t,e){const i=t,r=Kh("where",n);return new mI(r,i,e)}(t,e,i)))}catch(r){throw ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Es(this.firestore,au(this._delegate,function L1(n,t="asc"){const e=t,i=Kh("orderBy",n);return new gI(i,e)}(t,e)))}catch(i){throw ns(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Es(this.firestore,au(this._delegate,function gF(n){return $v("limit",n),new _I("limit",n,"F")}(t)))}catch(e){throw ns(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Es(this.firestore,au(this._delegate,function V0(n){return $v("limitToLast",n),new _I("limitToLast",n,"L")}(t)))}catch(e){throw ns(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Es(this.firestore,au(this._delegate,function yI(...n){return new tb("startAt",n,!0)}(...t)))}catch(e){throw ns(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Es(this.firestore,au(this._delegate,function B0(...n){return new tb("startAfter",n,!1)}(...t)))}catch(e){throw ns(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Es(this.firestore,au(this._delegate,function V1(...n){return new nb("endBefore",n,!1)}(...t)))}catch(e){throw ns(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Es(this.firestore,au(this._delegate,function B1(...n){return new nb("endAt",n,!0)}(...t)))}catch(e){throw ns(e,"endAt()","Query.endAt()")}}isEqual(t){return I1(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Up(n){n=nn(n,Er);const t=nn(n.firestore,pi),e=Yi(t),i=new Qh(t);return function D1(n,t){const e=new dr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,o,c){try{const d=yield Sg(r,o,!0),p=new s1(o,d.ji),y=p.Ku(d.documents),w=p.applyChanges(y,!1);c.resolve(w.snapshot)}catch(d){const p=Hh(d,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield I0(n),t,e);var i})),e.promise}(e,n._query).then(r=>new _d(t,i,n,r))}(this._delegate):"server"===t?.source?function U1(n){n=nn(n,Er);const t=nn(n.firestore,pi),e=Yi(t),i=new Qh(t);return zS(e,n._query,{source:"server"}).then(r=>new _d(t,i,n,r))}(this._delegate):function Ds(n){n=nn(n,Er);const t=nn(n.firestore,pi),e=Yi(t),i=new Qh(t);return pI(n._query),zS(e,n._query).then(r=>new _d(t,i,n,r))}(this._delegate),e.then(i=>new Y0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=PI(t),i=Z0(t,r=>new Y0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return H0(this._delegate,e,i)}withConverter(t){return new Es(this.firestore,this._delegate.withConverter(t?Jh.getInstance(this.firestore,t):null))}}class NI{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Qg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Y0{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Qg(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new NI(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Qg(this._firestore,i))})}isEqual(t){return zg(this._delegate,t._delegate)}}class Xh extends Es{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new yo(this.firestore,t):null}doc(t){try{return new yo(this.firestore,void 0===t?Ug(this._delegate):Ug(this._delegate,t))}catch(e){throw ns(e,"doc()","CollectionReference.doc()")}}add(t){return function AI(n,t){const e=nn(n.firestore,pi),i=Ug(n),r=Zg(n.converter,t);return Hp(e,[Yv(Wh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new yo(this.firestore,e))}isEqual(t){return QS(this._delegate,t._delegate)}withConverter(t){return new Xh(this.firestore,this._delegate.withConverter(t?Jh.getInstance(this.firestore,t):null))}}function yd(n){return nn(n,ri)}class ab{constructor(...t){this._delegate=new md(...t)}static documentId(){return new ab(Ii.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof md&&this._delegate._internalPath.isEqual(t._internalPath)}}class vd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function q1(){return new Wv("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new vd(t)}static delete(){const t=function G1(){return new Gg("deleteField")}();return t._methodName="FieldValue.delete",new vd(t)}static arrayUnion(...t){const e=function jp(...n){return new cI("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new vd(e)}static arrayRemove(...t){const e=function z1(...n){return new uI("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new vd(e)}static increment(t){const e=function j0(n){return new dI("increment",n)}(t);return e._methodName="FieldValue.increment",new vd(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const W1={Firestore:Y1,GeoPoint:jg,Timestamp:Si,Blob:Ul,Transaction:RI,WriteBatch:OI,DocumentReference:yo,DocumentSnapshot:Gp,Query:Es,QueryDocumentSnapshot:Qg,QuerySnapshot:Y0,CollectionReference:Xh,FieldPath:ab,FieldValue:vd,setLogLevel:function vF(n){!function XM(n){rd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function bF(n){(function K1(n,t){n.INTERNAL.registerComponent(new ji.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},W1)))})(n,(t,e)=>new Y1(t,e,new $0)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(Sc.Z);var nt=V(7579),is=V(6451),W0=V(5363),bd=V(8421);function Li(n,t){return(0,Pn.e)((e,i)=>{let r=null,o=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,pn.x)(i,p=>{r?.unsubscribe();let y=0;const w=o++;(0,bd.Xf)(n(p,w)).subscribe(r=(0,pn.x)(i,E=>i.next(t?t(p,E,w,y++):E),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var wF=V(6063);class CF extends nt.x{constructor(t=1/0,e=1/0,i=wF.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var FI=V(3099);function Q1(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,FI.B)({connector:()=>new CF(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const Jg=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hl=V(515);function Ln(n){return n<=0?()=>Hl.E:(0,Pn.e)((t,e)=>{let i=0;t.subscribe((0,pn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Xg(n){return(0,Pn.e)((t,e)=>{let i=!1;t.subscribe((0,pn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function K0(n=DF){return(0,Pn.e)((t,e)=>{let i=!1;t.subscribe((0,pn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function DF(){return new Jg}function Ua(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qt((r,o)=>n(r,o,i)):Wr.y,Ln(1),e?Xg(t):K0(()=>new Jg))}var vo=V(576);function LI(n,t){return(0,vo.m)(t)?Li(()=>n,t):Li(()=>n)}var cb=V(9468);V(5867);const VI=new Map,J0={activated:!1,tokenObservers:[]},iR={initialized:!1,enabled:!1};function xn(n){return VI.get(n)||J0}function Ha(n,t){VI.set(n,t)}function qp(){return iR}class UI{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function HI(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const rs=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fb(n){if(!xn(n).activated)throw rs.create("use-before-activation",{appName:n.name})}function t_(n,t){return ja.apply(this,arguments)}function ja(){return ja=(0,ve.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(o["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(t),headers:o};let p,y;try{p=yield fetch(n,d)}catch(P){throw rs.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw rs.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(P){throw rs.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const E=1e3*Number(w[1]),M=Date.now();return{token:y.token,expireTimeMillis:M+E,issuedAtTimeMillis:M}}),ja.apply(this,arguments)}function lR(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const n_="firebase-app-check-store";let iD=null;function rD(){return iD||(iD=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(rs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(n_,{keyPath:"compositeKey"})}}catch(i){t(rs.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),iD)}function pb(){return pb=(0,ve.Z)(function*(n,t){const i=(yield rD()).transaction(n_,"readwrite"),o=i.objectStore(n_).put({compositeKey:n,value:t});return new Promise((c,d)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var y;d(rs.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),pb.apply(this,arguments)}const wd=new cr.Yd("@firebase/app-check");function qI(n,t){return(0,N.hl)()?function jI(n,t){return function oD(n,t){return pb.apply(this,arguments)}(function aD(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{wd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $I(){return qp().enabled}function ZI(){return YI.apply(this,arguments)}function YI(){return YI=(0,ve.Z)(function*(){const n=qp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YI.apply(this,arguments)}const WI={error:"UNKNOWN_ERROR"};function hR(n){return N.US.encodeString(JSON.stringify(n),!1)}function vb(n){return lD.apply(this,arguments)}function lD(){return lD=(0,ve.Z)(function*(n,t=!1){const e=n.app;fb(e);const i=xn(e);let o,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&bb(p)&&(r=p)}if(!t&&r&&bb(r))return{token:r.token};let d,c=!1;if($I()){i.exchangeTokenPromise||(i.exchangeTokenPromise=t_(lR(e,yield ZI()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const p=yield i.exchangeTokenPromise;return yield qI(e,p),Ha(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?wd.warn(p.message):wd.error(p),o=p}return r?(d={token:r.token},Ha(e,Object.assign(Object.assign({},i),{token:r})),yield qI(e,r)):d=wb(o),c&&pR(e,d),d}),lD.apply(this,arguments)}function QI(n,t){const e=xn(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ha(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function fR(n){const{app:t}=n,e=xn(t);let i=e.tokenRefresher;i||(i=function RF(n){const{app:t}=n;return new UI((0,ve.Z)(function*(){let i;if(i=xn(t).token?yield vb(n,!0):yield vb(n),i.error)throw i.error}),()=>!0,()=>{const e=xn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ha(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function pR(n,t){const e=xn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function bb(n){return n.expireTimeMillis-Date.now()>0}function wb(n){return{token:hR(WI),error:n}}class mR{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=xn(this.app);for(const e of t)QI(this.app,e.next);return Promise.resolve()}}const fD="app-check-internal";!function pD(){(0,Xi._registerComponent)(new ji.wA("app-check",n=>function gR(n,t){return new mR(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(fD).initialize()})),(0,Xi._registerComponent)(new ji.wA(fD,n=>function JI(n){return{getToken:t=>vb(n,t),addTokenListener:t=>function KI(n,t,e,i){const{app:r}=n,o=xn(r),c={next:e,error:i,type:t};if(Ha(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&bb(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),fR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fR(n))}(n,"INTERNAL",t),removeTokenListener:t=>QI(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xi.registerVersion)("@firebase/app-check","0.5.12")}();class Db{constructor(){return(0,Kt.vb)("app-check")}}typeof window<"u"&&window;var _D=V(127);const l=new s.OlP("angularfire2.auth.use-emulator"),u=new s.OlP("angularfire2.auth.settings"),h=new s.OlP("angularfire2.auth.tenant-id"),f=new s.OlP("angularfire2.auth.langugage-code"),g=new s.OlP("angularfire2.auth.use-device-language"),b=new s.OlP("angularfire.auth.persistence"),D=(n,t,e,i,r,o,c,d)=>(0,En.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[y,w]of Object.entries(c))p.settings[y]=w;return d&&p.setPersistence(d),p},[e,i,r,o,c,d]);let T=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E,M,P){const F=new nt.x,j=He(void 0).pipe((0,W0.Q)(c.outsideAngular),Li(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1451)))),(0,$e.U)(()=>(0,En.on)(e,o,i)),(0,$e.U)(ne=>D(ne,o,d,y,w,E,p,M)),Q1({bufferSize:1,refCount:!1}));if(Tf(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=He(null);else{j.pipe(Ua()).subscribe();const Ne=j.pipe(Li(qe=>qe.getRedirectResult().then(wt=>wt,()=>null)),Kt.iC,Q1({bufferSize:1,refCount:!1})),je=j.pipe(Li(qe=>new Xn.y(wt=>({unsubscribe:o.runOutsideAngular(()=>qe.onAuthStateChanged(xt=>wt.next(xt),xt=>wt.error(xt),()=>wt.complete()))})))),et=j.pipe(Li(qe=>new Xn.y(wt=>({unsubscribe:o.runOutsideAngular(()=>qe.onIdTokenChanged(xt=>wt.next(xt),xt=>wt.error(xt),()=>wt.complete()))}))));this.authState=Ne.pipe(LI(je),(0,cb.R)(c.outsideAngular),(0,W0.Q)(c.insideAngular)),this.user=Ne.pipe(LI(et),(0,cb.R)(c.outsideAngular),(0,W0.Q)(c.insideAngular)),this.idToken=this.user.pipe(Li(qe=>qe?(0,mt.D)(qe.getIdToken()):He(null))),this.idTokenResult=this.user.pipe(Li(qe=>qe?(0,mt.D)(qe.getIdTokenResult()):He(null))),this.credential=(0,is.T)(Ne,F,this.authState.pipe(Qt(qe=>!qe))).pipe((0,$e.U)(qe=>qe?.user?qe:null),(0,cb.R)(c.outsideAngular),(0,W0.Q)(c.insideAngular))}return(0,En.pX)(this,j,o,{spy:{apply:(ne,Ne,je)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&je.then(et=>F.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En.Dh),s.LFG(En.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Kt.HU),s.LFG(l,8),s.LFG(u,8),s.LFG(h,8),s.LFG(f,8),s.LFG(g,8),s.LFG(b,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),A=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",Kt.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[T]}),n})();function B(n,t){return function R(n,t=ys.z){return new Xn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function se(n,t){return B(n,t).pipe((0,$e.U)(e=>({payload:e,type:"query"})))}function Te(n,t){return se(n,t).pipe(ei(void 0),Tc(),(0,$e.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(w=>w.doc.ref.isEqual(c.ref)),y=e?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function Fe(n,t,e){return Te(n,e).pipe(Yr((i,r)=>function Xe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function At(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return at(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return at(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return at(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),io(),(0,$e.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function at(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Oe(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Et{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Te(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,$e.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ei(void 0),Tc(),Qt(([i,r])=>r.length>0||!i),(0,$e.U)(([i,r])=>r),Kt.iC)}auditTrail(t){return this.stateChanges(t).pipe(Yr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Oe(t);return Fe(this.query,e,this.afs.schedulers.outsideAngular).pipe(Kt.iC)}valueChanges(t={}){return se(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Kt.iC)}get(t){return(0,mt.D)(this.query.get(t)).pipe(Kt.iC)}add(t){return this.ref.add(t)}doc(t){return new rn(this.ref.doc(t),this.afs)}}class rn{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=Tb(i,e);return new Et(r,o,this.afs)}snapshotChanges(){return function Q(n,t){return B(n,t).pipe(ei(void 0),Tc(),(0,$e.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,$e.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,mt.D)(this.ref.get(t)).pipe(Kt.iC)}}class si{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Te(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Qt(e=>e.length>0),Kt.iC):Te(this.query,this.afs.schedulers.outsideAngular).pipe(Kt.iC)}auditTrail(t){return this.stateChanges(t).pipe(Yr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Oe(t);return Fe(this.query,e,this.afs.schedulers.outsideAngular).pipe(Kt.iC)}valueChanges(t={}){return se(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Kt.iC)}get(t){return(0,mt.D)(this.query.get(t)).pipe(Kt.iC)}}const Cd=new s.OlP("angularfire2.enableFirestorePersistence"),Eb=new s.OlP("angularfire2.firestore.persistenceSettings"),yD=new s.OlP("angularfire2.firestore.settings"),vD=new s.OlP("angularfire2.firestore.use-emulator");function Tb(n,t=(e=>e)){return{query:t(n),ref:n}}let Sb=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E,M,P,F,j,ne,Ne,je){this.schedulers=p;const et=(0,En.on)(e,d,i),qe=w;E&&D(et,d,M,F,j,ne,P,Ne),[this.firestore,this.persistenceEnabled$]=(0,En.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const wt=d.runOutsideAngular(()=>et.firestore());if(o&&wt.settings(o),qe&&wt.useEmulator(...qe),r&&!Tf(c)){const xt=()=>{try{return(0,mt.D)(wt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(hn){return typeof console<"u"&&console.warn(hn),He(!1)}};return[wt,d.runOutsideAngular(xt)]}return[wt,He(!1)]},[o,qe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=Tb(r,i),d=this.schedulers.ngZone.run(()=>o);return new Et(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new si(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new rn(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En.Dh),s.LFG(En.xv,8),s.LFG(Cd,8),s.LFG(yD,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Kt.HU),s.LFG(Eb,8),s.LFG(vD,8),s.LFG(T,8),s.LFG(l,8),s.LFG(u,8),s.LFG(h,8),s.LFG(f,8),s.LFG(g,8),s.LFG(b,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bD=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",Kt.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Cd,useValue:!0},{provide:Eb,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Sb]}),n})();class Tr extends nt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:wD}=Array,{getPrototypeOf:CD,prototype:uG,keys:dG}=Object;function HF(n){if(1===n.length){const t=n[0];if(wD(t))return{args:t,keys:null};if(function hG(n){return n&&"object"==typeof n&&CD(n)===uG}(t)){const e=dG(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:fG}=Array;function CR(n){return(0,$e.U)(t=>function pG(n,t){return fG(t)?n(...t):n(t)}(n,t))}function jF(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var mG=V(9672);function Ib(...n){const t=(0,to.yG)(n),e=(0,to.jO)(n),{args:i,keys:r}=HF(n);if(0===i.length)return(0,mt.D)([],t);const o=new Xn.y(function gG(n,t,e=Wr.y){return i=>{GF(t,()=>{const{length:r}=n,o=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)GF(t,()=>{const y=(0,mt.D)(n[p],t);let w=!1;y.subscribe((0,pn.x)(i,E=>{o[p]=E,w||(w=!0,d--),d||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>jF(r,c):Wr.y));return e?o.pipe(CR(e)):o}function GF(n,t,e){n?(0,mG.f)(e,n,t):t()}function DD(n){return new Xn.y(t=>{(0,bd.Xf)(n()).subscribe(t)})}var _G=V(9635);function Ab(n,t){const e=(0,vo.m)(n)?n:()=>n,i=r=>r.error(e());return new Xn.y(t?r=>t.schedule(i,0,r):i)}var rr=V(727);function DR(){return(0,Pn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,pn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class qF extends Xn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Pn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,pn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rr.w0.EMPTY)}return t}refCount(){return DR()(this)}}var Ts=V(5577);function $p(n,t){return(0,vo.m)(t)?(0,Ts.z)(n,t,1):(0,Ts.z)(n,1)}var sr=V(8505);function tf(n){return(0,Pn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,pn.x)(e,void 0,void 0,c=>{o=(0,bd.Xf)(n(c,tf(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ER(n){return n<=0?()=>Hl.E:(0,Pn.e)((t,e)=>{let i=[];t.subscribe((0,pn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function zF(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qt((r,o)=>n(r,o,i)):Wr.y,ER(1),e?Xg(t):K0(()=>new Jg))}function $F(n,t=!1){return(0,Pn.e)((e,i)=>{let r=0;e.subscribe((0,pn.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}function TR(n){return(0,$e.U)(()=>n)}function cA(n){return(0,Pn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const sn="primary";class yG{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xb(n){return new yG(n)}function vG(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],d=n[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Dd(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ZF(n[r],t[r]))return!1;return!0}function ZF(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function YF(n){return Array.prototype.concat.apply([],n)}function WF(n){return n.length>0?n[n.length-1]:null}function Ss(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function nf(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,mt.D)(Promise.resolve(n)):He(n)}const CG={exact:function JF(n,t,e){if(!s_(n.segments,t.segments)||!uA(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!JF(n.children[i],t.children[i],e))return!1;return!0},subset:XF},KF={exact:function DG(n,t){return Dd(n,t)},subset:function EG(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ZF(n[e],t[e]))},ignored:()=>!0};function QF(n,t,e){return CG[e.paths](n.root,t.root,e.matrixParams)&&KF[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function XF(n,t,e){return eL(n,t,t.segments,e)}function eL(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!s_(r,e)||t.hasChildren()||!uA(r,e,i))}if(n.segments.length===e.length){if(!s_(n.segments,e)||!uA(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!XF(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(s_(n.segments,r)&&uA(n.segments,r,i)&&n.children[sn])&&eL(n.children[sn],t,o,i)}}function uA(n,t,e){return t.every((i,r)=>KF[e](n[r].parameters,i.parameters))}class r_{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xb(this.queryParams)),this._queryParamMap}toString(){return IG.serialize(this)}}class un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ss(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dA(this)}}class ED{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=xb(this.parameters)),this._parameterMap}toString(){return sL(this)}}function s_(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class tL{}class nL{parse(t){const e=new FG(t);return new r_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${TD(t.root,!0)}`,i=function MG(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${hA(e)}=${hA(r)}`).join("&"):`${hA(e)}=${hA(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function AG(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const IG=new nL;function dA(n){return n.segments.map(t=>sL(t)).join("/")}function TD(n,t){if(!n.hasChildren())return dA(n);if(t){const e=n.children[sn]?TD(n.children[sn],!1):"",i=[];return Ss(n.children,(r,o)=>{o!==sn&&i.push(`${o}:${TD(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function SG(n,t){let e=[];return Ss(n.children,(i,r)=>{r===sn&&(e=e.concat(t(i,r)))}),Ss(n.children,(i,r)=>{r!==sn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===sn?[TD(n.children[sn],!1)]:[`${r}:${TD(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${dA(n)}/${e[0]}`:`${dA(n)}/(${e.join("//")})`}}function iL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hA(n){return iL(n).replace(/%3B/gi,";")}function IR(n){return iL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fA(n){return decodeURIComponent(n)}function rL(n){return fA(n.replace(/\+/g,"%20"))}function sL(n){return`${IR(n.path)}${function xG(n){return Object.keys(n).map(t=>`;${IR(t)}=${IR(n[t])}`).join("")}(n.parameters)}`}const kG=/^[^\/()?;=#]+/;function pA(n){const t=n.match(kG);return t?t[0]:""}const RG=/^[^=?&#]+/,PG=/^[^&#]+/;class FG{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new un(t,e)),i}parseSegment(){const t=pA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new ED(fA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=pA(this.remaining);r&&(i=r,this.capture(i))}t[fA(e)]=fA(i)}parseQueryParam(t){const e=function OG(n){const t=n.match(RG);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function NG(n){const t=n.match(PG);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=rL(e),o=rL(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=sn);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[sn]:new un([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function AR(n){return n.segments.length>0?new un([],{[sn]:n}):n}function mA(n){const t={};for(const i of Object.keys(n.children)){const o=mA(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function LG(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new un(n.segments.concat(t.segments),t.children)}return n}(new un(n.segments,t))}function o_(n){return n instanceof r_}function UG(n,t,e,i,r){if(0===e.length)return Mb(t.root,t.root,t.root,i,r);const o=function lL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aL(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Ss(o.outlets,(p,y)=>{d[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new aL(e,t,i)}(e);return o.toRoot()?Mb(t.root,t.root,new un([],{}),i,r):function c(p){const y=function jG(n,t,e,i){if(n.isAbsolute)return new kb(t.root,!0,0);if(-1===i)return new kb(e,e===t.root,0);return function cL(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new kb(i,!1,r-o)}(e,i+(SD(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,p),w=y.processChildren?AD(y.segmentGroup,y.index,o.commands):MR(y.segmentGroup,y.index,o.commands);return Mb(t.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function SD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ID(n){return"object"==typeof n&&null!=n&&n.outlets}function Mb(n,t,e,i,r){let c,o={};i&&Ss(i,(p,y)=>{o[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),c=n===t?e:oL(n,t,e);const d=AR(mA(c));return new r_(d,o,r)}function oL(n,t,e){const i={};return Ss(n.children,(r,o)=>{i[o]=r===t?e:oL(r,t,e)}),new un(n.segments,i)}class aL{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&SD(i[0]))throw new s.vHH(4003,!1);const r=i.find(ID);if(r&&r!==WF(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kb{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function MR(n,t,e){if(n||(n=new un([],{})),0===n.segments.length&&n.hasChildren())return AD(n,t,e);const i=function qG(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],d=e[i];if(ID(d))break;const p=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!dL(p,y,c))return o;i+=2}else{if(!dL(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new un(n.segments.slice(0,i.pathIndex),{});return o.children[sn]=new un(n.segments.slice(i.pathIndex),n.children),AD(o,0,r)}return i.match&&0===r.length?new un(n.segments,{}):i.match&&!n.hasChildren()?kR(n,t,e):i.match?AD(n,0,r):kR(n,t,e)}function AD(n,t,e){if(0===e.length)return new un(n.segments,{});{const i=function GG(n){return ID(n[0])?n[0].outlets:{[sn]:n}}(e),r={};return Ss(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=MR(n.children[c],t,o))}),Ss(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new un(n.segments,r)}}function kR(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(ID(o)){const p=zG(o.outlets);return new un(i,p)}if(0===r&&SD(e[0])){i.push(new ED(n.segments[t].path,uL(e[0]))),r++;continue}const c=ID(o)?o.outlets[sn]:`${o}`,d=r<e.length-1?e[r+1]:null;c&&d&&SD(d)?(i.push(new ED(c,uL(d))),r+=2):(i.push(new ED(c,{})),r++)}return new un(i,{})}function zG(n){const t={};return Ss(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=kR(new un([],{}),0,e))}),t}function uL(n){const t={};return Ss(n,(e,i)=>t[i]=`${e}`),t}function dL(n,t,e){return n==e.path&&Dd(t,e.parameters)}class rf{constructor(t,e){this.id=t,this.url=e}}class RR extends rf{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class a_ extends rf{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gA extends rf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hL extends rf{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $G extends rf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZG extends rf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YG extends rf{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WG extends rf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KG extends rf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QG{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JG{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XG{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eq{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tq{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nq{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fL{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pL{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=OR(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=OR(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=PR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return PR(t,this._root).map(e=>e.value)}}function OR(n,t){if(n===t.value)return t;for(const e of t.children){const i=OR(n,e);if(i)return i}return null}function PR(n,t){if(n===t.value)return[t];for(const e of t.children){const i=PR(n,e);if(i.length)return i.unshift(t),i}return[]}class sf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mL extends pL{constructor(t,e){super(t),this.snapshot=e,NR(this,t)}toString(){return this.snapshot.toString()}}function gL(n,t){const e=function rq(n,t){const c=new _A([],{},{},"",{},sn,t,null,n.root,-1,{});return new yL("",new sf(c,[]))}(n,t),i=new Tr([new ED("",{})]),r=new Tr({}),o=new Tr({}),c=new Tr({}),d=new Tr(""),p=new Ob(i,r,c,d,o,sn,t,e.root);return p.snapshot=e.root,new mL(new sf(p,[]),e)}class Ob{constructor(t,e,i,r,o,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(t=>xb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(t=>xb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _L(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function sq(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class _A{constructor(t,e,i,r,o,c,d,p,y,w,E,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=w,this._correctedLastPathIndex=M??w,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yL extends pL{constructor(t,e){super(e),this.url=t,NR(this,e)}toString(){return vL(this._root)}}function NR(n,t){t.value._routerState=n,t.children.forEach(e=>NR(n,e))}function vL(n){const t=n.children.length>0?` { ${n.children.map(vL).join(", ")} } `:"";return`${n.value}${t}`}function FR(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Dd(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Dd(t.params,e.params)||n.params.next(e.params),function bG(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Dd(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Dd(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function LR(n,t){const e=Dd(n.params,t.params)&&function TG(n,t){return s_(n,t)&&n.every((e,i)=>Dd(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||LR(n.parent,t.parent))}function xD(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function aq(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xD(n,i,r);return xD(n,i)})}(n,t,e);return new sf(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>xD(n,d)),c}}const i=function lq(n){return new Ob(new Tr(n.url),new Tr(n.params),new Tr(n.queryParams),new Tr(n.fragment),new Tr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>xD(n,o));return new sf(i,r)}}const VR="ngNavigationCancelingError";function bL(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=o_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=wL(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function wL(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[VR]=!0,i.cancellationCode=t,e&&(i.url=e),i}function CL(n){return DL(n)&&o_(n.url)}function DL(n){return n&&n[VR]}class cq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new MD,this.attachRef=null}}class MD{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new cq,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const yA=!1;let BR=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||sn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,yA);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,yA);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,yA);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,yA);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new uq(e,d,r.injector);if(i&&function dq(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(MD),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class uq{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ob?this.route:t===MD?this.childContexts:this.parent.get(t,e)}}let EL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[BR],encapsulation:2}),n})();function TL(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function HR(n){const t=n.children&&n.children.map(HR),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=EL),e}function ql(n){return n.outlet||sn}function SL(n,t){const e=n.filter(i=>ql(i)===t);return e.push(...n.filter(i=>ql(i)!==t)),e}function IL(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class gq{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),FR(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Rb(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Ss(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Rb(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Rb(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Rb(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new nq(o.value.snapshot))}),t.children.length&&this.forwardEvent(new eq(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(FR(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),FR(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=IL(r.snapshot),p=d?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class AL{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vA{constructor(t,e){this.component=t,this.route=e}}function _q(n,t,e){const i=n._root;return kD(i,t?t._root:null,e,[i.value])}function bA(n,t,e){return(IL(t)??e).get(n)}function kD(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rb(t);return n.children.forEach(c=>{(function vq(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function bq(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!s_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!s_(n.url,t.url)||!Dd(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LR(n,t)||!Dd(n.queryParams,t.queryParams);default:return!LR(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new AL(i)):(o.data=c.data,o._resolvedData=c._resolvedData),kD(n,t,o.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new vA(d.outlet.component,c))}else c&&RD(t,d,r),r.canActivateChecks.push(new AL(i)),kD(n,null,o.component?d?d.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Ss(o,(c,d)=>RD(c,e.getContext(d),r)),r}function RD(n,t,e){const i=Rb(n),r=n.value;Ss(i,(o,c)=>{RD(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new vA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function OD(n){return"function"==typeof n}const wA=Symbol("INITIAL_VALUE");function Pb(){return Li(n=>Ib(n.map(t=>t.pipe(Ln(1),ei(wA)))).pipe((0,$e.U)(t=>{for(const e of t)if(!0!==e){if(e===wA)return wA;if(!1===e||e instanceof r_)return e}return!0}),Qt(t=>t!==wA),Ln(1)))}function xL(n){return(0,_G.z)((0,sr.b)(t=>{if(o_(t))throw bL(0,t)}),(0,$e.U)(t=>!0===t))}const jR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ML(n,t,e,i,r){const o=GR(n,t,e);return o.matched?function Lq(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?He(r.map(c=>{const d=n.get(c),p=function Sq(n){return n&&OD(n.canMatch)}(d)?d.canMatch(t,e):d(t,e);return nf(p)})).pipe(Pb(),xL()):He(!0)}(i=TL(t,i),t,e).pipe((0,$e.U)(c=>!0===c?o:{...jR})):He(o)}function GR(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...jR}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||vG)(e,n,t);if(!r)return{...jR};const o={};Ss(r.posParams,(d,p)=>{o[p]=d.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function CA(n,t,e,i,r="corrected"){if(e.length>0&&function Uq(n,t,e){return e.some(i=>DA(n,t,i)&&ql(i)!==sn)}(n,e,i)){const c=new un(t,function Bq(n,t,e,i){const r={};r[sn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ql(o)!==sn){const c=new un([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[ql(o)]=c}return r}(n,t,i,new un(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Hq(n,t,e){return e.some(i=>DA(n,t,i))}(n,e,i)){const c=new un(n.segments,function Vq(n,t,e,i,r,o){const c={};for(const d of i)if(DA(n,e,d)&&!r[ql(d)]){const p=new un([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[ql(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new un(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function DA(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function kL(n,t,e,i){return!!(ql(n)===i||i!==sn&&DA(t,e,n))&&("**"===n.path||GR(t,n,e).matched)}function RL(n,t,e){return 0===t.length&&!n.children[e]}const EA=!1;class TA{constructor(t){this.segmentGroup=t||null}}class OL{constructor(t){this.urlTree=t}}function PD(n){return Ab(new TA(n))}function PL(n){return Ab(new OL(n))}class zq{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=CA(this.urlTree.root,[],[],this.config).segmentGroup,e=new un(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,sn).pipe((0,$e.U)(o=>this.createUrlTree(mA(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tf(o=>{if(o instanceof OL)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof TA?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,sn).pipe((0,$e.U)(r=>this.createUrlTree(mA(r),t.queryParams,t.fragment))).pipe(tf(r=>{throw r instanceof TA?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,EA)}createUrlTree(t,e,i){const r=AR(t);return new r_(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,$e.U)(o=>new un([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,mt.D)(r).pipe($p(o=>{const c=i.children[o],d=SL(e,o);return this.expandSegmentGroup(t,d,c,o).pipe((0,$e.U)(p=>({segment:p,outlet:o})))}),Yr((o,c)=>(o[c.outlet]=c.segment,o),{}),zF())}expandSegment(t,e,i,r,o,c){return(0,mt.D)(i).pipe($p(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,c).pipe(tf(y=>{if(y instanceof TA)return He(null);throw y}))),Ua(d=>!!d),tf((d,p)=>{if(d instanceof Jg||"EmptyError"===d.name)return RL(e,r,o)?He(new un([],{})):PD(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,c,d){return kL(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):PD(e):PD(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?PL(o):this.lineralizeSegments(i,o).pipe((0,Ts.z)(c=>{const d=new un(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:d,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=GR(e,r,o);if(!d)return PD(e);const E=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?PL(E):this.lineralizeSegments(r,E).pipe((0,Ts.z)(M=>this.expandSegment(t,e,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=TL(i,t),i.loadChildren?(i._loadedRoutes?He({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,$e.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new un(r,{})))):He(new un(r,{}))):ML(e,i,r,t).pipe(Li(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Ts.z)(w=>{const E=w.injector??t,M=w.routes,{segmentGroup:P,slicedSegments:F}=CA(e,d,p,M),j=new un(P.segments,P.children);if(0===F.length&&j.hasChildren())return this.expandChildren(E,M,j).pipe((0,$e.U)(et=>new un(d,et)));if(0===M.length&&0===F.length)return He(new un(d,{}));const ne=ql(i)===o;return this.expandSegment(E,j,M,F,ne?sn:o,!0).pipe((0,$e.U)(je=>new un(d.concat(je.segments),je.children)))})):PD(e)))}getChildConfig(t,e,i){return e.children?He({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?He({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fq(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?He(!0):He(r.map(c=>{const d=n.get(c),p=function Cq(n){return n&&OD(n.canLoad)}(d)?d.canLoad(t,e):d(t,e);return nf(p)})).pipe(Pb(),xL())}(t,e,i).pipe((0,Ts.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,sr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Gq(n){return Ab(wL(EA,3))}())):He({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return He(i);if(r.numberOfChildren>1||!r.children[sn])return Ab(new s.vHH(4e3,EA));r=r.children[sn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new r_(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ss(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Ss(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new un(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,EA);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Zq{}class Kq{constructor(t,e,i,r,o,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=CA(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,sn).pipe((0,$e.U)(e=>{if(null===e)return null;const i=new _A([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sf(i,e),o=new yL(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=_L(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,mt.D)(Object.keys(i.children)).pipe($p(r=>{const o=i.children[r],c=SL(e,r);return this.processSegmentGroup(t,c,o,r)}),Yr((r,o)=>r&&o?(r.push(...o),r):null),$F(r=>null!==r),Xg(null),zF(),(0,$e.U)(r=>{if(null===r)return null;const o=NL(r);return function Qq(n){n.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,mt.D)(e).pipe($p(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),Ua(c=>!!c),tf(c=>{if(c instanceof Jg)return RL(i,r,o)?He([]):He(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!kL(e,i,r,o))return He(null);let c;if("**"===e.path){const d=r.length>0?WF(r).parameters:{},p=LL(i)+r.length;c=He({snapshot:new _A(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BL(e),ql(e),e.component??e._loadedComponent??null,e,FL(i),p,UL(e),p),consumedSegments:[],remainingSegments:[]})}else c=ML(i,e,r,t).pipe((0,$e.U)(({matched:d,consumedSegments:p,remainingSegments:y,parameters:w})=>{if(!d)return null;const E=LL(i)+p.length;return{snapshot:new _A(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BL(e),ql(e),e.component??e._loadedComponent??null,e,FL(i),E,UL(e),E),consumedSegments:p,remainingSegments:y}}));return c.pipe(Li(d=>{if(null===d)return He(null);const{snapshot:p,consumedSegments:y,remainingSegments:w}=d;t=e._injector??t;const E=e._loadedInjector??t,M=function Jq(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:F}=CA(i,y,w,M.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===F.length&&P.hasChildren())return this.processChildren(E,M,P).pipe((0,$e.U)(ne=>null===ne?null:[new sf(p,ne)]));if(0===M.length&&0===F.length)return He([new sf(p,[])]);const j=ql(e)===o;return this.processSegment(E,M,P,F,j?sn:o).pipe((0,$e.U)(ne=>null===ne?null:[new sf(p,ne)]))}))}}function Xq(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function NL(n){const t=[],e=new Set;for(const i of n){if(!Xq(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=NL(i.children);t.push(new sf(i.value,r))}return t.filter(i=>!e.has(i))}function FL(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function LL(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function BL(n){return n.data||{}}function UL(n){return n.resolve||{}}const qR=Symbol("RouteTitle");function HL(n){return"string"==typeof n.title||null===n.title}function zR(n){return Li(t=>{const e=n(t);return e?(0,mt.D)(e).pipe((0,$e.U)(()=>t)):He(t)})}class cz extends class lz{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $R=new s.OlP("ROUTES");let ZR=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return He(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=nf(e.loadComponent()).pipe((0,sr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),cA(()=>{this.componentLoaders.delete(e)})),r=new qF(i,()=>new nt.x).pipe(DR());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return He({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,$e.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,w=!1;Array.isArray(d)?y=d:(p=d.create(e).injector,y=YF(p.get($R,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(HR),injector:p}}),cA(()=>{this.childrenLoaders.delete(i)})),c=new qF(o,()=>new nt.x).pipe(DR());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return nf(e()).pipe((0,Ts.z)(i=>i instanceof s.YKP||Array.isArray(i)?He(i):(0,mt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class dz{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hz(n){throw n}function fz(n,t,e){return t.parse("/")}const pz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class n{constructor(e,i,r,o,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nt.x,this.errorHandler=hz,this.malformedUriErrorHandler=fz,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>He(void 0),this.urlHandlingStrategy=new dz,this.routeReuseStrategy=new cz,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(ZR),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new JG(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new QG(M)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const E=c.get(s.R0b);this.isNgZoneEnabled=E instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function wG(){return new r_(new un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gL(this.currentUrlTree,this.rootComponentType),this.transitions=new Tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Qt(r=>0!==r.id),(0,$e.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Li(r=>{let o=!1,c=!1;return He(r).pipe((0,sr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Li(d=>{const p=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return GL(d.source)&&(this.browserUrlTree=d.extractedUrl),He(d).pipe(Li(E=>{const M=this.transitions.getValue();return i.next(new RR(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),M!==this.transitions.getValue()?Hl.E:Promise.resolve(E)}),function $q(n,t,e,i){return Li(r=>function qq(n,t,e,i,r){return new zq(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,$e.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sr.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function tz(n,t,e,i,r,o){return(0,Ts.z)(c=>function Wq(n,t,e,i,r,o,c="emptyOnly",d="legacy"){return new Kq(n,t,e,i,r,c,d,o).recognize().pipe(Li(p=>null===p?function Yq(n){return new Xn.y(t=>t.error(n))}(new Zq):He(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,o).pipe((0,$e.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sr.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(P,E)}this.browserUrlTree=E.urlAfterRedirects}const M=new $G(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:P,source:F,restoredState:j,extras:ne}=d,Ne=new RR(M,this.serializeUrl(P),F,j);i.next(Ne);const je=gL(P,this.rootComponentType).snapshot;return He(r={...d,targetSnapshot:je,urlAfterRedirects:P,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Hl.E}),(0,sr.b)(d=>{const p=new ZG(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,$e.U)(d=>r={...d,guards:_q(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Aq(n,t){return(0,Ts.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?He({...e,guardsResult:!0}):function xq(n,t,e,i){return(0,mt.D)(n).pipe((0,Ts.z)(r=>function Nq(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?He(o.map(d=>{const p=bA(d,t,r);return nf(function Tq(n){return n&&OD(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,i):p(n,t,e,i)).pipe(Ua())})).pipe(Pb()):He(!0)}(r.component,r.route,e,t,i)),Ua(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Ts.z)(d=>d&&function wq(n){return"boolean"==typeof n}(d)?function Mq(n,t,e,i){return(0,mt.D)(t).pipe($p(r=>_a(function Rq(n,t){return null!==n&&t&&t(new XG(n)),He(!0)}(r.route.parent,i),function kq(n,t){return null!==n&&t&&t(new tq(n)),He(!0)}(r.route,i),function Pq(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function yq(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>DD(()=>He(c.guards.map(p=>{const y=bA(p,c.node,e);return nf(function Eq(n){return n&&OD(n.canActivateChild)}(y)?y.canActivateChild(i,n):y(i,n)).pipe(Ua())})).pipe(Pb())));return He(o).pipe(Pb())}(n,r.path,e),function Oq(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return He(!0);const r=i.map(o=>DD(()=>{const c=bA(o,t,e);return nf(function Dq(n){return n&&OD(n.canActivate)}(c)?c.canActivate(t,n):c(t,n)).pipe(Ua())}));return He(r).pipe(Pb())}(n,r.route,e))),Ua(r=>!0!==r,!0))}(i,o,n,t):He(d)),(0,$e.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,sr.b)(d=>{if(r.guardsResult=d.guardsResult,o_(d.guardsResult))throw bL(0,d.guardsResult);const p=new YG(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),Qt(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),zR(d=>{if(d.guards.canActivateChecks.length)return He(d).pipe((0,sr.b)(p=>{const y=new WG(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Li(p=>{let y=!1;return He(p).pipe(function nz(n,t){return(0,Ts.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return He(e);let o=0;return(0,mt.D)(r).pipe($p(c=>function iz(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!HL(r)&&(o[qR]=r.title),function rz(n,t,e,i){const r=function sz(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return He({});const o={};return(0,mt.D)(r).pipe((0,Ts.z)(c=>function oz(n,t,e,i){const r=bA(n,t,i);return nf(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe(Ua(),(0,sr.b)(d=>{o[c]=d}))),ER(1),TR(o),tf(c=>c instanceof Jg?Hl.E:Ab(c)))}(o,n,t,i).pipe((0,$e.U)(c=>(n._resolvedData=c,n.data=_L(n,e).resolve,r&&HL(r)&&(n.data[qR]=r.title),null)))}(c.route,i,n,t)),(0,sr.b)(()=>o++),ER(1),(0,Ts.z)(c=>o===r.length?He(e):Hl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sr.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,sr.b)(p=>{const y=new KG(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),zR(d=>{const p=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,sr.b)(E=>{y.component=E}),(0,$e.U)(()=>{})));for(const E of y.children)w.push(...p(E));return w};return Ib(p(d.targetSnapshot.root)).pipe(Xg(),Ln(1))}),zR(()=>this.afterPreactivation()),(0,$e.U)(d=>{const p=function oq(n,t,e){const i=xD(n,t._root,e?e._root:void 0);return new mL(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,sr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,$e.U)(i=>(new gq(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,sr.b)({next(){o=!0},complete(){o=!0}}),cA(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),tf(d=>{if(c=!0,DL(d)){CL(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new gA(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),CL(d)){const y=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GL(r.source)};this.scheduleNavigation(y,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new hL(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return Hl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(HR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,y=r||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...o};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),UG(y,this.currentUrlTree,e,E,w??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=o_(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function gz(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...pz}:!1===i?{...mz}:i,o_(e))return QF(this.currentUrlTree,e,r);const o=this.parseUrl(e);return QF(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new a_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let d,p,y;c?(d=c.resolve,p=c.reject,y=c.promise):y=new Promise((M,P)=>{d=M,p=P});const w=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),E=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):E=0,this.setTransition({id:w,targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:d,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new gA(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function GL(n){return"imperative"!==n}let AA=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new nt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hr),s.Y36(Ob),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),xA=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new nt.x,this.subscription=e.events.subscribe(o=>{o instanceof a_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){if(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hr),s.Y36(Ob),s.Y36(we))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),qL=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===sn);return i}getResolvedTitleForRoute(e){return e.data[qR]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(vz)},providedIn:"root"}),n})(),vz=(()=>{class n extends qL{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zL{}let $L=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(e=>e instanceof a_),$p(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,d=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,mt.D)(r).pipe((0,no.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):He(null);const o=r.pipe((0,Ts.z)(c=>null===c?He(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,mt.D)([o,c]).pipe((0,no.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(zL),s.LFG(ZR))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ZL=new s.OlP("");let bz=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof RR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof a_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fL&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new fL(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YR=new s.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),YL=new s.OlP("ROUTER_FORROOT_GUARD"),WL=new s.OlP(""),wz=[Ce,{provide:tL,useClass:nL},{provide:hr,useFactory:function Iz(n,t,e,i,r,o,c,d={},p,y){const w=new hr(null,n,t,e,i,r,YF(o));return p&&(w.urlHandlingStrategy=p),y&&(w.routeReuseStrategy=y),w.titleStrategy=c,function Az(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),w},deps:[tL,MD,Ce,s.zs3,s.Sil,$R,qL,YR,[class uz{},new s.FiY],[class az{},new s.FiY]]},MD,{provide:Ob,useFactory:function xz(n){return n.routerState.root},deps:[hr]},ZR];function Cz(){return new s.PXZ("Router",hr)}let KL=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[wz,[],QL(e),{provide:YL,useFactory:Sz,deps:[[hr,new s.FiY,new s.tp0]]},{provide:YR,useValue:i||{}},i?.useHash?{provide:we,useClass:Re}:{provide:we,useClass:ut},{provide:ZL,useFactory:()=>{const n=(0,s.f3M)(hr),t=(0,s.f3M)(yc),e=(0,s.f3M)(YR);return e.scrollOffset&&t.setOffset(e.scrollOffset),new bz(n,t,e)}},i?.preloadingStrategy?Fz(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:Cz},i?.initialNavigation?kz(i):[],[{provide:JL,useFactory:Mz},{provide:s.tb,multi:!0,useExisting:JL}]]}}static forChild(e){return{ngModule:n,providers:[QL(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YL,8),s.LFG(hr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Sz(n){return"guarded"}function QL(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:$R,multi:!0,useValue:n}]}function Mz(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(hr),r=n.get(XL);null===n.get(WR,null,s.XFs.Optional)&&i.initialNavigation(),n.get(WL,null,s.XFs.Optional)?.setUpPreloading(),n.get(ZL,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const JL=new s.OlP("");function kz(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(hr);return()=>{n.setUpLocationChangeListener()}}},{provide:WR,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:WR,useValue:"enabledBlocking"},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(q,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(hr),c=n.get(XL);(function i(r){n.get(hr).events.pipe(Qt(c=>c instanceof a_||c instanceof gA||c instanceof hL),(0,$e.U)(c=>c instanceof a_||c instanceof gA&&(0===c.code||1===c.code)&&null),Qt(c=>null!==c),Ln(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||c.closed?He(void 0):c),o.initialNavigation()}))}}]:[]]}const XL=new s.OlP("",{factory:()=>new nt.x}),WR=new s.OlP("");function Fz(n){return[$L,{provide:WL,useExisting:$L},{provide:zL,useExisting:n}]}class e2{}const lf="*";function Is(n,t){return{type:7,name:n,definitions:t,options:{}}}function mi(n,t=null){return{type:4,styles:t,timings:n}}function t2(n,t=null){return{type:3,steps:n,options:t}}function n2(n,t=null){return{type:2,steps:n,options:t}}function St(n){return{type:6,styles:n,offset:null}}function Rn(n,t,e){return{type:0,name:n,styles:t,options:e}}function l_(n){return{type:5,steps:n}}function Wn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function MA(n=null){return{type:9,options:n}}function kA(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function r2(n){Promise.resolve(null).then(n)}class ND{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){r2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class s2{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?r2(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const o2=["toast-component",""];function Vz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.remove())}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA()()}}function Bz(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij("[",e.duplicatesCount+1,"]")}}function Uz(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,Bz,2,1,"ng-container",4),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.titleClass),s.uIk("aria-label",e.title),s.xp6(1),s.hij(" ",e.title," "),s.xp6(1),s.Q6J("ngIf",e.duplicatesCount)}}function Hz(n,t){if(1&n&&s._UZ(0,"div",7),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.Q6J("innerHTML",e.message,s.oJD)}}function jz(n,t){if(1&n&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.uIk("aria-label",e.message),s.xp6(1),s.hij(" ",e.message," ")}}function Gz(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Udp("width",e.width+"%")}}class Kz{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class RA{constructor(t,e,i,r,o,c){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=c,this._onTap=new nt.x,this._onAction=new nt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const l2=new s.OlP("ToastConfig");class Jz{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new nt.x,this._activate=new nt.x,this._manualClose=new nt.x,this._resetTimeout=new nt.x,this._countDuplicate=new nt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Xz{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,i){return t===RA?this._toastPackage:this._parentInjector.get(t,e,i)}}class e$ extends class Qz{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class t${constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let n$=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i$=(()=>{class n{constructor(e,i,r,o){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=r,this._document=o,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new e$(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new t$(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n$),s.LFG(s._Vd),s.LFG(s.z2F),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vn=(()=>{class n{constructor(e,i,r,o,c){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){const{includeTitleDuplicates:c}=this.toastrConfig;for(const d of this.toasts){const p=c&&d.title===e;if((!c||p)&&d.message===i)return d.toastRef.onDuplicate(r,o),d}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const p=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let y=i;i&&o.enableHtml&&(y=this.sanitizer.sanitize(s.q3G.HTML,i));const w=new Jz(p),E=new RA(this.index,o,y,r,e,w),M=new Xz(E,this._injector),P=new Kz(o.toastComponent,M),F=p.attach(P,this.toastrConfig.newestOnTop);w.componentInstance=F.instance;const j={toastId:this.index,title:r||"",message:i||"",toastRef:w,onShown:w.afterActivate(),onHidden:w.afterClosed(),onTap:E.onTap(),onAction:E.onAction(),portal:F};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{j.toastRef.activate()})),this.toasts.push(j),j}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l2),s.LFG(i$),s.LFG(s.zs3),s.LFG(Ec),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(RA),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(s.d8E("@flyInOut",i.state),s.Tol(i.toastClasses),s.Udp("display",i.displayStyle))},attrs:o2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(s.YNc(0,Vz,3,0,"button",0),s.YNc(1,Uz,3,5,"div",1),s.YNc(2,Hz,1,3,"div",2),s.YNc(3,jz,2,4,"div",3),s.YNc(4,Gz,2,2,"div",4)),2&e&&(s.Q6J("ngIf",i.options.closeButton),s.xp6(1),s.Q6J("ngIf",i.title),s.xp6(1),s.Q6J("ngIf",i.message&&i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.message&&!i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.options.progressBar))},dependencies:[Wt],encapsulation:2,data:{animation:[Is("flyInOut",[Rn("inactive",St({opacity:0})),Rn("active",St({opacity:1})),Rn("removed",St({opacity:0})),Wn("inactive => active",mi("{{ easeTime }}ms {{ easing }}")),Wn("active => removed",mi("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let s$=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:l2,useValue:{default:r$,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wi]}),n})(),FD=(()=>{class n{constructor(e,i,r,o,c){this.afs=e,this.afAuth=i,this.router=r,this.toastr=o,this.ngZone=c,this.afAuth.authState.subscribe(d=>{d?(this.userData=d.email,this.userName=d.email,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),this.userName="",JSON.parse(localStorage.getItem("user")))})}SignIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i).then(r=>{this.ngZone.run(()=>{this.SetUserData(r.user),this.toastr.success("Autenticaci\xf3n completa!"),this.router.navigate([""])})}).catch(r=>{this.toastr.error("Intente otra vez!")})}SetUserData(e){return this.afs.doc(`user/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.toastr.info("Ha terminado su sesi\xf3n!"),this.router.navigate(["login"])})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}ResetPass(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{this.toastr.success("Se ha enviado un correo de verificaci\xf3n!"),this.router.navigate(["login"])},i=>{this.toastr.error("Algo no ha salido bien!!")})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sb),s.LFG(T),s.LFG(hr),s.LFG(Vn),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function It(n){return null!=n&&"false"!=`${n}`}function cu(n,t=0){return c2(n)?Number(n):t}function c2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function OA(n){return Array.isArray(n)?n:[n]}function Sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cf(n){return n instanceof s.SBq?n.nativeElement:n}var a$=V(1144);const l$=["addListener","removeListener"],c$=["addEventListener","removeEventListener"],u$=["on","off"];function c_(n,t,e,i){if((0,vo.m)(e)&&(i=e,e=void 0),i)return c_(n,t,e).pipe(CR(i));const[r,o]=function f$(n){return(0,vo.m)(n.addEventListener)&&(0,vo.m)(n.removeEventListener)}(n)?c$.map(c=>d=>n[c](t,d,e)):function d$(n){return(0,vo.m)(n.addListener)&&(0,vo.m)(n.removeListener)}(n)?l$.map(u2(n,t)):function h$(n){return(0,vo.m)(n.on)&&(0,vo.m)(n.off)}(n)?u$.map(u2(n,t)):[];if(!r&&(0,a$.z)(n))return(0,Ts.z)(c=>c_(c,t,e))((0,bd.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Xn.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>o(d)})}function u2(n,t){return e=>i=>n[e](t,i)}var d2=V(4408);const LD={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=LD;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new rr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=LD;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=LD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var h2=V(7565);new class m$ extends h2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class p$ extends d2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=LD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(LD.cancelAnimationFrame(e),t._scheduled=void 0)}});let QR,_$=1;const PA={};function f2(n){return n in PA&&(delete PA[n],!0)}const y$={setImmediate(n){const t=_$++;return PA[t]=!0,QR||(QR=Promise.resolve()),QR.then(()=>f2(t)&&n()),t},clearImmediate(n){f2(n)}},{setImmediate:v$,clearImmediate:b$}=y$,NA={setImmediate(...n){const{delegate:t}=NA;return(t?.setImmediate||v$)(...n)},clearImmediate(n){const{delegate:t}=NA;return(t?.clearImmediate||b$)(n)},delegate:void 0};new class C$ extends h2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class w$ extends d2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=NA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(NA.clearImmediate(e),t._scheduled=void 0)}});var T$=V(3532);function p2(n=0,t,e=ys.P){let i=-1;return null!=t&&((0,T$.K)(t)?e=t:i=t),new Xn.y(r=>{let o=function S$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function m2(n,t=ys.z){return function E$(n){return(0,Pn.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const d=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},p=()=>{o=null,c&&e.complete()};t.subscribe((0,pn.x)(e,y=>{i=!0,r=y,o||(0,bd.Xf)(n(y)).subscribe(o=(0,pn.x)(e,d,p))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>p2(n,t))}var g2=V(5032);function Xt(n){return(0,Pn.e)((t,e)=>{(0,bd.Xf)(n).subscribe((0,pn.x)(e,()=>e.complete(),g2.Z)),!e.closed&&t.subscribe(e)})}let JR;try{JR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{JR=!1}let Nb,Ir=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Pr(n){return n===On}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!JR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function y2(){if(Nb)return Nb;if("object"!=typeof document||!document)return Nb=new Set(_2),Nb;let n=document.createElement("input");return Nb=new Set(_2.filter(t=>(n.setAttribute("type",t),n.type===t))),Nb}let VD,FA,u_,XR;function BD(n){return function I$(){if(null==VD&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>VD=!0}))}finally{VD=VD||!1}return VD}()?n:!!n.capture}function v2(){if(null==u_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u_=!1,u_;if("scrollBehavior"in document.documentElement.style)u_=!0;else{const n=Element.prototype.scrollTo;u_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return u_}function UD(){if("object"!=typeof document||!document)return 0;if(null==FA){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),FA=0,0===n.scrollLeft&&(n.scrollLeft=1,FA=0===n.scrollLeft?1:2),n.remove()}return FA}function HD(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function d_(n){return n.composedPath?n.composedPath()[0]:n.target}function eO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const M$=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function k$(){return(0,s.f3M)(ie)}}),R$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $o=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function O$(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?R$.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(M$,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),GD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new nt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Xn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(m2(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):He()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Qt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=cf(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>c_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Ir),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qD=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new nt.x,this._elementScrolled=new Xn.y(c=>this.ngZone.runOutsideAngular(()=>c_(this.elementRef.nativeElement,"scroll").pipe(Xt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=UD()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==UD()?e.left=e.right:1==UD()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;v2()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==UD()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==UD()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(GD),s.Y36(s.R0b),s.Y36($o,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Fb=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new nt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(m2(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir),s.LFG(s.R0b),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),tO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[jD,h_,jD,h_]}),n})();function bo(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function zD(n,t=ys.z){return(0,Pn.e)((e,i)=>{let r=null,o=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function p(){const y=c+n,w=t.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);d()}e.subscribe((0,pn.x)(i,y=>{o=y,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}function b2(n){return Qt((t,e)=>n<=e)}let w2=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z$=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=cf(e);return new Xn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new nt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(w2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C2=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=cu(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(zD(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(z$),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),iO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[w2]}),n})();const D2=new Set;let Bb,$$=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Y$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Z$(n){if(!D2.has(n))try{Bb||(Bb=document.createElement("style"),Bb.setAttribute("type","text/css"),document.head.appendChild(Bb)),Bb.sheet&&(Bb.sheet.insertRule(`@media ${n} {body{ }}`,0),D2.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let E2=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new nt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return T2(OA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Ib(T2(OA(e)).map(c=>this._registerQuery(c).observable));return o=_a(o.pipe(Ln(1)),o.pipe(b2(1),zD(0))),o.pipe((0,$e.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{d.matches=d.matches||p,d.breakpoints[y]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Xn.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(ei(i),(0,$e.U)(({matches:c})=>({query:e,matches:c})),Xt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($$),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T2(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function HA(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const I2="cdk-describedby-message",jA="cdk-describedby-host";let rO=0,A2=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+rO++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+rO++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=sO(i,r);"string"!=typeof i?(x2(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=sO(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const c=this._messageRegistry.get(o);c&&0===c.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${jA}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(jA);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");x2(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(sO(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=HA(e,"aria-describedby").filter(r=>0!=r.indexOf(I2));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function K$(n,t,e){const i=HA(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(jA,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Q$(n,t,e){const r=HA(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(jA)}_isElementDescribedByMessage(e,i){const r=HA(e,"aria-describedby"),o=this._messageRegistry.get(i),c=o&&o.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Ir))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sO(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function x2(n,t){n.id||(n.id=`${I2}-${t}-${rO++}`)}class J$ extends class M2{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new nt.x,this._typeaheadSubscription=rr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new nt.x,this.change=new nt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,sr.b)(e=>this._pressedLetters.push(e)),zD(t),Qt(()=>this._pressedLetters.length>0),(0,$e.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||bo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let $D=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function t4(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function e4(n){try{return n.frameElement}catch{return null}}(function c4(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===R2(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=R2(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function a4(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function l4(n){return!function i4(n){return function s4(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function n4(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function r4(n){return function o4(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||k2(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k2(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function R2(n){if(!k2(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class u4{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ln(1)).subscribe(t)}}let ZD=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new u4(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($D),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d4=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=It(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=It(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=HD(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ZD),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function O2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function P2(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const h4=new s.OlP("cdk-input-modality-detector-options"),f4={ignoreKeys:[18,17,224,91,16]},Ub=BD({passive:!0,capture:!0});let p4=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Tr(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=d_(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(O2(c)?"keyboard":"mouse"),this._mostRecentTarget=d_(c))},this._onTouchstart=c=>{P2(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=d_(c))},this._options={...f4,...o},this.modalityDetected=this._modality.pipe(b2(1)),this.modalityChanged=this.modalityDetected.pipe(io()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ub),r.addEventListener("mousedown",this._onMousedown,Ub),r.addEventListener("touchstart",this._onTouchstart,Ub)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ub),document.removeEventListener("mousedown",this._onMousedown,Ub),document.removeEventListener("touchstart",this._onTouchstart,Ub))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir),s.LFG(s.R0b),s.LFG(ie),s.LFG(h4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m4=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function g4(){return null}}),_4=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let y4=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[o,c]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(m4,8),s.LFG(s.R0b),s.LFG(ie),s.LFG(_4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v4=new s.OlP("cdk-focus-monitor-default-options"),GA=BD({passive:!0,capture:!0});let Zl=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nt.x,this._rootNodeFocusAndBlurListener=d=>{for(let y=d_(d);y;y=y.parentElement)"focus"===d.type?this._onFocus(d,y):this._onBlur(d,y)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=cf(e);if(!this._platform.isBrowser||1!==r.nodeType)return He(null);const o=function x$(n){if(function A$(){if(null==XR){const n=typeof document<"u"?document.head:null;XR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return XR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new nt.x,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=cf(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=cf(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=d_(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,GA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,GA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Ir),s.LFG(p4),s.LFG(ie,8),s.LFG(v4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b4=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zl))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const F2="cdk-high-contrast-black-on-white",L2="cdk-high-contrast-white-on-black",oO="cdk-high-contrast-active";let V2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(E2).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(oO,F2,L2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(oO,F2):2===i&&e.add(oO,L2)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aO=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(V2))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[iO]}),n})();function w4(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function C4(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const D4=["*"];let E4=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),T4=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const I4=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function S4(){return!0}});let mn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!eO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(V2),s.LFG(I4,8),s.LFG(ie))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[jD,jD]}),n})();function p_(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=It(t)}}}function Hb(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function m_(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=It(t)}}}function lO(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?cu(e):this.defaultTabIndex}}}function H2(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function j2(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Xn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const A4=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function x4(){return(0,s.f3M)(s.soG)}});class As{constructor(){this._localeChanges=new nt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const g_=new s.OlP("mat-date-formats"),M4=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function cO(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let k4=(()=>{class n extends As{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return cO(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return cO(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return cO(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(M4.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(A4,8),s.LFG(Ir))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const R4={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:As,useClass:k4}]}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:g_,useValue:R4}],imports:[O4]}),n})(),uO=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function YD(n,t,e){n.nativeElement.classList.toggle(t,e)}let z2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn,mn]}),n})();class N4{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $2={enterDuration:225,exitDuration:150},dO=BD({passive:!0}),Z2=["mousedown","touchstart"],Y2=["mouseup","mouseleave","touchend","touchcancel"];class L4{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=cf(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...$2,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function V4(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,y=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=d-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const E=window.getComputedStyle(w),P=E.transitionDuration,F="none"===E.transitionProperty||"0s"===P||"0s, 0s"===P,j=new N4(this,w,i,F);w.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let ne=null;return!F&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ne=()=>this._finishRippleTransition(j),je=()=>this._destroyRipple(j);w.addEventListener("transitionend",Ne),w.addEventListener("transitioncancel",je),ne={onTransitionEnd:Ne,onTransitionCancel:je}}),this._activeRipples.set(j,ne),(F||!y)&&this._finishRippleTransition(j),j}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...$2,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=cf(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Z2))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Y2),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=O2(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!P2(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,dO)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Z2.forEach(t=>{this._triggerElement.removeEventListener(t,this,dO)}),this._pointerUpEventsRegistered&&Y2.forEach(t=>{this._triggerElement.removeEventListener(t,this,dO)}))}}const B4=new s.OlP("mat-ripple-global-options");let Zp=(()=>{class n{constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new L4(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Ir),s.Y36(B4,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),qA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn,mn]}),n})(),W2=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn]}),n})();const K2=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),Q2=new s.OlP("MatOptgroup");let U4=0;class H4{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let j4=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+U4++,this.onSelectionChange=new s.vpe,this._stateChanges=new nt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=It(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!bo(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new H4(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),__=(()=>{class n extends j4{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(K2,8),s.Y36(Q2,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:D4,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,w4,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,C4,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Zp,Wt,W2],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function J2(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[o]&&o++;return o}return 0}let X2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qA,wi,mn,hO]}),n})();const zA=["*"],q4=["content"];function z4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function $4(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const Z4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Y4=["mat-drawer","mat-drawer-content","*"];function W4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function K4(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const Q4=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],J4=["mat-sidenav","mat-sidenav-content","*"],eV={transformDrawer:Is("transform",[Rn("open, open-instant",St({transform:"none",visibility:"visible"})),Rn("void",St({"box-shadow":"none",visibility:"hidden"})),Wn("void => open-instant",mi("0ms")),Wn("void <=> open, open-instant => void",mi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},eZ=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function tZ(){return!1}}),fO=new s.OlP("MAT_DRAWER_CONTAINER");let $A=(()=>{class n extends qD{constructor(e,i,r,o,c){super(r,o,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>nV)),s.Y36(s.SBq),s.Y36(GD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:qD,useExisting:n}]),s.qOj],ngContentSelectors:zA,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),tV=(()=>{class n{constructor(e,i,r,o,c,d,p,y){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=d,this._doc=p,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new nt.x,this._animationEnd=new nt.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(Qt(w=>w),(0,$e.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Qt(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),TR(void 0)),this._closedStream=this.openedChange.pipe(Qt(w=>!w),(0,$e.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Qt(w=>w.fromState!==w.toState&&"void"===w.toState),TR(void 0)),this._destroyed=new nt.x,this.onPositionChanged=new s.vpe,this._modeChanged=new nt.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{c_(this._elementRef.nativeElement,"keydown").pipe(Qt(w=>27===w.keyCode&&!this.disableClose&&!bo(w)),Xt(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(io((w,E)=>w.fromState===E.fromState&&w.toState===E.toState)).subscribe(w=>{const{fromState:E,toState:M}=w;(0===M.indexOf("open")&&"void"===E||"void"===M&&0===E.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=It(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=It(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(It(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ln(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ZD),s.Y36(Zl),s.Y36(Ir),s.Y36(s.R0b),s.Y36($D),s.Y36(ie,8),s.Y36(fO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(q4,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:zA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[qD],encapsulation:2,data:{animation:[eV.transformDrawer]},changeDetection:0}),n})(),nV=(()=>{class n{constructor(e,i,r,o,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=p,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new nt.x,this._doCheckSubject=new nt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new nt.x,e&&e.change.pipe(Xt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Xt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=It(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:It(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ei(this._allDrawers),Xt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ei(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(zD(10),Xt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Qt(i=>i.fromState!==i.toState),Xt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Xt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Xt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ln(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Xt((0,is.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($o,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Fb),s.Y36(eZ),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,$A,5),s.Suo(r,tV,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf($A,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:fO,useExisting:n}])],ngContentSelectors:Y4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(Z4),s.YNc(0,z4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,$4,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Wt,$A],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),pO=(()=>{class n extends $A{constructor(e,i,r,o,c){super(e,i,r,o,c)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>rV)),s.Y36(s.SBq),s.Y36(GD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:qD,useExisting:n}]),s.qOj],ngContentSelectors:zA,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),iV=(()=>{class n extends tV{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=It(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=cu(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=cu(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:zA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[qD],encapsulation:2,data:{animation:[eV.transformDrawer]},changeDetection:0}),n})(),rV=(()=>{class n extends nV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,pO,5),s.Suo(r,iV,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:fO,useExisting:n}]),s.qOj],ngContentSelectors:J4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(Q4),s.YNc(0,W4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,K4,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Wt,pO],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),nZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wi,mn,h_,h_,mn]}),n})();const iZ=["*",[["mat-toolbar-row"]]],rZ=["*","mat-toolbar-row"],sZ=Hb(class{constructor(n){this._elementRef=n}});let sV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),oZ=(()=>{class n extends sZ{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ir),s.Y36(ie))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,sV,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:rZ,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(iZ),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),aZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn,mn]}),n})();function oV(...n){const t=(0,to.jO)(n),{args:e,keys:i}=HF(n),r=new Xn.y(o=>{const{length:c}=e;if(!c)return void o.complete();const d=new Array(c);let p=c,y=c;for(let w=0;w<c;w++){let E=!1;(0,bd.Xf)(e[w]).subscribe((0,pn.x)(o,M=>{E||(E=!0,y--),d[w]=M},()=>p--,void 0,()=>{(!p||!E)&&(y||o.next(i?jF(i,d):d),o.complete())}))}});return t?r.pipe(CR(t)):r}class lZ{}class Yp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===o.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class cZ{encodeKey(t){return aV(t)}encodeValue(t){return aV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dZ=/%(\d[a-f0-9])/gi,hZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aV(n){return encodeURIComponent(n).replace(dZ,(t,e)=>hZ[e]??t)}function ZA(n){return`${n}`}class Wp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cZ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uZ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,d]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(ZA):[ZA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ZA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ZA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class fZ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function lV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cV(n){return typeof Blob<"u"&&n instanceof Blob}function uV(n){return typeof FormData<"u"&&n instanceof FormData}class WD{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function pZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Yp),this.context||(this.context=new fZ),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Wp,this.urlWithParams=e}serializeBody(){return null===this.body?null:lV(this.body)||cV(this.body)||uV(this.body)||function mZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uV(this.body)?null:cV(this.body)?this.body.type||null:lV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,y=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((E,M)=>E.set(M,t.setHeaders[M]),p)),t.setParams&&(y=Object.keys(t.setParams).reduce((E,M)=>E.set(M,t.setParams[M]),y)),new WD(e,i,o,{params:y,headers:p,context:w,reportProgress:d,responseType:r,withCredentials:c})}}var xs=(()=>((xs=xs||{})[xs.Sent=0]="Sent",xs[xs.UploadProgress=1]="UploadProgress",xs[xs.ResponseHeader=2]="ResponseHeader",xs[xs.DownloadProgress=3]="DownloadProgress",xs[xs.Response=4]="Response",xs[xs.User=5]="User",xs))();class mO extends class gZ{constructor(t,e=200,i="OK"){this.headers=t.headers||new Yp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=xs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new mO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function gO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hV=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof WD)o=e;else{let p,y;p=r.headers instanceof Yp?r.headers:new Yp(r.headers),r.params&&(y=r.params instanceof Wp?r.params:new Wp({fromObject:r.params})),o=new WD(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=He(o).pipe($p(p=>this.handler.handle(p)));if(e instanceof WD||"events"===r.observe)return c;const d=c.pipe(Qt(p=>p instanceof mO));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,$e.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,$e.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,$e.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,$e.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,gO(r,i))}post(e,i,r={}){return this.request("POST",e,gO(r,i))}put(e,i,r={}){return this.request("PUT",e,gO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lZ))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yZ=["*"];let YA;function KD(n){return function vZ(){if(void 0===YA&&(YA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(YA=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return YA}()?.createHTML(n)||n}function fV(n){return Error(`Unable to find icon with the name "${n}"`)}function pV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class y_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let WA=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new y_(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const c=this._sanitizer.sanitize(s.q3G.HTML,r);if(!c)throw mV(r);const d=KD(c);return this._addSvgIconConfig(e,i,new y_("",d,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new y_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw mV(i);const c=KD(o);return this._addSvgIconSetConfig(e,new y_("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw pV(e);const r=this._cachedIconsByUrl.get(i);return r?He(KA(r)):this._loadSvgIconFromConfig(new y_(e,null)).pipe((0,sr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,$e.U)(o=>KA(o)))}getNamedSvgIcon(e,i=""){const r=gV(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Ab(fV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?He(KA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,$e.U)(i=>KA(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?He(r):oV(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(tf(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),He(null)})))).pipe((0,$e.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw fV(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(c,e,o.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,sr.b)(i=>e.svgText=i),(0,$e.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?He(null):this._fetchIcon(e).pipe((0,sr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(KD("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(KD("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:c,value:d}=r[o];"id"!==c&&i.setAttribute(c,d)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function bZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!c)throw pV(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,$e.U)(y=>KD(y)),cA(()=>this._inProgressUrlFetches.delete(c)),(0,FI.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(gV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return CZ(o)?new y_(o.url,null,o.options):new y_(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hV,8),s.LFG(Ec),s.LFG(ie,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KA(n){return n.cloneNode(!0)}function gV(n,t){return n+":"+t}function CZ(n){return!(!n.url||!n.options)}const DZ=Hb(class{constructor(n){this._elementRef=n}}),EZ=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),TZ=new s.OlP("mat-icon-location",{providedIn:"root",factory:function SZ(){const n=(0,s.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),_V=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],IZ=_V.map(n=>`[${n}]`).join(", "),AZ=/^url\(['"]?#(.*?)['"]?\)$/;let xZ=(()=>{class n extends DZ{constructor(e,i,r,o,c,d){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rr.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=It(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(IZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)_V.forEach(c=>{const d=i[o],p=d.getAttribute(c),y=p?p.match(AZ):null;if(y){let w=r.get(d);w||(w=[],r.set(d,w)),w.push({name:c,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ln(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(WA),s.$8M("aria-hidden"),s.Y36(TZ),s.Y36(s.qLn),s.Y36(EZ,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:yZ,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),MZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn,mn]}),n})();const yV=["mat-button",""],vV=["*"],OZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],PZ=Hb(p_(m_(class{constructor(n){this._elementRef=n}})));let Vr=(()=>{class n extends PZ{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of OZ)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zl),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Zp,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:yV,ngContentSelectors:vV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Zp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),NZ=(()=>{class n extends Vr{constructor(e,i,r,o){super(i,e,r),this._ngZone=o,this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zl),s.Y36(s.SBq),s.Y36(s.QbO,8),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:yV,ngContentSelectors:vV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Zp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qA,mn,mn]}),n})();function yO(n){return n&&"function"==typeof n.connect}class bV{applyChanges(t,e,i,r,o){t.forEachOperation((c,d,p)=>{let y,w;if(null==c.previousIndex){const E=i(c,d,p);y=e.createEmbeddedView(E.templateRef,E.context,E.index),w=1}else null==p?(e.remove(d),w=3):(y=e.get(d),e.move(y,p),w=2);o&&o({context:y?.context,operation:w,record:c})})}detach(){}}class vO{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new nt.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let CV=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QD=new s.OlP("_ViewRepeater");let DV=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),v_=(()=>{class n extends DV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ga=new s.OlP("NgValueAccessor"),VZ={provide:Ga,useExisting:(0,s.Gpc)(()=>wo),multi:!0},UZ=new s.OlP("CompositionEventMode");let wo=(()=>{class n extends DV{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BZ(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(UZ,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([VZ]),s.qOj]}),n})();function Kp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function TV(n){return null!=n&&"number"==typeof n.length}const ss=new s.OlP("NgValidators"),Qp=new s.OlP("NgAsyncValidators"),jZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(t){return function SV(n){return t=>{if(Kp(t.value)||Kp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function IV(n){return t=>{if(Kp(t.value)||Kp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return AV(t)}static requiredTrue(t){return function xV(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function MV(n){return Kp(n.value)||jZ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function kV(n){return t=>Kp(t.value)||!TV(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function RV(n){return t=>TV(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function OV(n){if(!n)return QA;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Kp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return BV(t)}static composeAsync(t){return UV(t)}}function AV(n){return Kp(n.value)?{required:!0}:null}function QA(n){return null}function PV(n){return null!=n}function NV(n){return(0,s.QGY)(n)?(0,mt.D)(n):n}function FV(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function LV(n,t){return t.map(e=>e(n))}function VV(n){return n.map(t=>function GZ(n){return!n.validate}(t)?t:e=>t.validate(e))}function BV(n){if(!n)return null;const t=n.filter(PV);return 0==t.length?null:function(e){return FV(LV(e,t))}}function bO(n){return null!=n?BV(VV(n)):null}function UV(n){if(!n)return null;const t=n.filter(PV);return 0==t.length?null:function(e){return oV(LV(e,t).map(NV)).pipe((0,$e.U)(FV))}}function wO(n){return null!=n?UV(VV(n)):null}function HV(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jV(n){return n._rawValidators}function GV(n){return n._rawAsyncValidators}function CO(n){return n?Array.isArray(n)?n:[n]:[]}function JA(n,t){return Array.isArray(n)?n.includes(t):n===t}function qV(n,t){const e=CO(t);return CO(n).forEach(r=>{JA(e,r)||e.push(r)}),e}function zV(n,t){return CO(t).filter(e=>!JA(n,e))}class $V{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=bO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Co extends $V{get formDirective(){return null}get path(){return null}}class uu extends $V{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZV{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qa=(()=>{class n extends ZV{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uu,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),za=(()=>{class n extends ZV{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Co,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const JD="VALID",ex="INVALID",jb="PENDING",XD="DISABLED";function SO(n){return(tx(n)?n.validators:n)||null}function WV(n){return Array.isArray(n)?bO(n):n||null}function IO(n,t){return(tx(t)?t.asyncValidators:n)||null}function KV(n){return Array.isArray(n)?wO(n):n||null}function tx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function QV(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function JV(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class nx{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=WV(this._rawValidators),this._composedAsyncValidatorFn=KV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===JD}get invalid(){return this.status===ex}get pending(){return this.status==jb}get disabled(){return this.status===XD}get enabled(){return this.status!==XD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=WV(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=KV(t)}addValidators(t){this.setValidators(qV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(qV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zV(t,this._rawAsyncValidators))}hasValidator(t){return JA(this._rawValidators,t)}hasAsyncValidator(t){return JA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=jb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=XD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=JD,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===JD||this.status===jb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?XD:JD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=jb,this._hasOwnPendingAsyncValidator=!0;const e=NV(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?XD:this.errors?ex:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jb)?jb:this._anyControlsHaveStatus(ex)?ex:JD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tx(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class ix extends nx{constructor(t,e,i){super(SO(e),IO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){JV(this,0,t),Object.keys(t).forEach(i=>{QV(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function eE(n,t){AO(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function JZ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XV(n,t)})}(n,t),function eY(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function XZ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XV(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function QZ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function sx(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),ax(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ox(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function AO(n,t){const e=jV(n);null!==t.validator?n.setValidators(HV(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=GV(n);null!==t.asyncValidator?n.setAsyncValidators(HV(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ox(t._rawValidators,r),ox(t._rawAsyncValidators,r)}function ax(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=jV(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=GV(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return ox(t._rawValidators,i),ox(t._rawAsyncValidators,i),e}function XV(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eB(n,t){AO(n,t)}function nB(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const sY={provide:Co,useExisting:(0,s.Gpc)(()=>Gb)},tE=(()=>Promise.resolve(null))();let Gb=(()=>{class n extends Co{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new ix({},bO(e),wO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){tE.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),eE(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){tE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){tE.then(()=>{const i=this._findContainer(e.path),r=new ix({});eB(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){tE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){tE.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nB(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ss,10),s.Y36(Qp,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([sY]),s.qOj]}),n})();function iB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function rB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nE=class extends nx{constructor(t=null,e,i){super(SO(e),IO(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tx(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let $a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const cY={provide:Ga,useExisting:(0,s.Gpc)(()=>b_),multi:!0};let b_=(()=>{class n extends v_{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([cY]),s.qOj]}),n})(),cB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const kO=new s.OlP("NgModelWithFormControlWarning"),pY={provide:Co,useExisting:(0,s.Gpc)(()=>os)};let os=(()=>{class n extends Co{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ax(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return eE(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){sx(e.control||null,e,!1),function rY(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,nB(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(sx(i||null,e),(n=>n instanceof nE)(r)&&(eE(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);eB(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function tY(n,t){return ax(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AO(this.form,this),this._oldForm&&ax(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ss,10),s.Y36(Qp,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([pY]),s.qOj,s.TTD]}),n})();const _Y={provide:uu,useExisting:(0,s.Gpc)(()=>Zo)};let Zo=(()=>{class n extends uu{constructor(e,i,r,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function MO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===wo?e=o:function iY(n){return Object.getPrototypeOf(n.constructor)===v_}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function xO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function rx(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Co,13),s.Y36(ss,10),s.Y36(Qp,10),s.Y36(Ga,10),s.Y36(kO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([_Y]),s.qOj,s.TTD]}),n})(),w_=(()=>{class n{constructor(){this._validator=QA}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):QA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const SY={provide:ss,useExisting:(0,s.Gpc)(()=>Yo),multi:!0};let Yo=(()=>{class n extends w_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>AV}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([SY]),s.qOj]}),n})(),EB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cB]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[EB]}),n})(),lx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[EB]}),n})();class TB extends nx{constructor(t,e,i){super(SO(e),IO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){JV(this,0,t),t.forEach((i,r)=>{QV(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function SB(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Yl=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return SB(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ix(r,o)}control(e,i,r){let o={};return this.useNonNullable?(SB(i)?o=i:(o.validators=i,o.asyncValidators=r),new nE(e,{...o,nonNullable:!0})):new nE(e,i,r)}array(e,i,r){const o=e.map(c=>this._createControl(c));return new TB(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof nE||e instanceof nx?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:lx}),n})(),RY=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=It(e)}get inset(){return this._inset}set inset(e){this._inset=It(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),OY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn,mn]}),n})();const IB=["*"],NY=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],FY=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],HY=p_(m_(class{})),jY=m_(class{}),GY=new s.OlP("MatList"),AB=new s.OlP("MatNavList");let qY=(()=>{class n extends HY{constructor(){super(...arguments),this._stateChanges=new nt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[s._Bn([{provide:AB,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:IB,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),xB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),MB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),zY=(()=>{class n extends jY{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new nt.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Xt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=It(e)}ngAfterContentInit(){!function q2(n,t,e="mat"){n.changes.pipe(ei(n)).subscribe(({length:i})=>{YD(t,`${e}-2-line`,!1),YD(t,`${e}-3-line`,!1),YD(t,`${e}-multi-line`,!1),2===i||3===i?YD(t,`${e}-${i}-line`,!0):i>3&&YD(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(AB,8),s.Y36(GY,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,xB,5),s.Suo(r,MB,5),s.Suo(r,G2,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:FY,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(NY),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[Zp],encapsulation:2,changeDetection:0}),n})(),QY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[z2,qA,mn,hO,wi,z2,mn,hO,OY]}),n})();const RB=new s.OlP("CdkAccordion");let JY=0,XY=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=rr.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+JY++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=It(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RB,12),s.Y36(s.sBO),s.Y36(CV))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:RB,useValue:void 0}])]}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class VO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qb extends VO{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class cx extends VO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class t5 extends VO{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class BO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof cx?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof t5?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class n5 extends BO{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zb=(()=>{class n extends BO{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const r5=["body"];function s5(n,t){}const o5=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],a5=["mat-expansion-panel-header","*","mat-action-row"];function l5(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const c5=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],u5=["mat-panel-title","mat-panel-description","*"],OB=new s.OlP("MAT_ACCORDION"),PB="225ms cubic-bezier(0.4,0.0,0.2,1)",NB={indicatorRotate:Is("indicatorRotate",[Rn("collapsed, void",St({transform:"rotate(0deg)"})),Rn("expanded",St({transform:"rotate(180deg)"})),Wn("expanded <=> collapsed, void => collapsed",mi(PB))]),bodyExpansion:Is("bodyExpansion",[Rn("collapsed, void",St({height:"0px",visibility:"hidden"})),Rn("expanded",St({height:"*",visibility:"visible"})),Wn("expanded <=> collapsed, void => collapsed",mi(PB))])},FB=new s.OlP("MAT_EXPANSION_PANEL");let d5=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(FB,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),h5=0;const LB=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let VB=(()=>{class n extends XY{constructor(e,i,r,o,c,d,p){super(e,i,r),this._viewContainerRef=o,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new nt.x,this._headerId="mat-expansion-panel-header-"+h5++,this._bodyAnimationDone=new nt.x,this.accordion=e,this._document=c,this._bodyAnimationDone.pipe(io((y,w)=>y.fromState===w.fromState&&y.toState===w.toState)).subscribe(y=>{"void"!==y.fromState&&("expanded"===y.toState?this.afterExpand.emit():"collapsed"===y.toState&&this.afterCollapse.emit())}),p&&(this.hideToggle=p.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=It(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ei(null),Qt(()=>this.expanded&&!this._portal),Ln(1)).subscribe(()=>{this._portal=new cx(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(OB,12),s.Y36(s.sBO),s.Y36(CV),s.Y36(s.s_b),s.Y36(ie),s.Y36(s.QbO,8),s.Y36(LB,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,d5,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(r5,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:OB,useValue:void 0},{provide:FB,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:a5,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(o5),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,s5,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[zb],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[NB.bodyExpansion]},changeDetection:0}),n})();class f5{}const p5=lO(f5);let m5=(()=>{class n extends p5{constructor(e,i,r,o,c,d,p){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=d,this._parentChangeSubscription=rr.w0.EMPTY;const y=e.accordion?e.accordion._stateChanges.pipe(Qt(w=>!(!w.hideToggle&&!w.togglePosition))):Hl.E;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,is.T)(e.opened,e.closed,y,e._inputChanges.pipe(Qt(w=>!!(w.hideToggle||w.disabled||w.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Qt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:bo(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(VB,1),s.Y36(s.SBq),s.Y36(Zl),s.Y36(s.sBO),s.Y36(LB,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:u5,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(c5),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,l5,1,1,"span",1)),2&e&&(s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[Wt],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[NB.indicatorRotate]},changeDetection:0}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),_5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wi,mn,e5,$b]}),n})();function y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",16),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.authService.SignOut())}),s.TgZ(1,"mat-icon"),s._uU(2," power_settings_new"),s.qZA(),s._uU(3,"Salir"),s.qZA()}}const BB=function(){return["/login"]};function v5(n,t){1&n&&(s.TgZ(0,"a",7)(1,"mat-icon"),s._uU(2," login"),s.qZA(),s._uU(3," Acceder"),s.qZA()),2&n&&s.Q6J("routerLink",s.DdM(1,BB))}const b5=function(){return["/products"]},w5=function(){return["/providers"]},C5=function(){return["/requisitions"]};function D5(n,t){1&n&&(s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s._uU(3," Suministros "),s.qZA()(),s.TgZ(4,"a",17)(5,"span",18),s._uU(6,"inventory_2"),s.qZA(),s._uU(7," Productos "),s.qZA(),s.TgZ(8,"a",17)(9,"span",18),s._uU(10,"group"),s.qZA(),s._uU(11," Proveedores "),s.qZA(),s.TgZ(12,"a",17)(13,"span",18),s._uU(14,"description"),s.qZA(),s._uU(15," Requisiciones "),s.qZA()()),2&n&&(s.xp6(4),s.Q6J("routerLink",s.DdM(3,b5)),s.xp6(4),s.Q6J("routerLink",s.DdM(4,w5)),s.xp6(4),s.Q6J("routerLink",s.DdM(5,C5)))}const E5=function(){return["/classifications"]},T5=function(){return["/cicles"]},S5=function(){return["/ranches"]},I5=function(){return["/company"]};function A5(n,t){1&n&&(s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s._uU(3," Configuraci\xf3n "),s.qZA()(),s.TgZ(4,"a",17)(5,"span",18),s._uU(6,"category"),s.qZA(),s._uU(7," Clasificaciones "),s.qZA(),s.TgZ(8,"a",17)(9,"span",18),s._uU(10,"event_repeat"),s.qZA(),s._uU(11," Ciclos "),s.qZA(),s.TgZ(12,"a",17)(13,"span",18),s._uU(14,"agriculture"),s.qZA(),s._uU(15," Ranchos "),s.qZA(),s.TgZ(16,"a",17)(17,"span",18),s._uU(18,"corporate_fare"),s.qZA(),s._uU(19," Empresa "),s.qZA()()),2&n&&(s.xp6(4),s.Q6J("routerLink",s.DdM(4,E5)),s.xp6(4),s.Q6J("routerLink",s.DdM(5,T5)),s.xp6(4),s.Q6J("routerLink",s.DdM(6,S5)),s.xp6(4),s.Q6J("routerLink",s.DdM(7,I5)))}function x5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.authService.SignOut())}),s.TgZ(1,"span",18),s._uU(2,"power_settings_new"),s.qZA(),s._uU(3,"Salir"),s.qZA()}}function M5(n,t){1&n&&(s.TgZ(0,"a",17)(1,"span",18),s._uU(2,"login"),s.qZA(),s._uU(3," Acceder"),s.qZA()),2&n&&s.Q6J("routerLink",s.DdM(1,BB))}const UB=function(){return["/"]};let k5=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.title="ranchlook"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(FD),s.Y36(hr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:26,vars:10,consts:[["id","toolbar"],[1,"nav-row"],["mat-icon-button",""],[3,"click"],["mat-button","",2,"font-size","1.1rem",3,"routerLink"],[1,"menu-spacer"],["id","nav_a"],["mat-button","",3,"routerLink"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"routerLink",4,"ngIf"],["mode","side","opened","false"],["sidenav",""],[4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"routerLink",4,"ngIf"],[2,"height","90.5vh"],["mat-button","",3,"click"],["mat-list-item","",3,"routerLink"],[1,"material-icons"],["mat-list-item","",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row",1)(2,"button",2)(3,"mat-icon",3),s.NdJ("click",function(){s.CHM(r);const c=s.MAs(17);return s.KtG(c.toggle())}),s._uU(4,"menu"),s.qZA()(),s.TgZ(5,"a",4),s._uU(6,"RANCHLOOK"),s.qZA(),s._UZ(7,"span",5),s.TgZ(8,"div",6)(9,"a",7)(10,"mat-icon"),s._uU(11," home"),s.qZA(),s._uU(12," Inicio"),s.qZA(),s.YNc(13,y5,4,0,"a",8),s.YNc(14,v5,4,2,"a",9),s.qZA()()(),s.TgZ(15,"mat-sidenav-container")(16,"mat-sidenav",10,11)(18,"mat-nav-list"),s.YNc(19,D5,16,6,"mat-expansion-panel",12),s.YNc(20,A5,20,8,"mat-expansion-panel",12),s.YNc(21,x5,4,0,"a",13),s.YNc(22,M5,4,2,"a",14),s.qZA()(),s.TgZ(23,"mat-sidenav-content")(24,"div",15),s._UZ(25,"router-outlet"),s.qZA()()()}2&e&&(s.xp6(5),s.Q6J("routerLink",s.DdM(8,UB)),s.xp6(4),s.Q6J("routerLink",s.DdM(9,UB)),s.xp6(4),s.Q6J("ngIf",i.authService.userName),s.xp6(1),s.Q6J("ngIf",!i.authService.userName),s.xp6(5),s.Q6J("ngIf",i.authService.userName),s.xp6(1),s.Q6J("ngIf",i.authService.userName),s.xp6(1),s.Q6J("ngIf",i.authService.userName),s.xp6(1),s.Q6J("ngIf",!i.authService.userName))},dependencies:[Wt,BR,xA,iV,rV,pO,oZ,sV,xZ,Vr,NZ,qY,zY,VB,m5,g5],styles:[".nav-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:100%;margin:0 auto}#toolbar[_ngcontent-%COMP%]{background-color:#155a89;color:#eff0f1}#toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#eff0f1;transform:scale(1.1)}@media (max-width: 650px){#nav_a[_ngcontent-%COMP%]{display:none}}"]}),n})();function HB(n){return new s.vHH(3e3,!1)}function h8(){return typeof window<"u"&&typeof window.document<"u"}function UO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jp(n){switch(n.length){case 0:return new ND;case 1:return n[0];default:return new s2(n)}}function jB(n,t,e,i,r=new Map,o=new Map){const c=[],d=[];let p=-1,y=null;if(i.forEach(w=>{const E=w.get("offset"),M=E==p,P=M&&y||new Map;w.forEach((F,j)=>{let ne=j,Ne=F;if("offset"!==j)switch(ne=t.normalizePropertyName(ne,c),Ne){case"!":Ne=r.get(j);break;case lf:Ne=o.get(j);break;default:Ne=t.normalizeStyleValue(j,ne,Ne,c)}P.set(ne,Ne)}),M||d.push(P),y=P,p=E}),c.length)throw function e8(n){return new s.vHH(3502,!1)}();return d}function HO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jO(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jO(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jO(e,"destroy",n)))}}function jO(n,t,e){const o=GO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function GO(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Za(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function GB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let qO=(n,t)=>!1,qB=(n,t,e)=>[],zB=null;function zO(n){const t=n.parentNode||n.host;return t===zB?null:t}(UO()||typeof Element<"u")&&(h8()?(zB=(()=>document.documentElement)(),qO=(n,t)=>{for(;t;){if(t===n)return!0;t=zO(t)}return!1}):qO=(n,t)=>n.contains(t),qB=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let C_=null,$B=!1;const ZB=qO,YB=qB;let WB=(()=>{class n{validateStyleProperty(e){return function p8(n){C_||(C_=function m8(){return typeof document<"u"?document.body:null}()||{},$B=!!C_.style&&"WebkitAppearance"in C_.style);let t=!0;return C_.style&&!function f8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in C_.style,!t&&$B&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in C_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return ZB(e,i)}getParentElement(e){return zO(e)}query(e,i,r){return YB(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,d=[],p){return new ND(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),$O=(()=>{class n{}return n.NOOP=new WB,n})();const ZO="ng-enter",ux="ng-leave",dx="ng-trigger",hx=".ng-trigger",QB="ng-animating",YO=".ng-animating";function Xp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:WO(parseFloat(t[1]),t[2])}function WO(n,t){return"s"===t?1e3*n:n}function fx(n,t,e){return n.hasOwnProperty("duration")?n:function y8(n,t,e){let r,o=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(HB()),{duration:0,delay:0,easing:""};r=WO(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(o=WO(parseFloat(p),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function R5(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function O5(){return new s.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,HB())}return{duration:r,delay:o,easing:c}}(n,t,e)}function iE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function JB(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function em(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function eU(n,t,e){return e?t+":"+e+";":""}function tU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=eU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=eU(0,C8(e),n.style[e]));n.setAttribute("style",t)}function Ed(n,t,e){n.style&&(t.forEach((i,r)=>{const o=QO(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),UO()&&tU(n))}function D_(n,t){n.style&&(t.forEach((e,i)=>{const r=QO(i);n.style[r]=""}),UO()&&tU(n))}function rE(n){return Array.isArray(n)?1==n.length?n[0]:n2(n):n}const KO=new RegExp("{{\\s*(.+?)\\s*}}","g");function nU(n){let t=[];if("string"==typeof n){let e;for(;e=KO.exec(n);)t.push(e[1]);KO.lastIndex=0}return t}function px(n,t,e){const i=n.toString(),r=i.replace(KO,(o,c)=>{let d=t[c];return null==d&&(e.push(function N5(n){return new s.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function mx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const w8=/-+([a-z0-9])/g;function QO(n){return n.replace(w8,(...t)=>t[1].toUpperCase())}function C8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ya(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function F5(n){return new s.vHH(3004,!1)}()}}function iU(n,t){return window.getComputedStyle(n)[t]}function A8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function x8(n,t,e){if(":"==n[0]){const p=function M8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function K5(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function W5(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(rU(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(rU(c,r))}(i,e,t)):e.push(n),e}const vx=new Set(["true","1"]),bx=new Set(["false","0"]);function rU(n,t){const e=vx.has(n)||bx.has(n),i=vx.has(t)||bx.has(t);return(r,o)=>{let c="*"==n||n==r,d="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?vx.has(n):bx.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?vx.has(t):bx.has(t)),c&&d}}const k8=new RegExp("s*:selfs*,?","g");function JO(n,t,e,i){return new R8(n).build(t,e,i)}class R8{constructor(t){this._driver=t}build(t,e,i){const r=new N8(e);return this._resetContextStyleTimingState(r),Ya(this,rE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function V5(){return new s.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,o.push(this.visitState(p,e))}),p.name=y}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function B5(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{nU(p).forEach(y=>{c.hasOwnProperty(y)||o.add(y)})})}),o.size&&(mx(o.values()),e.errors.push(function U5(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ya(this,rE(t.animation),e);return{type:1,matchers:A8(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:E_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ya(this,i,e)),options:E_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const d=Ya(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:E_(t.options)}}visitAnimate(t,e){const i=function L8(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return XO(fx(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=XO(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=fx(e,t);return XO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:St({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=St(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===lf?i.push(d):e.errors.push(new s.vHH(3002,!1)):i.push(JB(d));let o=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!o))for(let p of d.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const y=e.collectedStyles.get(e.currentQuerySelector),w=y.get(p);let E=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function j5(n,t,e,i,r){return new s.vHH(3010,!1)}()),E=!1),o=w.startTime),E&&y.set(p,{startTime:o,endTime:r}),e.options&&function b8(n,t,e){const i=t.params||{},r=nU(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function P5(n){return new s.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function G5(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let d=!1,p=!1,y=0;const w=t.steps.map(Ne=>{const je=this._makeStyleAst(Ne,e);let et=null!=je.offset?je.offset:function F8(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(je.styles),qe=0;return null!=et&&(o++,qe=je.offset=et),p=p||qe<0||qe>1,d=d||qe<y,y=qe,c.push(qe),je});p&&e.errors.push(function q5(){return new s.vHH(3012,!1)}()),d&&e.errors.push(function z5(){return new s.vHH(3200,!1)}());const E=t.steps.length;let M=0;o>0&&o<E?e.errors.push(function $5(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(E-1));const P=E-1,F=e.currentTime,j=e.currentAnimateTimings,ne=j.duration;return w.forEach((Ne,je)=>{const et=M>0?je==P?1:M*je:c[je],qe=et*ne;e.currentTime=F+j.delay+qe,j.duration=qe,this._validateStyleAst(Ne,e),Ne.offset=et,i.styles.push(Ne)}),i}visitReference(t,e){return{type:8,animation:Ya(this,rE(t.animation),e),options:E_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:E_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:E_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function O8(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(k8,"")),n=n.replace(/@\*/g,hx).replace(/@\w+/g,e=>hx+"-"+e.slice(1)).replace(/:animating/g,YO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Za(e.collectedStyles,e.currentQuerySelector,new Map);const d=Ya(this,rE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:E_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Z5(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:fx(t.timings,e.errors,!0);return{type:12,animation:Ya(this,rE(t.animation),e),timings:i,options:null}}}class N8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function E_(n){return n?(n=iE(n)).params&&(n.params=function P8(n){return n?iE(n):null}(n.params)):n={},n}function XO(n,t,e){return{duration:n,delay:t,easing:e}}function eP(n,t,e,i,r,o,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class wx{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const U8=new RegExp(":enter","g"),j8=new RegExp(":leave","g");function tP(n,t,e,i,r,o=new Map,c=new Map,d,p,y=[]){return(new G8).buildKeyframes(n,t,e,i,r,o,c,d,p,y)}class G8{buildKeyframes(t,e,i,r,o,c,d,p,y,w=[]){y=y||new wx;const E=new nP(t,e,y,r,o,w,[]);E.options=p;const M=p.delay?Xp(p.delay):0;E.currentTimeline.delayNextStep(M),E.currentTimeline.setStyles([c],null,E.errors,p),Ya(this,i,E);const P=E.timelines.filter(F=>F.containsAnimation());if(P.length&&d.size){let F;for(let j=P.length-1;j>=0;j--){const ne=P[j];if(ne.element===e){F=ne;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([d],null,E.errors,p)}return P.length?P.map(F=>F.buildKeyframes()):[eP(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?Xp(i.duration):null,d=null!=i.delay?Xp(i.delay):null;return 0!==c&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,c,d);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ya(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cx);const c=Xp(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ya(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xp(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),Ya(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return fx(e.params?px(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*o),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xp(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cx);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((y,w)=>{e.currentQueryIndex=w;const E=e.createSubContext(t.options,y);o&&E.delayNextStep(o),y===e.element&&(p=E.currentTimeline),Ya(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const E=w.currentTime;Ya(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const Cx={};class nP{constructor(t,e,i,r,o,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Dx(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xp(i.duration)),null!=i.delay&&(r.delay=Xp(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=px(o[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new nP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Cx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new q8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(U8,"."+this._enterClassName)).replace(j8,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!o&&0==d.length&&c.push(function Y5(n){return new s.vHH(3014,!1)}()),d}}class Dx{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Dx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||lf),this._currentKeyframe.set(e,lf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function z8(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,lf)}else em(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const y=px(p,o,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??lf),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const y=em(d,new Map,this._backFill);y.forEach((w,E)=>{"!"===w?t.add(E):w===lf&&e.add(E)}),i||y.set("offset",p/this.duration),r.push(y)});const o=t.size?mx(t.values()):[],c=e.size?mx(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return eP(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class q8 extends Dx{constructor(t,e,i,r,o,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,d=e/c,p=em(t[0]);p.set("offset",0),o.push(p);const y=em(t[0]);y.set("offset",aU(d)),o.push(y);const w=t.length-1;for(let E=1;E<=w;E++){let M=em(t[E]);const P=M.get("offset");M.set("offset",aU((e+P*i)/c)),o.push(M)}i=c,e=0,r="",t=o}return eP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function aU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class iP{}const $8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z8 extends iP{normalizePropertyName(t,e){return QO(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if($8.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function L5(n,t){return new s.vHH(3005,!1)}())}return c+o}}function lU(n,t,e,i,r,o,c,d,p,y,w,E,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:E,errors:M}}const rP={};class cU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Y8(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,d,p,y,w){const E=[],M=this.ast.options&&this.ast.options.params||rP,F=this.buildStyles(i,d&&d.params||rP,E),j=p&&p.params||rP,ne=this.buildStyles(r,j,E),Ne=new Set,je=new Map,et=new Map,qe="void"===r,wt={params:W8(j,M),delay:this.ast.options?.delay},xt=w?[]:tP(t,e,this.ast.animation,o,c,F,ne,wt,y,E);let hn=0;if(xt.forEach(el=>{hn=Math.max(el.duration+el.delay,hn)}),E.length)return lU(e,this._triggerName,i,r,qe,F,ne,[],[],je,et,hn,E);xt.forEach(el=>{const vf=el.element,zj=Za(je,vf,new Set);el.preStyleProps.forEach(Z_=>zj.add(Z_));const ZE=Za(et,vf,new Set);el.postStyleProps.forEach(Z_=>ZE.add(Z_)),vf!==e&&Ne.add(vf)});const Bi=mx(Ne.values());return lU(e,this._triggerName,i,r,qe,F,ne,xt,Bi,je,et,hn)}}function W8(n,t){const e=iE(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class K8{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=iE(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{c&&(c=px(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class J8{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new K8(r.style,r.options&&r.options.params||{},i))}),uU(this.states,"true","1"),uU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new cU(t,r,this.states))}),this.fallbackTransition=function X8(n,t,e){return new cU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function uU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const eW=new wx;class tW{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=JO(this._driver,e,i,[]);if(i.length)throw function t8(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=jB(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const d=new Map;if(o?(c=tP(this._driver,e,o,ZO,ux,new Map,new Map,i,eW,r),c.forEach(w=>{const E=Za(d,w.element,new Map);w.postStyleProps.forEach(M=>E.set(M,null))})):(r.push(function n8(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function i8(n){return new s.vHH(3504,!1)}();d.forEach((w,E)=>{w.forEach((M,P)=>{w.set(P,this._driver.computeStyle(E,P,lf))})});const y=Jp(c.map(w=>{const E=d.get(w.element);return this._buildPlayer(w,new Map,E)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function r8(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=GO(e,"","","");return HO(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const dU="ng-animate-queued",sP="ng-animate-disabled",oW=[],hU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wl="__ng_removed";class oP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dW(n){return n??null}(i?t.value:t),i){const o=iE(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const sE="void",aP=new oP(sE);class lW{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Kl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function s8(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function o8(n){return new s.vHH(3303,!1)}();if(!function hW(n){return"start"==n||"done"==n}(i))throw function a8(n,t){return new s.vHH(3400,!1)}();const o=Za(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const d=Za(this._engine.statesByElement,t,new Map);return d.has(e)||(Kl(t,dx),Kl(t,dx+"-"+e),d.set(e,aP)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function l8(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new lP(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Kl(t,dx),Kl(t,dx+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const y=new oP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),d.set(e,y),p||(p=aP),y.value!==sE&&p.value===y.value){if(!function mW(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,y.params)){const j=[],ne=o.matchStyles(p.value,p.params,j),Ne=o.matchStyles(y.value,y.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{D_(t,ne),Ed(t,Ne)})}return}const M=Za(this._engine.playersByElement,t,[]);M.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let P=o.matchTransition(p.value,y.value,t,y.params),F=!1;if(!P){if(!r)return;P=o.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:p,toState:y,player:c,isFallbackTransition:F}),F||(Kl(t,dU),c.onStart(()=>{Zb(t,dU)})),c.onDone(()=>{let j=this.players.indexOf(c);j>=0&&this.players.splice(j,1);const ne=this._engine.playersByElement.get(t);if(ne){let Ne=ne.indexOf(c);Ne>=0&&ne.splice(Ne,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,hx,!0);i.forEach(r=>{if(r[Wl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const d=[];if(o.forEach((p,y)=>{if(c.set(y,p.value),this._triggers.has(y)){const w=this.trigger(t,y,sE,r);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Jp(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,y=i.get(c)||aP,w=new oP(sE),E=new lP(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:y,toState:w,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Wl];(!o||o===hU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Kl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=GO(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,HO(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class cW{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Ex(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Ex(e))return;const o=e[Wl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Kl(t,sP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zb(t,sP))}removeNode(t,e,i,r){if(Ex(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Wl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Ex(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,hx,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,YO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Wl];if(e&&e.setForRemoval){if(t[Wl]=hU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Kl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Jp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function c8(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new wx,r=[],o=new Map,c=[],d=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(_t=>{w.add(_t);const Mt=this.driver.query(_t,".ng-animate-queued",!0);for(let Vt=0;Vt<Mt.length;Vt++)w.add(Mt[Vt])});const E=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=mU(M,this.collectedEnterElements),F=new Map;let j=0;P.forEach((_t,Mt)=>{const Vt=ZO+j++;F.set(Mt,Vt),_t.forEach(In=>Kl(In,Vt))});const ne=[],Ne=new Set,je=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Mt=this.collectedLeaveElements[_t],Vt=Mt[Wl];Vt&&Vt.setForRemoval&&(ne.push(Mt),Ne.add(Mt),Vt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(In=>Ne.add(In)):je.add(Mt))}const et=new Map,qe=mU(M,Array.from(Ne));qe.forEach((_t,Mt)=>{const Vt=ux+j++;et.set(Mt,Vt),_t.forEach(In=>Kl(In,Vt))}),t.push(()=>{P.forEach((_t,Mt)=>{const Vt=F.get(Mt);_t.forEach(In=>Zb(In,Vt))}),qe.forEach((_t,Mt)=>{const Vt=et.get(Mt);_t.forEach(In=>Zb(In,Vt))}),ne.forEach(_t=>{this.processLeaveNode(_t)})});const wt=[],xt=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(e).forEach(Vt=>{const In=Vt.player,us=Vt.element;if(wt.push(In),this.collectedEnterElements.length){const Ys=us[Wl];if(Ys&&Ys.setForMove){if(Ys.previousTriggersValues&&Ys.previousTriggersValues.has(Vt.triggerName)){const Y_=Ys.previousTriggersValues.get(Vt.triggerName),ac=this.statesByElement.get(Vt.element);if(ac&&ac.has(Vt.triggerName)){const ZM=ac.get(Vt.triggerName);ZM.value=Y_,ac.set(Vt.triggerName,ZM)}}return void In.destroy()}}const Rd=!E||!this.driver.containsElement(E,us),tl=et.get(us),Dm=F.get(us),Ki=this._buildInstruction(Vt,i,Dm,tl,Rd);if(Ki.errors&&Ki.errors.length)return void xt.push(Ki);if(Rd)return In.onStart(()=>D_(us,Ki.fromStyles)),In.onDestroy(()=>Ed(us,Ki.toStyles)),void r.push(In);if(Vt.isFallbackTransition)return In.onStart(()=>D_(us,Ki.fromStyles)),In.onDestroy(()=>Ed(us,Ki.toStyles)),void r.push(In);const Yj=[];Ki.timelines.forEach(Ys=>{Ys.stretchStartingKeyframe=!0,this.disabledNodes.has(Ys.element)||Yj.push(Ys)}),Ki.timelines=Yj,i.append(us,Ki.timelines),c.push({instruction:Ki,player:In,element:us}),Ki.queriedElements.forEach(Ys=>Za(d,Ys,[]).push(In)),Ki.preStyleProps.forEach((Ys,Y_)=>{if(Ys.size){let ac=p.get(Y_);ac||p.set(Y_,ac=new Set),Ys.forEach((ZM,rF)=>ac.add(rF))}}),Ki.postStyleProps.forEach((Ys,Y_)=>{let ac=y.get(Y_);ac||y.set(Y_,ac=new Set),Ys.forEach((ZM,rF)=>ac.add(rF))})});if(xt.length){const _t=[];xt.forEach(Mt=>{_t.push(function u8(n,t){return new s.vHH(3505,!1)}())}),wt.forEach(Mt=>Mt.destroy()),this.reportError(_t)}const hn=new Map,Bi=new Map;c.forEach(_t=>{const Mt=_t.element;i.has(Mt)&&(Bi.set(Mt,Mt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,hn))}),r.forEach(_t=>{const Mt=_t.element;this._getPreviousPlayers(Mt,!1,_t.namespaceId,_t.triggerName,null).forEach(In=>{Za(hn,Mt,[]).push(In),In.destroy()})});const el=ne.filter(_t=>_U(_t,p,y)),vf=new Map;pU(vf,this.driver,je,y,lf).forEach(_t=>{_U(_t,p,y)&&el.push(_t)});const ZE=new Map;P.forEach((_t,Mt)=>{pU(ZE,this.driver,new Set(_t),p,"!")}),el.forEach(_t=>{const Mt=vf.get(_t),Vt=ZE.get(_t);vf.set(_t,new Map([...Array.from(Mt?.entries()??[]),...Array.from(Vt?.entries()??[])]))});const Z_=[],$j=[],Zj={};c.forEach(_t=>{const{element:Mt,player:Vt,instruction:In}=_t;if(i.has(Mt)){if(w.has(Mt))return Vt.onDestroy(()=>Ed(Mt,In.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(In.totalTime),void r.push(Vt);let us=Zj;if(Bi.size>1){let tl=Mt;const Dm=[];for(;tl=tl.parentNode;){const Ki=Bi.get(tl);if(Ki){us=Ki;break}Dm.push(tl)}Dm.forEach(Ki=>Bi.set(Ki,us))}const Rd=this._buildAnimation(Vt.namespaceId,In,hn,o,ZE,vf);if(Vt.setRealPlayer(Rd),us===Zj)Z_.push(Vt);else{const tl=this.playersByElement.get(us);tl&&tl.length&&(Vt.parentPlayer=Jp(tl)),r.push(Vt)}}else D_(Mt,In.fromStyles),Vt.onDestroy(()=>Ed(Mt,In.toStyles)),$j.push(Vt),w.has(Mt)&&r.push(Vt)}),$j.forEach(_t=>{const Mt=o.get(_t.element);if(Mt&&Mt.length){const Vt=Jp(Mt);_t.setRealPlayer(Vt)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<ne.length;_t++){const Mt=ne[_t],Vt=Mt[Wl];if(Zb(Mt,ux),Vt&&Vt.hasAnimation)continue;let In=[];if(d.size){let Rd=d.get(Mt);Rd&&Rd.length&&In.push(...Rd);let tl=this.driver.query(Mt,YO,!0);for(let Dm=0;Dm<tl.length;Dm++){let Ki=d.get(tl[Dm]);Ki&&Ki.length&&In.push(...Ki)}}const us=In.filter(Rd=>!Rd.destroyed);us.length?fW(this,Mt,us):this.processLeaveNode(Mt)}return ne.length=0,Z_.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Mt=this.players.indexOf(_t);this.players.splice(Mt,1)}),_t.play()}),Z_}elementContainsData(t,e){let i=!1;const r=e[Wl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!o||o==sE;d.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,w=y!==o,E=Za(i,y,[]);this._getPreviousPlayers(y,w,c,d,e.toState).forEach(P=>{const F=P.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),P.destroy(),E.push(P)})}D_(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const d=e.triggerName,p=e.element,y=[],w=new Set,E=new Set,M=e.timelines.map(F=>{const j=F.element;w.add(j);const ne=j[Wl];if(ne&&ne.removedBeforeQueried)return new ND(F.duration,F.delay);const Ne=j!==p,je=function pW(n){const t=[];return gU(n,t),t}((i.get(j)||oW).map(hn=>hn.getRealPlayer())).filter(hn=>!!hn.element&&hn.element===j),et=o.get(j),qe=c.get(j),wt=jB(0,this._normalizer,0,F.keyframes,et,qe),xt=this._buildPlayer(F,wt,je);if(F.subTimeline&&r&&E.add(j),Ne){const hn=new lP(t,d,j);hn.setRealPlayer(xt),y.push(hn)}return xt});y.forEach(F=>{Za(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function uW(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),w.forEach(F=>Kl(F,QB));const P=Jp(M);return P.onDestroy(()=>{w.forEach(F=>Zb(F,QB)),Ed(p,e.toStyles)}),E.forEach(F=>{Za(r,F,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ND(t.duration,t.delay)}}class lP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ND,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>HO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Za(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ex(n){return n&&1===n.nodeType}function fU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function pU(n,t,e,i,r){const o=[];e.forEach(p=>o.push(fU(p)));const c=[];i.forEach((p,y)=>{const w=new Map;p.forEach(E=>{const M=t.computeStyle(y,E,r);w.set(E,M),(!M||0==M.length)&&(y[Wl]=aW,c.push(y))}),n.set(y,w)});let d=0;return e.forEach(p=>fU(p,o[d++])),c}function mU(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(d){if(!d)return 1;let p=o.get(d);if(p)return p;const y=d.parentNode;return p=e.has(y)?y:r.has(y)?1:c(y),o.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Kl(n,t){n.classList?.add(t)}function Zb(n,t){n.classList?.remove(t)}function fW(n,t,e){Jp(e).onDone(()=>n.processLeaveNode(t))}function gU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof s2?gU(i.players,t):t.push(i)}}function _U(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Tx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cW(t,e,i),this._timelineEngine=new tW(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],w=JO(this._driver,o,p,[]);if(p.length)throw function X5(n,t){return new s.vHH(3404,!1)}();d=function Q8(n,t,e){return new J8(n,t,e)}(r,w,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=GB(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,d]=GB(i);return this._timelineEngine.listen(c,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _W=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ed(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ed(this._element,this._initialStyles),this._endStyles&&(Ed(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(D_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(D_(this._element,this._endStyles),this._endStyles=null),Ed(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cP(n){let t=null;return n.forEach((e,i)=>{(function yW(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class yU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:iU(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vW{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return ZB(t,e)}getParentElement(t){return zO(t)}query(t,e,i){return YB(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y=new Map,w=c.filter(P=>P instanceof yU);(function D8(n,t){return 0===n||0===t})(i,r)&&w.forEach(P=>{P.currentSnapshot.forEach((F,j)=>y.set(j,F))});let E=function v8(n){return n.length?n[0]instanceof Map?n:n.map(t=>JB(t)):[]}(e).map(P=>em(P));E=function E8(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(d=>c.set(d,iU(n,d)))}}return t}(t,E,y);const M=function gW(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=cP(t[0]),t.length>1&&(i=cP(t[t.length-1]))):t instanceof Map&&(e=cP(t)),e||i?new _W(n,e,i):null}(t,E);return new yU(t,E,p,M)}}let bW=(()=>{class n extends e2{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?n2(e):e;return vU(this._renderer,null,i,"register",[r]),new wW(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wW extends class Lz{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CW(this._id,t,e||{},this._renderer)}}class CW{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const bU="@.disabled";let DW=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const d=c?.parentNode(o);d&&c.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new wU("",o,this.engine),this._rendererCache.set(o,w)),w}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,d,e,w.name,w)};return i.data.animation.forEach(p),new EW(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,d]=o;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Tx),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wU{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==bU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class EW extends wU{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function TW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function SW(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let IW=(()=>{class n extends Tx{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG($O),s.LFG(iP),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const CU=[{provide:e2,useClass:bW},{provide:iP,useFactory:function AW(){return new Z8}},{provide:Tx,useClass:IW},{provide:s.FYo,useFactory:function xW(n,t,e){return new DW(n,t,e)},deps:[Xs,Tx,s.R0b]}],uP=[{provide:$O,useFactory:()=>new vW},{provide:s.QbO,useValue:"BrowserAnimations"},...CU],DU=[{provide:$O,useClass:WB},{provide:s.QbO,useValue:"NoopAnimations"},...CU];let MW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?DU:uP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:uP,imports:[Dn]}),n})();const EU=v2();class kW{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sr(-this._previousScrollPosition.left),t.style.top=Sr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),EU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EU&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class RW{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TU{enable(){}disable(){}attach(){}}function dP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function SU(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class OW{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let PW=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new TU,this.close=c=>new RW(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new kW(this._viewportRuler,this._document),this.reposition=c=>new OW(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GD),s.LFG(Fb),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ix{constructor(t){if(this.scrollStrategy=new TU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class NW{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let IU=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FW=(()=>{class n extends IU{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const d=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LW=(()=>{class n extends IU{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=d_(o)},this._clickListener=o=>{const c=d_(o),d="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const w=p[y];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(d))break;const E=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(o)):E.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Ir),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ax=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||eO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),eO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(Ir))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oE{constructor(t,e,i,r,o,c,d,p,y,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new nt.x,this._attachments=new nt.x,this._detachments=new nt.x,this._locationChanges=rr.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new nt.x,this._outsidePointerEvents=new nt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sr(this._config.width),t.height=Sr(this._config.height),t.minWidth=Sr(this._config.minWidth),t.minHeight=Sr(this._config.minHeight),t.maxWidth=Sr(this._config.maxWidth),t.maxHeight=Sr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=OA(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Xt((0,is.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const AU="cdk-overlay-connected-position-bounding-box",VW=/([A-Za-z%]+)$/;class xU{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nt.x,this._resizeSubscription=rr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(AU),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),y=this._getOverlayPoint(p,e,d),w=this._getOverlayFit(y,e,i,d);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(w,y,i)?o.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:y,originPoint:p,position:d,overlayRect:e})}if(o.length){let d=null,p=-1;for(const y of o){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>p&&(p=w,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&T_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=kU(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(d+=y);let M=0-d,P=d+o.height-i.height,F=this._subtractOverflows(o.width,0-c,c+o.width-i.width),j=this._subtractOverflows(o.height,M,P),ne=F*j;return{visibleArea:ne,isCompletelyWithinViewport:o.width*o.height===ne,fitsInViewportVertically:j===o.height,fitsInViewportHorizontally:F==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=MU(this._overlayRef.getConfig().minHeight),d=MU(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=d&&d<=o;return(t.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=kU(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),d=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),y=Math.max(o.left-i.left-t.x,0);let w=0,E=0;return w=r.width<=o.width?y||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,E=r.height<=o.height?p||-d:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:w,y:E},{x:t.x+w,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new NW(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,d,w,E,M;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),F=this._lastBoundingBoxSize.height;o=2*P,c=t.y-P,o>F&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-F/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,w=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),F=this._lastBoundingBoxSize.width;w=2*P,E=t.x-P,w>F&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-F/2)}return{top:c,left:E,bottom:d,right:M,width:w,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Sr(i.height),r.top=Sr(i.top),r.bottom=Sr(i.bottom),r.width=Sr(i.width),r.left=Sr(i.left),r.right=Sr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Sr(o)),c&&(r.maxWidth=Sr(c))}this._lastBoundingBoxSize=i,T_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){T_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){T_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();T_(i,this._getExactOverlayY(e,t,w)),T_(i,this._getExactOverlayX(e,t,w))}else i.position="static";let d="",p=this._getOffset(e,"x"),y=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Sr(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Sr(c.maxWidth):o&&(i.maxWidth="")),T_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Sr(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Sr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:SU(t,i),isOriginOutsideView:dP(t,i),isOverlayClipped:SU(e,i),isOverlayOutsideView:dP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&OA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function T_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function MU(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(VW);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const RU="cdk-global-overlay-wrapper";class BW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(RU),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d),w=this._xPosition,E=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let P="",F="",j="";p?j="flex-start":"center"===w?(j="center",M?F=E:P=E):M?"left"===w||"end"===w?(j="flex-end",P=E):("right"===w||"start"===w)&&(j="flex-start",F=E):"left"===w||"start"===w?(j="flex-start",P=E):("right"===w||"end"===w)&&(j="flex-end",F=E),t.position=this._cssPosition,t.marginLeft=p?"0":P,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":F,e.justifyContent=j,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(RU),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let UW=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new BW}flexibleConnectedTo(e){return new xU(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fb),s.LFG(ie),s.LFG(Ir),s.LFG(Ax))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HW=0,Ql=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E,M,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=y,this._directionality=w,this._location=E,this._outsideClickDispatcher=M,this._animationsModuleType=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new Ix(e);return c.direction=c.direction||this._directionality.value,new oE(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+HW++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new n5(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(PW),s.LFG(Ax),s.LFG(s._Vd),s.LFG(UW),s.LFG(FW),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ie),s.LFG($o),s.LFG(Ce),s.LFG(LW),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jW=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],OU=new s.OlP("cdk-connected-overlay-scroll-strategy");let hP=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),xx=(()=>{class n{constructor(e,i,r,o,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=rr.w0.EMPTY,this._attachSubscription=rr.w0.EMPTY,this._detachSubscription=rr.w0.EMPTY,this._positionSubscription=rr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new cx(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=It(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=It(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=It(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=It(e)}get push(){return this._push}set push(e){this._push=It(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jW);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!bo(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ix({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof hP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe($F(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ql),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(OU),s.Y36($o,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const qW={provide:OU,deps:[Ql],useFactory:function GW(n){return()=>n.scrollStrategies.reposition()}};let Yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ql,qW],imports:[jD,$b,tO,tO]}),n})();const zW=["connectionContainer"],$W=["inputContainer"],ZW=["label"];function YW(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function WW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function KW(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function QW(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function JW(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function XW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,KW,4,1,"ng-container",12),s.YNc(3,QW,1,0,"ng-content",12),s.YNc(4,JW,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function eK(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function tK(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function nK(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function iK(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function rK(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,iK,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const sK=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],oK=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],aK=new s.OlP("MatError"),lK={transitionMessages:Is("transitionMessages",[Rn("enter",St({opacity:1,transform:"translateY(0%)"})),Wn("void => enter",[St({opacity:0,transform:"translateY(-5px)"}),mi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),cK=0;const PU=new s.OlP("MatHint");let uK=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+cK++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:PU,useExisting:n}])]}),n})(),Wo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),dK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const hK=new s.OlP("MatPrefix"),NU=new s.OlP("MatSuffix");let fK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:NU,useExisting:n}])]}),n})(),FU=0;const mK=Hb(class{constructor(n){this._elementRef=n}},"primary"),gK=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kx=new s.OlP("MatFormField");let Br=(()=>{class n extends mK{constructor(e,i,r,o,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new nt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+FU++,this._labelId="mat-form-field-label-"+FU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=It(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ei(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Xt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,is.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ei(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ei(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Xt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,c_(this._label.nativeElement,"transitionend").pipe(Ln(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=i.querySelectorAll(`${r}, ${o}`);for(let E=0;E<w.length;E++)w[E].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(w),M=e.children,P=this._getStartEnd(M[0].getBoundingClientRect());let F=0;for(let j=0;j<M.length;j++)F+=M[j].offsetWidth;c=Math.abs(P-E)-5,d=F>0?.75*F+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${c}px`;for(let w=0;w<y.length;w++)y[w].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36($o,8),s.Y36(gK,8),s.Y36(Ir),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Mx,5),s.Suo(r,Mx,7),s.Suo(r,Wo,5),s.Suo(r,Wo,7),s.Suo(r,dK,5),s.Suo(r,aK,5),s.Suo(r,PU,5),s.Suo(r,hK,5),s.Suo(r,NU,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(zW,7),s.Gf($W,5),s.Gf(ZW,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:kx,useExisting:n}]),s.qOj],ngContentSelectors:oK,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(sK),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,YW,9,0,"ng-container",3),s.YNc(4,WW,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,XW,5,16,"label",8),s.qZA()(),s.YNc(10,eK,2,0,"div",9),s.qZA(),s.YNc(11,tK,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,nK,2,1,"div",12),s.YNc(14,rK,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Wt,Ns,Or,C2],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[lK.transitionMessages]},changeDetection:0}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wi,mn,iO,mn]}),n})();const _K=["trigger"],yK=["panel"];function vK(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function bK(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function wK(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function CK(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,bK,2,1,"span",10),s.YNc(2,wK,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function DK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const EK=[[["mat-select-trigger"]],"*"],TK=["mat-select-trigger","*"],VU={transformPanelWrap:Is("transformPanelWrap",[Wn("* => void",kA("@transformPanel",[MA()],{optional:!0}))]),transformPanel:Is("transformPanel",[Rn("void",St({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Rn("showing",St({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Rn("showing-multiple",St({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Wn("void => *",mi("120ms cubic-bezier(0, 0, 0.2, 1)")),Wn("* => void",mi("100ms 25ms linear",St({opacity:0})))])};let BU=0;const HU=new s.OlP("mat-select-scroll-strategy"),xK=new s.OlP("MAT_SELECT_CONFIG"),MK={provide:HU,deps:[Ql],useFactory:function AK(n){return()=>n.scrollStrategies.reposition()}};class kK{constructor(t,e){this.source=t,this.value=e}}const RK=m_(lO(p_(H2(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new nt.x}})))),OK=new s.OlP("MatSelectTrigger");let PK=(()=>{class n extends RK{constructor(e,i,r,o,c,d,p,y,w,E,M,P,F,j){super(c,o,p,y,E),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=w,this._liveAnnouncer=F,this._defaultOptions=j,this._panelOpen=!1,this._compareWith=(ne,Ne)=>ne===Ne,this._uid="mat-select-"+BU++,this._triggerAriaLabelledBy=null,this._destroy=new nt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+BU++,this._panelDoneAnimatingStream=new nt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=DD(()=>{const ne=this.options;return ne?ne.changes.pipe(ei(ne),Li(()=>(0,is.T)(...ne.map(Ne=>Ne.onSelectionChange)))):this._ngZone.onStable.pipe(Ln(1),Li(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(Qt(ne=>ne),(0,$e.U)(()=>{})),this._closedStream=this.openedChange.pipe(Qt(ne=>!ne),(0,$e.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=j?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._scrollStrategyFactory=P,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(M)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ht.required)??!1}set required(e){this._required=It(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=It(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=It(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=cu(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new vO(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(io(),Xt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Xt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ei(null),Xt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&o&&!bo(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,c=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||bo(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ln(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new J$(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Xt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Xt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,is.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Xt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,is.T)(...this.options.map(i=>i._stateChanges)).pipe(Xt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fb),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(uO),s.Y36(s.SBq),s.Y36($o,8),s.Y36(Gb,8),s.Y36(os,8),s.Y36(kx,8),s.Y36(uu,10),s.$8M("tabindex"),s.Y36(HU),s.Y36(y4),s.Y36(xK,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(_K,5),s.Gf(yK,5),s.Gf(xx,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),Kb=(()=>{class n extends PK{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Xt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=J2(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function G4(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new kK(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let y=this._selectionModel.selected[0]||this.options.first;c=y&&y.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?o:0)),p=e.right+c-i.width+(r?0:o);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),c=(o-this._triggerRect.height)/2,d=Math.floor(256/o);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-d))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;y>c?this._adjustPanelUp(y,c):d>o?this._adjustPanelDown(d,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=J2(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,OK,5),s.Suo(r,__,5),s.Suo(r,Q2,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:Mx,useExisting:n},{provide:K2,useExisting:n}]),s.qOj],ngContentSelectors:TK,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(EK),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,vK,2,1,"span",3),s.YNc(5,CK,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,DK,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[na,Ns,Or,ia,xx,hP],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[VU.transformPanelWrap,VU.transformPanel]},changeDetection:0}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[MK],imports:[wi,Yb,X2,mn,h_,Rx,X2,mn]}),n})();const NK=["tooltip"],GU="tooltip-panel",qU=BD({passive:!0}),zU=new s.OlP("mat-tooltip-scroll-strategy"),BK={provide:zU,deps:[Ql],useFactory:function VK(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},UK=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function HK(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let jK=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E,M,P){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=c,this._platform=d,this._ariaDescriber=p,this._focusMonitor=y,this._dir=E,this._defaultOptions=M,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new nt.x,this._scrollStrategy=w,this._document=P,M&&(M.position&&(this.position=M.position),M.touchGestures&&(this.touchGestures=M.touchGestures)),E.change.pipe(Xt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=cu(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=cu(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Xt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,qU)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new qb(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Xt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Xt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${GU}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Xt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Xt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Xt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!bo(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ln(1),Xt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${GU}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,qU)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),GK=(()=>{class n extends jK{constructor(e,i,r,o,c,d,p,y,w,E,M,P){super(e,i,r,o,c,d,p,y,w,E,M,P),this._tooltipComponent=zK}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ql),s.Y36(s.SBq),s.Y36(GD),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Ir),s.Y36(A2),s.Y36(Zl),s.Y36(zU),s.Y36($o,8),s.Y36(UK,8),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),qK=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new nt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),zK=(()=>{class n extends qK{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(E2),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(NK,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[na,yu],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),$K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[BK],imports:[aO,wi,Yb,mn,mn,h_]}),n})();function ZK(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function YK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._changePageSize(r.value))}),s.YNc(2,ZK,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function WK(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function KK(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,YK,3,8,"mat-form-field",14),s.YNc(4,WK,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function QK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.firstPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function JK(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.lastPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let Px=(()=>{class n{constructor(){this.changes=new nt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e7={provide:Px,deps:[[new s.FiY,new s.tp0,Px]],useFactory:function XK(n){return n||new Px}},n7=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),i7=p_(j2(class{}));let r7=(()=>{class n extends i7{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:c,hidePageSize:d,showFirstLastButtons:p}=r;null!=o&&(this._pageSize=o),null!=c&&(this._pageSizeOptions=c),null!=d&&(this._hidePageSize=d),null!=p&&(this._showFirstLastButtons=p)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(cu(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=cu(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(cu(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>cu(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=It(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=It(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[s.qOj]}),n})(),Jl=(()=>{class n extends r7{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Px),s.Y36(s.sBO),s.Y36(n7,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,KK,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,QK,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,JK,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[lr,Wt,Vr,Br,Kb,__,GK],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),s7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[e7],imports:[wi,_O,jU,$K,mn]}),n})();const o7=["mat-sort-header",""];function a7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("@arrowPosition.start",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!1)}),s._UZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"div",6)(4,"div",7)(5,"div",8),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),s.xp6(2),s.Q6J("@indicator",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@leftPointer",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@rightPointer",e._getArrowDirectionState())}}const l7=["*"],$U=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),c7=j2(p_(class{}));let Wa=(()=>{class n extends c7{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new nt.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=It(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function u7(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($U,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const tm=T4.ENTERING+" "+E4.STANDARD_CURVE,Qb={indicator:Is("indicator",[Rn("active-asc, asc",St({transform:"translateY(0px)"})),Rn("active-desc, desc",St({transform:"translateY(10px)"})),Wn("active-asc <=> active-desc",mi(tm))]),leftPointer:Is("leftPointer",[Rn("active-asc, asc",St({transform:"rotate(-45deg)"})),Rn("active-desc, desc",St({transform:"rotate(45deg)"})),Wn("active-asc <=> active-desc",mi(tm))]),rightPointer:Is("rightPointer",[Rn("active-asc, asc",St({transform:"rotate(45deg)"})),Rn("active-desc, desc",St({transform:"rotate(-45deg)"})),Wn("active-asc <=> active-desc",mi(tm))]),arrowOpacity:Is("arrowOpacity",[Rn("desc-to-active, asc-to-active, active",St({opacity:1})),Rn("desc-to-hint, asc-to-hint, hint",St({opacity:.54})),Rn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",St({opacity:0})),Wn("* => asc, * => desc, * => active, * => hint, * => void",mi("0ms")),Wn("* <=> *",mi(tm))]),arrowPosition:Is("arrowPosition",[Wn("* => desc-to-hint, * => desc-to-active",mi(tm,l_([St({transform:"translateY(-25%)"}),St({transform:"translateY(0)"})]))),Wn("* => hint-to-desc, * => active-to-desc",mi(tm,l_([St({transform:"translateY(0)"}),St({transform:"translateY(25%)"})]))),Wn("* => asc-to-hint, * => asc-to-active",mi(tm,l_([St({transform:"translateY(25%)"}),St({transform:"translateY(0)"})]))),Wn("* => hint-to-asc, * => active-to-asc",mi(tm,l_([St({transform:"translateY(0)"}),St({transform:"translateY(-25%)"})]))),Rn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",St({transform:"translateY(0)"})),Rn("hint-to-desc, active-to-desc, desc",St({transform:"translateY(-25%)"})),Rn("hint-to-asc, active-to-asc, asc",St({transform:"translateY(25%)"}))]),allowChildren:Is("allowChildren",[Wn("* <=> *",[kA("@*",MA(),{optional:!0})])])};let Nx=(()=>{class n{constructor(){this.changes=new nt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h7={provide:Nx,deps:[[new s.FiY,new s.tp0,Nx]],useFactory:function d7(n){return n||new Nx}},f7=p_(class{});let Jb=(()=>{class n extends f7{constructor(e,i,r,o,c,d,p,y){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=c,this._elementRef=d,this._ariaDescriber=p,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",y?.arrowPosition&&(this.arrowPosition=y?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=It(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,is.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Nx),s.Y36(s.sBO),s.Y36(Wa,8),s.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),s.Y36(Zl),s.Y36(s.SBq),s.Y36(A2,8),s.Y36($U,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(s.uIk("aria-sort",i._getAriaSortAttribute()),s.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[s.qOj],attrs:o7,ngContentSelectors:l7,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1),s.Hsn(2),s.qZA(),s.YNc(3,a7,6,6,"div",2),s.qZA()),2&e&&(s.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),s.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),s.xp6(3),s.Q6J("ngIf",i._renderArrow()))},dependencies:[Wt],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Qb.indicator,Qb.leftPointer,Qb.rightPointer,Qb.arrowOpacity,Qb.arrowPosition,Qb.allowChildren]},changeDetection:0}),n})(),p7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[h7],imports:[wi,mn]}),n})();const g7=[[["caption"]],[["colgroup"],["col"]]],_7=["caption","colgroup, col"];function fP(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=It(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Xb=new s.OlP("CDK_TABLE");let ew=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),tw=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Fx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class w7{}const C7=fP(w7);let hf=(()=>{class n extends C7{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=It(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ew,5),s.Suo(r,tw,5),s.Suo(r,Fx,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class pP{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let mP=(()=>{class n extends pP{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hf),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),gP=(()=>{class n extends pP{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hf),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class YU{constructor(){this.tasks=[],this.endTasks=[]}}const _P=new s.OlP("_COALESCED_STYLE_SCHEDULER");let WU=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new nt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new YU,this._getScheduleObservable().pipe(Xt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new YU;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,mt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ln(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),yP=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof lE?e.headerCell.template:this instanceof cE?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class D7 extends yP{}const E7=fP(D7);let lE=(()=>{class n extends E7{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Xb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class T7 extends yP{}const S7=fP(T7);let cE=(()=>{class n extends S7{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Xb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),Lx=(()=>{class n extends yP{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Xb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),ff=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ff],encapsulation:2}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ff],encapsulation:2}),n})(),Vx=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const KU=["top","bottom","left","right"];class I7{constructor(t,e,i,r,o=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(M=>M)&&!i.some(M=>M))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],c=o.children.length,d=this._getCellWidths(o,r),p=this._getStickyStartColumnPositions(d,e),y=this._getStickyEndColumnPositions(d,i),w=e.lastIndexOf(!0),E=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const M="rtl"===this.direction,P=M?"right":"left",F=M?"left":"right";for(const j of t)for(let ne=0;ne<c;ne++){const Ne=j.children[ne];e[ne]&&this._addStickyStyle(Ne,P,p[ne],ne===w),i[ne]&&this._addStickyStyle(Ne,F,y[ne],ne===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:d.slice(0,w+1).map((j,ne)=>e[ne]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:d.slice(E).map((j,ne)=>i[ne+E]?j:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,c=[],d=[],p=[];for(let w=0,E=0;w<r.length;w++){if(!o[w])continue;c[w]=E;const M=r[w];p[w]=this._isNativeHtmlTable?Array.from(M.children):[M];const P=M.getBoundingClientRect().height;E+=P,d[w]=P}const y=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let w=0;w<r.length;w++){if(!o[w])continue;const E=c[w],M=w===y;for(const P of p[w])this._addStickyStyle(P,i,E,M)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);KU.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of KU)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const CP=new s.OlP("CDK_SPL");let Bx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Ux=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Hx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),jx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Gx=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E,M,P){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=y,this._coalescedStyleScheduler=w,this._viewportRuler=E,this._stickyPositioningListener=M,this._ngZone=P,this._onDestroy=new nt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new Tr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=It(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=It(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Xt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),yO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ln(1),Xt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===o&&c.push(i[d]);this._addStickyColumnStyles(c,o)}),r.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const c=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const y=this._cachedRenderRowsMap.get(p.data);y.has(p.rowDef)?y.get(p.rowDef).push(p):y.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),qx(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=qx(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qx(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qx(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],yO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;yO(this.dataSource)?e=this.dataSource.connect(this):function m7(n){return!!n&&(n instanceof Xn.y||(0,vo.m)(n.lift)&&(0,vo.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=He(this.dataSource)),this._renderChangeSubscription=e.pipe(Xt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),o=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const c=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))ff.mostRecentCellOutlet&&ff.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const c of r.outlets)o.appendChild(c.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new I7(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:He()).pipe(Xt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),c=o.rootNodes[0];1===o.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36($o,8),s.Y36(ie),s.Y36(Ir),s.Y36(QD),s.Y36(_P),s.Y36(Fb),s.Y36(CP,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Vx,5),s.Suo(r,hf,5),s.Suo(r,Lx,5),s.Suo(r,lE,5),s.Suo(r,cE,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Bx,7),s.Gf(Ux,7),s.Gf(Hx,7),s.Gf(jx,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Xb,useExisting:n},{provide:QD,useClass:bV},{provide:_P,useClass:WU},{provide:CP,useValue:null}])],ngContentSelectors:_7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(g7),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Bx,Ux,Hx,jx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function qx(n,t){return n.concat(Array.from(t))}let x7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[tO]}),n})();const M7=[[["caption"]],[["colgroup"],["col"]]],k7=["caption","colgroup, col"];let S_=(()=>{class n extends Gx{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:QD,useClass:bV},{provide:Gx,useExisting:n},{provide:Xb,useExisting:n},{provide:_P,useClass:WU},{provide:CP,useValue:null}]),s.qOj],ngContentSelectors:k7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(M7),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Bx,Ux,Hx,jx],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),nm=(()=>{class n extends ew{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:ew,useExisting:n}]),s.qOj]}),n})(),im=(()=>{class n extends tw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:tw,useExisting:n}]),s.qOj]}),n})(),rm=(()=>{class n extends hf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:hf,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),sm=(()=>{class n extends mP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),om=(()=>{class n extends gP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),I_=(()=>{class n extends lE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:lE,useExisting:n}]),s.qOj]}),n})(),A_=(()=>{class n extends Lx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:Lx,useExisting:n}]),s.qOj]}),n})(),x_=(()=>{class n extends vP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:vP,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ff],encapsulation:2}),n})(),M_=(()=>{class n extends wP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:wP,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ff],encapsulation:2}),n})(),H7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[x7,mn,mn]}),n})();class nw extends class G7 extends class FZ{}{constructor(t=[]){super(),this._renderData=new Tr([]),this._filter=new Tr(""),this._internalPageChanges=new nt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(c2(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((c,d)=>{let p=this.sortingDataAccessor(c,r),y=this.sortingDataAccessor(d,r);const w=typeof p,E=typeof y;w!==E&&("number"===w&&(p+=""),"number"===E&&(y+=""));let M=0;return null!=p&&null!=y?p>y?M=1:p<y&&(M=-1):null!=p?M=1:null!=y&&(M=-1),M*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((c,d)=>c+e[d]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new Tr(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,is.T)(this._sort.sortChange,this._sort.initialized):He(null),e=this._paginator?(0,is.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):He(null),r=Ib([this._data,this._filter]).pipe((0,$e.U)(([d])=>this._filterData(d))),o=Ib([r,t]).pipe((0,$e.U)(([d])=>this._orderData(d))),c=Ib([o,e]).pipe((0,$e.U)(([d])=>this._pageData(d)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(d=>this._renderData.next(d))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}function q7(n,t){}class zx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let JU=(()=>{class n extends BO{constructor(e,i,r,o,c,d,p,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const E=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),E},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=HD(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=HD();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=HD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ZD),s.Y36(ie,8),s.Y36(zx),s.Y36($D),s.Y36(s.R0b),s.Y36(oE),s.Y36(Zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(zb,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,q7,0,0,"ng-template",0)},dependencies:[zb],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class DP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new nt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!bo(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const XU=new s.OlP("DialogScrollStrategy"),z7=new s.OlP("DialogData"),$7=new s.OlP("DefaultDialogConfig"),Y7={provide:XU,deps:[Ql],useFactory:function Z7(n){return()=>n.scrollStrategies.block()}};let W7=0,eH=(()=>{class n{constructor(e,i,r,o,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nt.x,this._afterOpenedAtThisLevel=new nt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=DD(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ei(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new zx,...i}).id=i.id||"cdk-dialog-"+W7++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),d=new DP(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){EP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){EP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),EP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Ix({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector??r.viewContainerRef?.injector,c=[{provide:zx,useValue:r},{provide:DP,useValue:i},{provide:oE,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=JU;const p=new qb(d,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,o){const c=this._createInjector(o,i,r);if(e instanceof s.Rgc){let d={$implicit:o.data,dialogRef:i};o.templateContext&&(d={...d,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new cx(e,null,d,c))}else{const d=r.attachComponentPortal(new qb(e,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:z7,useValue:e.data},{provide:DP,useValue:i}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(i,e,r)):c.push(...e.providers)),e.direction&&(!o||!o.get($o,null,s.XFs.Optional))&&c.push({provide:$o,useValue:{value:e.direction,change:He()}}),s.zs3.create({parent:o||this._injector,providers:c})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ql),s.LFG(s.zs3),s.LFG($7,8),s.LFG(n,12),s.LFG(Ax),s.LFG(XU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function EP(n,t){let e=n.length;for(;e--;)t(n[e])}let K7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[eH,Y7],imports:[Yb,$b,aO,$b]}),n})();function Q7(n,t){}const iw={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},J7={dialogContainer:Is("dialogContainer",[Rn("void, exit",St({opacity:0,transform:"scale(0.7)"})),Rn("enter",St({transform:"none"})),Wn("* => enter",t2([mi("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",St({transform:"none",opacity:1})),kA("@*",MA(),{optional:!0})]),iw),Wn("* => void, * => exit",t2([mi("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",St({opacity:0})),kA("@*",MA(),{optional:!0})]),iw)])};class $x{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=iw.params.enterAnimationDuration,this.exitAnimationDuration=iw.params.exitAnimationDuration}}let X7=(()=>{class n extends JU{constructor(e,i,r,o,c,d,p,y){super(e,i,r,o,c,d,p,y),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ZD),s.Y36(ie,8),s.Y36($x),s.Y36($D),s.Y36(s.R0b),s.Y36(oE),s.Y36(Zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),e9=(()=>{class n extends X7{constructor(e,i,r,o,c,d,p,y,w){super(e,i,r,o,c,d,p,w),this._changeDetectorRef=y,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||iw.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||iw.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ZD),s.Y36(ie,8),s.Y36($x),s.Y36($D),s.Y36(s.R0b),s.Y36(oE),s.Y36(s.sBO),s.Y36(Zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Q7,0,0,"ng-template",0)},dependencies:[zb],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[J7.dialogContainer]}}),n})();class Zx{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new nt.x,this._beforeClosed=new nt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Qt(r=>"opened"===r.state),Ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Qt(r=>"closed"===r.state),Ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,is.T)(this.backdropClick(),this.keydownEvents().pipe(Qt(r=>27===r.keyCode&&!this.disableClose&&!bo(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),tH(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Qt(e=>"closing"===e.state),Ln(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function tH(n,t,e){return n._closeInteractionType=t,n.close(e)}const k_=new s.OlP("MatDialogData"),t9=new s.OlP("mat-dialog-default-options"),nH=new s.OlP("mat-dialog-scroll-strategy"),i9={provide:nH,deps:[Ql],useFactory:function n9(n){return()=>n.scrollStrategies.block()}};let r9=0,s9=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nt.x,this._afterOpenedAtThisLevel=new nt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=DD(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ei(void 0))),this._scrollStrategy=d,this._dialog=i.get(eH)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new $x,...i}).id=i.id||`${this._idPrefix}${r9++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:$x,useValue:i},{provide:zx,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),pf=(()=>{class n extends s9{constructor(e,i,r,o,c,d,p,y){super(e,i,o,d,p,c,Zx,e9,k_,y)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ql),s.LFG(s.zs3),s.LFG(Ce,8),s.LFG(t9,8),s.LFG(nH),s.LFG(n,12),s.LFG(Ax),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),o9=0,Xl=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=iH(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){tH(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zx,8),s.Y36(s.SBq),s.Y36(pf))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),ec=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+o9++}ngOnInit(){this._dialogRef||(this._dialogRef=iH(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zx,8),s.Y36(s.SBq),s.Y36(pf))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Ka=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),tc=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function iH(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let a9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pf,i9],imports:[K7,Yb,$b,mn,mn]}),n})(),uE=(()=>{class n{constructor(e,i){this.dialog=e,this.mensaje=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zx),s.Y36(k_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"w-100","m-0"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1,"Confirmaci\xf3n"),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"p"),s._uU(4),s.qZA()(),s.TgZ(5,"mat-dialog-actions",2)(6,"button",3),s._uU(7,"No"),s.qZA(),s.TgZ(8,"button",4),s._uU(9,"S\xed"),s.qZA()()),2&e&&(s.xp6(4),s.Oqu(i.mensaje),s.xp6(4),s.Q6J("mat-dialog-close",!0))},dependencies:[Vr,Xl,ec,Ka,tc]}),n})();const rH="@firebase/database";let TP="";function oH(n){TP=n}class u9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class d9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const aH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u9(t)}}catch{}return new d9},R_=aH("localStorage"),SP=aH("sessionStorage"),rw=new cr.Yd("@firebase/database"),lH=function(){let n=1;return function(){return n++}}(),cH=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},dE=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=dE.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let O_=null,uH=!0;const dH=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(rw.logLevel=cr.in.VERBOSE,O_=rw.log.bind(rw),t&&SP.set("logging_enabled",!0)):"function"==typeof n?O_=n:(O_=null,SP.remove("logging_enabled"))},as=function(...n){if(!0===uH&&(uH=!1,null===O_&&!0===SP.get("logging_enabled")&&dH(!0)),O_){const t=dE.apply(null,n);O_(t)}},hE=function(n){return function(...t){as(n,...t)}},IP=function(...n){const t="FIREBASE INTERNAL ERROR: "+dE(...n);rw.error(t)},Td=function(...n){const t=`FIREBASE FATAL ERROR: ${dE(...n)}`;throw rw.error(t),new Error(t)},$s=function(...n){const t="FIREBASE WARNING: "+dE(...n);rw.warn(t)},Yx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},mf="[MIN_NAME]",Sd="[MAX_NAME]",P_=function(n,t){if(n===t)return 0;if(n===mf||t===Sd)return-1;if(t===mf||n===Sd)return 1;{const e=Wx(n),i=Wx(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},p9=function(n,t){return n===t?0:n<t?-1:1},fE=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},AP=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=AP(n[t[i]]);return e+="}",e},hH=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ls(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const fH=function(n){(0,N.hu)(!Yx(n),"Invalid JSON number");const i=1023;let r,o,c,d,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const w=y.join("");let E="";for(p=0;p<64;p+=8){let M=parseInt(w.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),E+=M}return E.toLowerCase()},y9=new RegExp("^-?(0*)\\d{1,10}$"),pH=-2147483648,xP=2147483647,Wx=function(n){if(y9.test(n)){const t=Number(n);if(t>=pH&&t<=xP)return t}return null},sw=function(n){try{n()}catch(t){setTimeout(()=>{throw $s("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},pE=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class b9{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){$s(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class w9{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(as("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$s(t)}}let mE=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const vH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CH="websocket",DH="long_polling";class kP{constructor(t,e,i,r,o=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=R_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&R_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function EH(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===CH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==DH)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function C9(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ls(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class D9{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const RP={},OP={};function PP(n){const t=n.toString();return RP[t]||(RP[t]=new D9),RP[t]}class T9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&sw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class am{constructor(t,e,i,r,o,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hE(t),this.stats_=PP(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),EH(e,DH,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new T9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new NP((...o)=>{const[c,d,p,y,w]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){am.forceAllow_=!0}static forceDisallow(){am.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!am.forceAllow_&&(am.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=hH(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class NP{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=lH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=NP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){as("frame writing exception"),d.stack&&as(d.stack),as(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||as("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{as("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Qx=null;typeof MozWebSocket<"u"?Qx=MozWebSocket:typeof WebSocket<"u"&&(Qx=WebSocket);let ow=(()=>{class n{constructor(e,i,r,o,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hE(this.connId),this.stats_=PP(i),this.connURL=n.connectionURL_(i,d,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const d={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&vH.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),c&&(d.p=c),EH(e,CH,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,R_.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${TP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new Qx(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Qx&&!n.forceDisallow_}static previouslyFailed(){return R_.isInMemoryStorage||!0===R_.get("previous_websocket_failure")}markConnectionHealthy(){R_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=hH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),kH=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[am,ow]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ow&&ow.isAvailable();let r=i&&!ow.previouslyFailed();if(e.webSocketOnly&&(i||$s("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ow];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class VH{constructor(t,e,i,r,o,c,d,p,y,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hE("c:"+this.id+":"),this.transportManager_=new kH(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=pE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=fE("t",t),i=fE("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=fE("t",t),i=fE("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=fE("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?IP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&$s("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),pE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(R_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class BH{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class UH{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Jx extends UH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jx}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Bn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Mn(){return new Bn("")}function on(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function lm(n){return n.pieces_.length-n.pieceNum_}function oi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Bn(n.pieces_,t)}function LP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function gE(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function GH(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Bn(t,0)}function Vi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Bn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Bn(e,0)}function an(n){return n.pieceNum_>=n.pieces_.length}function Do(n,t){const e=on(n),i=on(t);if(null===e)return t;if(e===i)return Do(oi(n),oi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Z9(n,t){const e=gE(n,0),i=gE(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=P_(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function VP(n,t){if(lm(n)!==lm(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function nc(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(lm(n)>lm(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Y9{constructor(t,e){this.errorPrefix_=e,this.parts_=gE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);qH(this)}}function qH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+N_(n))}function N_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class BP extends UH{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new BP}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const _E=1e3;let eM,F_=(()=>{class n extends BH{constructor(e,i,r,o,c,d,p,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=hE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_E,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");BP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Jx.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,w=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,o),e.onComplete&&e.onComplete(w,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();$s(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):IP("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_E,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_E,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_E),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ve.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,y=null;const w=function(){y?y.close():(p=!0,o())};e.realtime_={close:w,sendRequest:function(P){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,F]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?as("getToken() completed but was canceled"):(as("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=F&&F.token,y=new VH(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,j=>{$s(j+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(P){e.log_("Failed to get token: "+P),p||(e.repoInfo_.nodeAdmin&&$s(P),w())}}})()}interrupt(e){as("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){as("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_E,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>AP(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Bn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){as("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){as("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+TP.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jx.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class dn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new dn(t,e)}}class Xx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new dn(mf,t),r=new dn(mf,e);return 0!==this.compare(i,r)}minPost(){return dn.MIN}}class ZH extends Xx{static get __EMPTY_NODE(){return eM}static set __EMPTY_NODE(t){eM=t}compare(t,e){return P_(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return dn.MIN}maxPost(){return new dn(Sd,eM)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new dn(t,eM)}toString(){return".key"}}const Id=new ZH;class tM{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let HP,du=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Ko.EMPTY_NODE,this.right=c??Ko.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ko.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ko.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ko{constructor(t,e=Ko.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ko(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,du.BLACK,null,null))}remove(t){return new Ko(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,du.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new tM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new tM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new tM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new tM(this.root_,null,this.comparator_,!0,t)}}function nQ(n,t){return P_(n.name,t.name)}function UP(n,t){return P_(n,t)}Ko.EMPTY_NODE=new class tQ{copy(t,e,i,r,o){return this}insert(t,e,i){return new du(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const YH=function(n){return"number"==typeof n?"number:"+fH(n):"string:"+n},WH=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===HP||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===HP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let KH,QH,JH,aw=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),WH(this.priorityNode_)}static set __childrenNodeConstructor(e){KH=e}static get __childrenNodeConstructor(){return KH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return an(e)?this:".priority"===on(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=on(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===lm(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YH(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?fH(this.value_):this.value_,this.lazyHash_=cH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gi=new class oQ extends Xx{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?P_(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return dn.MIN}maxPost(){return new dn(Sd,new aw("[PRIORITY-POST]",JH))}makePost(t,e){const i=QH(t);return new dn(e,new aw("[PRIORITY-POST]",i))}toString(){return".priority"}},aQ=Math.log(2);class lQ{constructor(t){this.count=parseInt(Math.log(t+1)/aQ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const nM=function(n,t,e,i){n.sort(t);const r=function(p,y){const w=y-p;let E,M;if(0===w)return null;if(1===w)return E=n[p],M=e?e(E):E,new du(M,E.node,du.BLACK,null,null);{const P=parseInt(w/2,10)+p,F=r(p,P),j=r(P+1,y);return E=n[P],M=e?e(E):E,new du(M,E.node,du.BLACK,F,j)}},d=function(p){let y=null,w=null,E=n.length;const M=function(F,j){const ne=E-F,Ne=E;E-=F;const je=r(ne+1,Ne),et=n[ne],qe=e?e(et):et;P(new du(qe,et.node,j,null,je))},P=function(F){y?(y.left=F,y=F):(w=F,y=F)};for(let F=0;F<p.count;++F){const j=p.nextBitIsOne(),ne=Math.pow(2,p.count-(F+1));j?M(ne,du.BLACK):(M(ne,du.BLACK),M(ne,du.RED))}return w}(new lQ(n.length));return new Ko(i||t,d)};let jP;const lw={};class gf{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(lw&&gi,"ChildrenNode.ts has not been loaded"),jP=jP||new gf({".priority":lw},{".priority":gi}),jP}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ko?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==Id,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(dn.Wrap);let d,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();d=r?nM(i,t.getCompare()):lw;const p=t.toString(),y=Object.assign({},this.indexSet_);y[p]=t;const w=Object.assign({},this.indexes_);return w[p]=d,new gf(w,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const c=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(c,"Missing index implementation for "+o),r===lw){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(dn.Wrap);let y=p.getNext();for(;y;)y.name!==t.name&&d.push(y),y=p.getNext();return d.push(t),nM(d,c.getCompare())}return lw}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new dn(t.name,d))),p.insert(t,t.node)}});return new gf(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===lw)return r;{const o=e.get(t.name);return o?r.remove(new dn(t.name,o)):r}});return new gf(i,this.indexSet_)}}let yE,$t=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&WH(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yE||(yE=new n(new Ko(UP),null,gf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yE}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?yE:i}}getChild(e){const i=on(e);return null===i?this:this.getImmediateChild(i).getChild(oi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new dn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?yE:this.priorityNode_;return new n(o,d,c)}}updateChild(e,i){const r=on(e);if(null===r)return i;{(0,N.hu)(".priority"!==on(e)||1===lm(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(oi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(gi,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+YH(this.getPriority().val())+":"),this.forEachChild(gi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":cH(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new dn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new dn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new dn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,dn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,dn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vE?-1:0}withIndex(e){if(e===Id||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Id||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(gi),o=i.getIterator(gi);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Id?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vE=new class cQ extends $t{constructor(){super(new Ko(UP),$t.EMPTY_NODE,gf.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $t.EMPTY_NODE}isEmpty(){return!1}};function Wi(n,t=null){if(null===n)return $t.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new aw(n,Wi(t));if(n instanceof Array){let e=$t.EMPTY_NODE;return ls(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=Wi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Wi(t))}{const e=[];let i=!1;if(ls(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Wi(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new dn(c,p)))}}),0===e.length)return $t.EMPTY_NODE;const o=nM(e,nQ,c=>c.name,UP);if(i){const c=nM(e,gi.getCompare());return new $t(o,Wi(t),new gf({".priority":c},{".priority":gi}))}return new $t(o,Wi(t),gf.Default)}}Object.defineProperties(dn,{MIN:{value:new dn(mf,$t.EMPTY_NODE)},MAX:{value:new dn(Sd,vE)}}),ZH.__EMPTY_NODE=$t.EMPTY_NODE,aw.__childrenNodeConstructor=$t,function iQ(n){HP=n}(vE),function sQ(n){JH=n}(vE),function rQ(n){QH=n}(Wi);class GP extends Xx{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!an(t)&&".priority"!==on(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?P_(t.name,e.name):o}makePost(t,e){const i=Wi(t),r=$t.EMPTY_NODE.updateChild(this.indexPath_,i);return new dn(e,r)}maxPost(){const t=$t.EMPTY_NODE.updateChild(this.indexPath_,vE);return new dn(Sd,t)}toString(){return gE(this.indexPath_,0).join("/")}}const qP=new class dQ extends Xx{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?P_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return dn.MIN}maxPost(){return dn.MAX}makePost(t,e){const i=Wi(t);return new dn(e,i)}toString(){return".value"}},cw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hQ=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=cw.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=cw.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),t3=function(n){if(n===""+xP)return"-";const t=Wx(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Sd;const o=cw.charAt(cw.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},n3=function(n){if(n===""+pH)return mf;const t=Wx(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+xP:(delete e[e.length-1],e.join("")):(e[e.length-1]=cw.charAt(cw.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function i3(n){return{type:"value",snapshotNode:n}}function uw(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bE(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function wE(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class $P{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(bE(e,d)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(uw(e,i)):c.trackChildChange(wE(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(gi,(r,o)=>{e.hasChild(r)||i.trackChildChange(bE(r,o))}),e.isLeafNode()||e.forEachChild(gi,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(wE(r,o,c))}else i.trackChildChange(uw(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?$t.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class CE{constructor(t){this.indexedFilter_=new $P(t.getIndex()),this.index_=t.getIndex(),this.startPost_=CE.getStartPost_(t),this.endPost_=CE.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new dn(e,i))||(i=$t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=$t.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority($t.EMPTY_NODE);const o=this;return e.forEachChild(gi,(c,d)=>{o.matches(new dn(c,d))||(r=r.updateImmediateChild(c,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class pQ{constructor(t){this.rangedFilter_=new CE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new dn(e,i))||(i=$t.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=$t.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let o,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority($t.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const E=this.index_.getCompare();d=(M,P)=>E(P,M)}else p=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,w=!1;for(;p.hasNext();){const E=p.getNext();!w&&d(o,E)<=0&&(w=!0),w&&y<this.limit_&&d(E,c)<=0?y++:r=r.updateImmediateChild(E.name,$t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const E=this.index_.getCompare();c=(M,P)=>E(P,M)}else c=this.index_.getCompare();const d=t;(0,N.hu)(d.numChildren()===this.limit_,"");const p=new dn(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(d.hasChild(e)){const E=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:c(M,p);if(w&&!i.isEmpty()&&P>=0)return o?.trackChildChange(wE(e,i,E)),d.updateImmediateChild(e,i);{o?.trackChildChange(bE(e,E));const j=d.updateImmediateChild(e,$t.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(o?.trackChildChange(uw(M.name,M.node)),j.updateImmediateChild(M.name,M.node)):j}}return i.isEmpty()?t:w&&c(y,p)>=0?(null!=o&&(o.trackChildChange(bE(y.name,y.node)),o.trackChildChange(uw(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,$t.EMPTY_NODE)):t}}class iM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gi}copy(){const t=new iM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZP(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function YP(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function rM(n,t){const e=n.copy();return e.index_=t,e}function r3(n){const t={};if(n.isDefault())return t;let e;return n.index_===gi?e="$priority":n.index_===qP?e="$value":n.index_===Id?e="$key":((0,N.hu)(n.index_ instanceof GP,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function s3(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gi&&(t.i=n.index_.toString()),t}class sM extends BH{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hE("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=sM.getListenId_(t,i),d={};this.listens_[c]=d;const p=r3(t._queryParams);this.restRequest_(o+".json",p,(y,w)=>{let E=w;if(404===y&&(E=null,y=null),null===y&&this.onDataUpdate_(o,E,!1,i),(0,N.DV)(this.listens_,c)===d){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=sM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=r3(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,N.cI)(d.responseText)}catch{$s("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&$s("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class bQ{constructor(){this.rootNode_=$t.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function oM(){return{value:null,children:new Map}}function dw(n,t,e){if(an(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=on(t);n.children.has(i)||n.children.set(i,oM()),dw(n.children.get(i),t=oi(t),e)}}function WP(n,t){if(an(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gi,(i,r)=>{dw(n,new Bn(i),r)}),WP(n,t)}}if(n.children.size>0){const e=on(t);return t=oi(t),n.children.has(e)&&WP(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function KP(n,t,e){null!==n.value?e(t,n.value):function wQ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{KP(r,new Bn(t.toString()+"/"+i),e)})}class CQ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ls(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class TQ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new CQ(t);const i=1e4+2e4*Math.random();pE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ls(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),pE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ic=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ic||(ic={})),ic))();function XP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class aM{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ic.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(an(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Bn(t));return new aM(Mn(),e,this.revert)}}return(0,N.hu)(on(this.path)===t,"operationForChild called for unrelated child."),new aM(oi(this.path),this.affectedTree,this.revert)}}class DE{constructor(t,e){this.source=t,this.path=e,this.type=ic.LISTEN_COMPLETE}operationForChild(t){return an(this.path)?new DE(this.source,Mn()):new DE(this.source,oi(this.path))}}class L_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ic.OVERWRITE}operationForChild(t){return an(this.path)?new L_(this.source,Mn(),this.snap.getImmediateChild(t)):new L_(this.source,oi(this.path),this.snap)}}class hw{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ic.MERGE}operationForChild(t){if(an(this.path)){const e=this.children.subtree(new Bn(t));return e.isEmpty()?null:e.value?new L_(this.source,Mn(),e.value):new hw(this.source,Mn(),e)}return(0,N.hu)(on(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new hw(this.source,oi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cm{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(an(t))return this.isFullyInitialized()&&!this.filtered_;const e=on(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class SQ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function EE(n,t,e,i,r,o){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function xQ(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new dn(t.childName,t.snapshotNode),r=new dn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function AQ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(p,n.query_))})})}function lM(n,t){return{eventCache:n,serverCache:t}}function TE(n,t,e,i){return lM(new cm(t,e,i),n.serverCache)}function a3(n,t,e,i){return lM(n.eventCache,new cm(t,e,i))}function cM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function V_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let eN;class _i{constructor(t,e=(()=>(eN||(eN=new Ko(p9)),eN))()){this.value=t,this.children=e}static fromObject(t){let e=new _i(null);return ls(t,(i,r)=>{e=e.set(new Bn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Mn(),value:this.value};if(an(t))return null;{const i=on(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(oi(t),e);return null!=o?{path:Vi(new Bn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(an(t))return this;{const e=on(t),i=this.children.get(e);return null!==i?i.subtree(oi(t)):new _i(null)}}set(t,e){if(an(t))return new _i(e,this.children);{const i=on(t),o=(this.children.get(i)||new _i(null)).set(oi(t),e),c=this.children.insert(i,o);return new _i(this.value,c)}}remove(t){if(an(t))return this.children.isEmpty()?new _i(null):new _i(null,this.children);{const e=on(t),i=this.children.get(e);if(i){const r=i.remove(oi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new _i(null):new _i(this.value,o)}return this}}get(t){if(an(t))return this.value;{const e=on(t),i=this.children.get(e);return i?i.get(oi(t)):null}}setTree(t,e){if(an(t))return e;{const i=on(t),o=(this.children.get(i)||new _i(null)).setTree(oi(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new _i(this.value,c)}}fold(t){return this.fold_(Mn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Vi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Mn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(an(t))return null;{const o=on(t),c=this.children.get(o);return c?c.findOnPath_(oi(t),Vi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Mn(),e)}foreachOnPath_(t,e,i){if(an(t))return this;{this.value&&i(e,this.value);const r=on(t),o=this.children.get(r);return o?o.foreachOnPath_(oi(t),Vi(e,r),i):new _i(null)}}foreach(t){this.foreach_(Mn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Vi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class hu{constructor(t){this.writeTree_=t}static empty(){return new hu(new _i(null))}}function SE(n,t,e){if(an(t))return new hu(new _i(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=Do(r,t);return o=o.updateChild(c,e),new hu(n.writeTree_.set(r,o))}{const r=new _i(e),o=n.writeTree_.setTree(t,r);return new hu(o)}}}function tN(n,t,e){let i=n;return ls(e,(r,o)=>{i=SE(i,Vi(t,r),o)}),i}function l3(n,t){if(an(t))return hu.empty();{const e=n.writeTree_.setTree(t,new _i(null));return new hu(e)}}function nN(n,t){return null!=B_(n,t)}function B_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Do(e.path,t)):null}function c3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gi,(i,r)=>{t.push(new dn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new dn(i,r.value))}),t}function um(n,t){if(an(t))return n;{const e=B_(n,t);return new hu(null!=e?new _i(e):n.writeTree_.subtree(t))}}function iN(n){return n.writeTree_.isEmpty()}function fw(n,t){return u3(Mn(),n.writeTree_,t)}function u3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=u3(Vi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Vi(n,".priority"),i)),e}}function uM(n,t){return m3(t,n)}function NQ(n,t){if(n.snap)return nc(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&nc(Vi(n.path,e),t))return!0;return!1}function LQ(n){return n.visible}function d3(n,t,e){let i=hu.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let d;if(o.snap)nc(e,c)?(d=Do(e,c),i=SE(i,d,o.snap)):nc(c,e)&&(d=Do(c,e),i=SE(i,Mn(),o.snap.getChild(d)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(nc(e,c))d=Do(e,c),i=tN(i,d,o.children);else if(nc(c,e))if(d=Do(c,e),an(d))i=tN(i,Mn(),o.children);else{const p=(0,N.DV)(o.children,on(d));if(p){const y=p.getChild(oi(d));i=SE(i,Mn(),y)}}}}}return i}function h3(n,t,e,i,r){if(i||r){const o=um(n.visibleWrites,t);return!r&&iN(o)?e:r||null!=e||nN(o,Mn())?fw(d3(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(nc(y.path,t)||nc(t,y.path))},t),e||$t.EMPTY_NODE):null}{const o=B_(n.visibleWrites,t);if(null!=o)return o;{const c=um(n.visibleWrites,t);return iN(c)?e:null!=e||nN(c,Mn())?fw(c,e||$t.EMPTY_NODE):null}}}function dM(n,t,e,i){return h3(n.writeTree,n.treePath,t,e,i)}function rN(n,t){return function VQ(n,t,e){let i=$t.EMPTY_NODE;const r=B_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(gi,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=um(n.visibleWrites,t);return e.forEachChild(gi,(c,d)=>{const p=fw(um(o,new Bn(c)),d);i=i.updateImmediateChild(c,p)}),c3(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return c3(um(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function f3(n,t,e,i){return function BQ(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Vi(t,e);if(nN(n.visibleWrites,o))return null;{const c=um(n.visibleWrites,o);return iN(c)?r.getChild(e):fw(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function hM(n,t){return function HQ(n,t){return B_(n.visibleWrites,t)}(n.writeTree,Vi(n.treePath,t))}function sN(n,t,e){return function UQ(n,t,e,i){const r=Vi(t,e),o=B_(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?fw(um(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function p3(n,t){return m3(Vi(n.treePath,t),n.writeTree)}function m3(n,t){return{treePath:n,writeTree:t}}class zQ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,wE(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,bE(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,uw(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,wE(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const g3=new class $Q{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class oN{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new cm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sN(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:V_(this.viewCache_),o=function qQ(n,t,e,i,r,o){return function jQ(n,t,e,i,r,o,c){let d;const p=um(n.visibleWrites,t),y=B_(p,Mn());if(null!=y)d=y;else{if(null==e)return[];d=fw(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const w=[],E=c.getCompare(),M=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=M.getNext();for(;P&&w.length<r;)0!==E(P,i)&&w.push(P),P=M.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function _3(n,t,e,i,r,o){const c=t.eventCache;if(null!=hM(i,e))return t;{let d,p;if(an(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=V_(t),E=rN(i,y instanceof $t?y:$t.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,o)}else{const y=dM(i,V_(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=on(e);if(".priority"===y){(0,N.hu)(1===lm(e),"Can't have a priority with additional path components");const w=c.getNode();p=t.serverCache.getNode();const E=f3(i,e,w,p);d=null!=E?n.filter.updatePriority(w,E):c.getNode()}else{const w=oi(e);let E;if(c.isCompleteForChild(y)){p=t.serverCache.getNode();const M=f3(i,e,c.getNode(),p);E=null!=M?c.getNode().getImmediateChild(y).updateChild(w,M):c.getNode().getImmediateChild(y)}else E=sN(i,y,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),y,E,w,r,o):c.getNode()}}return TE(t,d,c.isFullyInitialized()||an(e),n.filter.filtersNodes())}}function fM(n,t,e,i,r,o,c,d){const p=t.serverCache;let y;const w=c?n.filter:n.filter.getIndexedFilter();if(an(e))y=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(e,i);y=w.updateFullNode(p.getNode(),P,null)}else{const P=on(e);if(!p.isCompleteForPath(e)&&lm(e)>1)return t;const F=oi(e),ne=p.getNode().getImmediateChild(P).updateChild(F,i);y=".priority"===P?w.updatePriority(p.getNode(),ne):w.updateChild(p.getNode(),P,ne,F,g3,null)}const E=a3(t,y,p.isFullyInitialized()||an(e),w.filtersNodes());return _3(n,E,e,r,new oN(r,E,o),d)}function aN(n,t,e,i,r,o,c){const d=t.eventCache;let p,y;const w=new oN(r,t,o);if(an(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=TE(t,y,!0,n.filter.filtersNodes());else{const E=on(e);if(".priority"===E)y=n.filter.updatePriority(t.eventCache.getNode(),i),p=TE(t,y,d.isFullyInitialized(),d.isFiltered());else{const M=oi(e),P=d.getNode().getImmediateChild(E);let F;if(an(M))F=i;else{const j=w.getCompleteChild(E);F=null!=j?".priority"===LP(M)&&j.getChild(GH(M)).isEmpty()?j:j.updateChild(M,i):$t.EMPTY_NODE}p=P.equals(F)?t:TE(t,n.filter.updateChild(d.getNode(),E,F,M,w,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function y3(n,t){return n.eventCache.isCompleteForChild(t)}function v3(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function lN(n,t,e,i,r,o,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,p=t;y=an(e)?i:new _i(null).setTree(e,i);const w=t.serverCache.getNode();return y.children.inorderTraversal((E,M)=>{if(w.hasChild(E)){const F=v3(0,t.serverCache.getNode().getImmediateChild(E),M);p=fM(n,p,new Bn(E),F,r,o,c,d)}}),y.children.inorderTraversal((E,M)=>{const P=!t.serverCache.isCompleteForChild(E)&&void 0===M.value;if(!w.hasChild(E)&&!P){const j=v3(0,t.serverCache.getNode().getImmediateChild(E),M);p=fM(n,p,new Bn(E),j,r,o,c,d)}}),p}class tJ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new $P(i.getIndex()),o=function mQ(n){return n.loadsAllData()?new $P(n.getIndex()):n.hasLimit()?new pQ(n):new CE(n)}(i);this.processor_=function ZQ(n){return{filter:n}}(o);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode($t.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode($t.EMPTY_NODE,d.getNode(),null),w=new cm(p,c.isFullyInitialized(),r.filtersNodes()),E=new cm(y,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=lM(E,w),this.eventGenerator_=new SQ(this.query_)}get query(){return this.query_}}function rJ(n,t){const e=V_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!an(t)&&!e.getImmediateChild(on(t)).isEmpty())?e.getChild(t):null}function b3(n){return 0===n.eventRegistrations_.length}function w3(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function C3(n,t,e,i){t.type===ic.MERGE&&null!==t.source.queryId&&((0,N.hu)(V_(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(cM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function WQ(n,t,e,i,r){const o=new zQ;let c,d;if(e.type===ic.OVERWRITE){const y=e;y.source.fromUser?c=aN(n,t,y.path,y.snap,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!an(y.path),c=fM(n,t,y.path,y.snap,i,r,d,o))}else if(e.type===ic.MERGE){const y=e;y.source.fromUser?c=function QQ(n,t,e,i,r,o,c){let d=t;return i.foreach((p,y)=>{const w=Vi(e,p);y3(t,on(w))&&(d=aN(n,d,w,y,r,o,c))}),i.foreach((p,y)=>{const w=Vi(e,p);y3(t,on(w))||(d=aN(n,d,w,y,r,o,c))}),d}(n,t,y.path,y.children,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=lN(n,t,y.path,y.children,i,r,d,o))}else if(e.type===ic.ACK_USER_WRITE){const y=e;c=y.revert?function eJ(n,t,e,i,r,o){let c;if(null!=hM(i,e))return t;{const d=new oN(i,t,r),p=t.eventCache.getNode();let y;if(an(e)||".priority"===on(e)){let w;if(t.serverCache.isFullyInitialized())w=dM(i,V_(t));else{const E=t.serverCache.getNode();(0,N.hu)(E instanceof $t,"serverChildren would be complete if leaf node"),w=rN(i,E)}y=n.filter.updateFullNode(p,w,o)}else{const w=on(e);let E=sN(i,w,t.serverCache);null==E&&t.serverCache.isCompleteForChild(w)&&(E=p.getImmediateChild(w)),y=null!=E?n.filter.updateChild(p,w,E,oi(e),d,o):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,$t.EMPTY_NODE,oi(e),d,o):p,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=dM(i,V_(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=hM(i,Mn()),TE(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function JQ(n,t,e,i,r,o,c){if(null!=hM(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(an(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return fM(n,t,e,p.getNode().getChild(e),r,o,d,c);if(an(e)){let y=new _i(null);return p.getNode().forEachChild(Id,(w,E)=>{y=y.set(new Bn(w),E)}),lN(n,t,e,y,r,o,d,c)}return t}{let y=new _i(null);return i.foreach((w,E)=>{const M=Vi(e,w);p.isCompleteForPath(M)&&(y=y.set(w,p.getNode().getChild(M)))}),lN(n,t,e,y,r,o,d,c)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==ic.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function XQ(n,t,e,i,r){const o=t.serverCache;return _3(n,a3(t,o.getNode(),o.isFullyInitialized()||an(e),o.isFiltered()),e,i,g3,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function KQ(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=cM(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(i3(cM(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function YQ(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,D3(n,o.changes,o.viewCache.eventCache.getNode(),null)}function D3(n,t,e,i){return function IQ(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function fQ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),EE(n,r,"child_removed",t,i,e),EE(n,r,"child_added",t,i,e),EE(n,r,"child_moved",o,i,e),EE(n,r,"child_changed",t,i,e),EE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let pM,gM;class E3{constructor(){this.views=new Map}}function cN(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),C3(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(C3(c,t,e,i));return o}}function uN(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=dM(e,r?i:null),p=!1;d?p=!0:i instanceof $t?(d=rN(e,i),p=!1):(d=$t.EMPTY_NODE,p=!1);const y=lM(new cm(d,p,!1),new cm(i,r,!1));return new tJ(t,y)}return c}function T3(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function dm(n,t){let e=null;for(const i of n.views.values())e=e||rJ(i,t);return e}function S3(n,t){return t._queryParams.loadsAllData()?mM(n):n.views.get(t._queryIdentifier)}function I3(n,t){return null!=S3(n,t)}function hm(n){return null!=mM(n)}function mM(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let pJ=1;class A3{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _i(null),this.pendingWriteTree_=function GQ(){return{visibleWrites:hu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dN(n,t,e,i,r){return function kQ(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=SE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?pw(n,new L_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function fm(n,t,e=!1){const i=function OQ(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function PQ(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&NQ(d,i.path)?r=!1:nc(i.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function FQ(n){n.visibleWrites=d3(n.allWrites,LQ,Mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=l3(n.visibleWrites,i.path):ls(i.children,p=>{n.visibleWrites=l3(n.visibleWrites,Vi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new _i(null);return null!=i.snap?o=o.set(Mn(),!0):ls(i.children,c=>{o=o.set(new Bn(c),!0)}),pw(n,new aM(i.path,o,e))}return[]}function IE(n,t,e){return pw(n,new L_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _M(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let c=[];if(o&&("default"===t._queryIdentifier||I3(o,t))){const d=function dJ(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const d=hm(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(w3(y,e,i)),b3(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||o.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(w3(p,e,i)),b3(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return d&&!hm(n)&&o.push(new(function lJ(){return(0,N.hu)(pM,"Reference.ts has not been loaded"),pM}())(t._repo,t._path)),{removed:o,events:c}}(o,t,e,i);(function cJ(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const y=-1!==p.findIndex(E=>E._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(r,(E,M)=>hm(M));if(y&&!w){const E=n.syncPointTree_.subtree(r);if(!E.isEmpty()){const M=function CJ(n){return n.fold((t,e,i)=>{if(e&&hm(e))return[mM(e)];{let r=[];return e&&(r=T3(e)),ls(i,(o,c)=>{r=r.concat(c)}),r}})}(E);for(let P=0;P<M.length;++P){const F=M[P],j=F.query,ne=P3(n,F);n.listenProvider_.startListening(xE(j),AE(n,j),ne.hashFn,ne.onComplete)}}}!w&&p.length>0&&!i&&(y?n.listenProvider_.stopListening(xE(t),null):p.forEach(E=>{const M=n.queryToTagMap.get(vM(E));n.listenProvider_.stopListening(xE(E),M)})),function DJ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=vM(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,p)}return c}function x3(n,t,e,i){const r=hN(n,i);if(null!=r){const o=fN(r),c=o.path,d=o.queryId,p=Do(c,t);return pN(n,c,new L_(XP(d),p,e))}return[]}function M3(n,t){const e=n._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(e,(y,w)=>{const E=Do(y,e);i=i||dm(w,E),r=r||hm(w)});let c,o=t.syncPointTree_.get(e);o?(r=r||hm(o),i=i||dm(o,Mn())):(o=new E3,t.syncPointTree_=t.syncPointTree_.set(e,o)),null!=i?c=!0:(c=!1,i=$t.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((w,E)=>{const M=dm(E,Mn());M&&(i=i.updateImmediateChild(w,M))}));const d=I3(o,n);if(!d&&!n._queryParams.loadsAllData()){const y=vM(n);(0,N.hu)(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=function EJ(){return pJ++}();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}return{syncPoint:o,writesCache:uM(t.pendingWriteTree_,e),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:d}}function k3(n,t,e){const{syncPoint:i,serverCache:r,writesCache:o,serverCacheComplete:c,viewAlreadyExists:d,foundAncestorDefaultView:p}=M3(t,n);let y=function uJ(n,t,e,i,r,o){const c=uN(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function sJ(n,t){n.eventRegistrations_.push(t)}(c,e),function oJ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gi,(o,c)=>{i.push(uw(o,c))}),e.isFullyInitialized()&&i.push(i3(e.getNode())),D3(n,i,e.getNode(),t)}(c,e)}(i,t,e,o,r,c);if(!d&&!p){const w=S3(i,t);y=y.concat(function TJ(n,t,e){const i=t._path,r=AE(n,t),o=P3(n,e),c=n.listenProvider_.startListening(xE(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!hm(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((y,w,E)=>{if(!an(y)&&w&&hm(w))return[mM(w).query];{let M=[];return w&&(M=M.concat(T3(w).map(P=>P.query))),ls(E,(P,F)=>{M=M.concat(F)}),M}});for(let y=0;y<p.length;++y){const w=p[y];n.listenProvider_.stopListening(xE(w),AE(n,w))}}return c}(n,t,w))}return y}function yM(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=dm(d,Do(c,t));if(y)return y});return h3(r,t,o,e,!0)}function pw(n,t){return R3(t,n.syncPointTree_,null,uM(n.pendingWriteTree_,Mn()))}function R3(n,t,e,i){if(an(n.path))return O3(n,t,e,i);{const r=t.get(Mn());null==e&&null!=r&&(e=dm(r,Mn()));let o=[];const c=on(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const y=e?e.getImmediateChild(c):null,w=p3(i,c);o=o.concat(R3(d,p,y,w))}return r&&(o=o.concat(cN(r,n,i,e))),o}}function O3(n,t,e,i){const r=t.get(Mn());null==e&&null!=r&&(e=dm(r,Mn()));let o=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,y=p3(i,c),w=n.operationForChild(c);w&&(o=o.concat(O3(w,d,p,y)))}),r&&(o=o.concat(cN(r,n,i,e))),o}function P3(n,t){const e=t.query,i=AE(n,e);return{hashFn:()=>(function nJ(n){return n.viewCache_.serverCache.getNode()}(t)||$t.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function yJ(n,t,e){const i=hN(n,e);if(i){const r=fN(i),o=r.path,c=r.queryId,d=Do(o,t);return pN(n,o,new DE(XP(c),d))}return[]}(n,e._path,i):function _J(n,t){return pw(n,new DE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function _9(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return _M(n,e,null,o)}}}}function AE(n,t){const e=vM(t);return n.queryToTagMap.get(e)}function vM(n){return n._path.toString()+"$"+n._queryIdentifier}function hN(n,t){return n.tagToQueryMap.get(t)}function fN(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Bn(n.substr(0,t))}}function pN(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),cN(i,e,uM(n.pendingWriteTree_,t),null)}function xE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function fJ(){return(0,N.hu)(gM,"Reference.ts has not been loaded"),gM}())(n._repo,n._path):n}class mN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new mN(e)}node(){return this.node_}}class gN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Vi(this.path_,t);return new gN(this.syncTree_,e)}node(){return yM(this.syncTree_,this.path_)}}const N3=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?IJ(n[".sv"],t,e):"object"==typeof n[".sv"]?AJ(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},IJ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},AJ=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},F3=function(n,t,e,i){return yN(t,new gN(e,n),i)},_N=function(n,t,e){return yN(n,new mN(t),e)};function yN(n,t,e){const i=n.getPriority().val(),r=N3(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,d=N3(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new aw(d,Wi(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new aw(r))),c.forEachChild(gi,(d,p)=>{const y=yN(p,t.getImmediateChild(d),e);y!==p&&(o=o.updateImmediateChild(d,y))}),o}}class vN{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function bM(n,t){let e=t instanceof Bn?t:new Bn(t),i=n,r=on(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new vN(r,i,o),e=oi(e),r=on(e)}return i}function U_(n){return n.node.value}function bN(n,t){n.node.value=t,wN(n)}function L3(n){return n.node.childCount>0}function wM(n,t){ls(n.node.children,(e,i)=>{t(new vN(e,n,i))})}function V3(n,t,e,i){e&&!i&&t(n),wM(n,r=>{V3(r,t,!0,i)}),e&&i&&t(n)}function ME(n){return new Bn(null===n.parent?n.name:ME(n.parent)+"/"+n.name)}function wN(n){null!==n.parent&&function kJ(n,t,e){const i=function xJ(n){return void 0===U_(n)&&!L3(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,wN(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,wN(n))}(n.parent,n.name,n)}const RJ=/[\[\].#$\/\u0000-\u001F\u007F]/,OJ=/[\[\].#$\u0000-\u001F\u007F]/,CN=10485760,CM=function(n){return"string"==typeof n&&0!==n.length&&!RJ.test(n)},B3=function(n){return"string"==typeof n&&0!==n.length&&!OJ.test(n)},kE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Yx(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Ad=function(n,t,e,i){i&&void 0===t||RE((0,N.gK)(n,"value"),t,e)},RE=function(n,t,e){const i=e instanceof Bn?new Y9(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+N_(i));if("function"==typeof t)throw new Error(n+"contains a function "+N_(i)+" with contents = "+t.toString());if(Yx(t))throw new Error(n+"contains "+t.toString()+" "+N_(i));if("string"==typeof t&&t.length>CN/3&&(0,N.ug)(t)>CN)throw new Error(n+"contains a string greater than "+CN+" utf8 bytes "+N_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(ls(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!CM(c)))throw new Error(n+" contains an invalid key ("+c+") "+N_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function W9(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),qH(n)})(i,c),RE(n,d,i),function K9(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+N_(i)+" in addition to actual children.")}},U3=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];ls(t,(c,d)=>{const p=new Bn(c);if(RE(r,d,Vi(e,p)),".priority"===LP(p)&&!kE(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=gE(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!CM(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Z9);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&nc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},DN=function(n,t,e){if(!e||void 0!==t){if(Yx(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kE(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},OE=function(n,t,e,i){if(!(i&&void 0===e||CM(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},PE=function(n,t,e,i){if(!(i&&void 0===e||B3(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rc=function(n,t){if(".info"===on(t))throw new Error(n+" failed = Can't modify data under /.info/")},H3=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!CM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),B3(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class LJ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!VP(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function j3(n,t,e){DM(n,e),G3(n,i=>VP(i,t))}function sc(n,t,e){DM(n,e),G3(n,i=>nc(i,t)||nc(t,i))}function G3(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(VJ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function VJ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();O_&&as("event: "+e.toString()),sw(i)}}}const q3="repo_interrupt";class UJ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oM(),this.transactionQueueTree_=new vN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function z3(n){const e=n.infoData_.getNode(new Bn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function NE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:z3(n)})}function $3(n,t,e,i,r){n.dataUpdateCount++;const o=new Bn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,N.UI)(e,y=>Wi(y));c=function bJ(n,t,e,i){const r=hN(n,i);if(r){const o=fN(r),c=o.path,d=o.queryId,p=Do(c,t),y=_i.fromObject(e);return pN(n,c,new hw(XP(d),p,y))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=Wi(e);c=x3(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,N.UI)(e,y=>Wi(y));c=function gJ(n,t,e){const i=_i.fromObject(e);return pw(n,new hw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=Wi(e);c=IE(n.serverSyncTree_,o,p)}let d=o;c.length>0&&(d=mw(n,o)),sc(n.eventQueue_,d,c)}function Z3(n,t){EN(n,"connected",t),!1===t&&function zJ(n){H_(n,"onDisconnectEvents");const t=NE(n),e=oM();KP(n.onDisconnect_,Mn(),(r,o)=>{const c=F3(r,o,n.serverSyncTree_,t);dw(e,r,c)});let i=[];KP(e,Mn(),(r,o)=>{i=i.concat(IE(n.serverSyncTree_,r,o));const c=AN(n,r);mw(n,c)}),n.onDisconnect_=oM(),sc(n.eventQueue_,Mn(),i)}(n)}function EN(n,t,e){const i=new Bn("/.info/"+t),r=Wi(e);n.infoData_.updateSnapshot(i,r);const o=IE(n.infoSyncTree_,i,r);sc(n.eventQueue_,i,o)}function EM(n){return n.nextWriteId_++}function GJ(n,t){const e=function wJ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,w)=>{const E=Do(y,e);i=i||dm(w,E)});let r=n.syncPointTree_.get(e);r?i=i||dm(r,Mn()):(r=new E3,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new cm(i,!0,!1):null;return function iJ(n){return cM(n.viewCache_)}(uN(r,t,uM(n.pendingWriteTree_,t._path),o?c.getNode():$t.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Wi(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())IE(n.serverSyncTree_,t._path,r);else{const c=function vJ(n,t){const{syncPoint:e,serverCache:i,writesCache:r,serverCacheComplete:o}=M3(t,n),c=uN(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),t._queryParams.loadsAllData()?null:AE(n,t)}(n.serverSyncTree_,t);x3(n.serverSyncTree_,t._path,r,c)}return _M(n.serverSyncTree_,t,null).length>0&&H_(n,"unexpected cancel events in repoGetValue"),r},i=>(H_(n,"get for query "+(0,N.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}function TN(n,t,e,i,r){H_(n,"set",{path:t.toString(),value:e,priority:i});const o=NE(n),c=Wi(e,i),d=yM(n.serverSyncTree_,t),p=_N(c,d,o),y=EM(n),w=dN(n.serverSyncTree_,t,p,y,!0);DM(n.eventQueue_,w),n.server_.put(t.toString(),c.val(!0),(M,P)=>{const F="ok"===M;F||$s("set at "+t+" failed: "+M);const j=fm(n.serverSyncTree_,y,!F);sc(n.eventQueue_,t,j),pm(0,r,M,P)});const E=AN(n,t);mw(n,E),sc(n.eventQueue_,E,[])}function $J(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&WP(n.onDisconnect_,t),pm(0,e,i,r)})}function Y3(n,t,e,i){const r=Wi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&dw(n.onDisconnect_,t,r),pm(0,i,o,c)})}function SN(n,t,e){let i;i=".info"===on(t._path)?_M(n.infoSyncTree_,t,e):_M(n.serverSyncTree_,t,e),j3(n.eventQueue_,t._path,i)}function W3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(q3)}function H_(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),as(e,...t)}function pm(n,t,e,i){t&&sw(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function IN(n,t,e){return yM(n.serverSyncTree_,t,e)||$t.EMPTY_NODE}function TM(n,t=n.transactionQueueTree_){if(t||SM(n,t),U_(t)){const e=Q3(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function JJ(n,t,e){const i=e.map(y=>y.currentWriteId),r=IN(n,t,i);let o=r;const c=r.hash();for(let y=0;y<e.length;y++){const w=e[y];(0,N.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const E=Do(t,w.path);o=o.updateChild(E,w.currentOutputSnapshotRaw)}const d=o.val(!0),p=t;n.server_.put(p.toString(),d,y=>{H_(n,"transaction put response",{path:p.toString(),status:y});let w=[];if("ok"===y){const E=[];for(let M=0;M<e.length;M++)e[M].status=2,w=w.concat(fm(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&E.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();SM(n,bM(n.transactionQueueTree_,t)),TM(n,n.transactionQueueTree_),sc(n.eventQueue_,t,w);for(let M=0;M<E.length;M++)sw(E[M])}else{if("datastale"===y)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{$s("transaction at "+p.toString()+" failed: "+y);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=y}mw(n,t)}},c)}(n,ME(t),e)}else L3(t)&&wM(t,e=>{TM(n,e)})}function mw(n,t){const e=K3(n,t),i=ME(e);return function XJ(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],y=Do(e,p.path);let E,w=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,E=p.abortReason,r=r.concat(fm(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,E="maxretry",r=r.concat(fm(n.serverSyncTree_,p.currentWriteId,!0));else{const M=IN(n,p.path,c);p.currentInputSnapshot=M;const P=t[d].update(M.val());if(void 0!==P){RE("transaction failed: Data returned ",P,p.path);let F=Wi(P);"object"==typeof P&&null!=P&&(0,N.r3)(P,".priority")||(F=F.updatePriority(M.getPriority()));const ne=p.currentWriteId,Ne=NE(n),je=_N(F,M,Ne);p.currentOutputSnapshotRaw=F,p.currentOutputSnapshotResolved=je,p.currentWriteId=EM(n),c.splice(c.indexOf(ne),1),r=r.concat(dN(n.serverSyncTree_,p.path,je,p.currentWriteId,p.applyLocally)),r=r.concat(fm(n.serverSyncTree_,ne,!0))}else w=!0,E="nodata",r=r.concat(fm(n.serverSyncTree_,p.currentWriteId,!0))}sc(n.eventQueue_,e,r),r=[],w&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}SM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)sw(i[d]);TM(n,n.transactionQueueTree_)}(n,Q3(n,e),i),i}function K3(n,t){let e,i=n.transactionQueueTree_;for(e=on(t);null!==e&&void 0===U_(i);)i=bM(i,e),e=on(t=oi(t));return i}function Q3(n,t){const e=[];return J3(n,t,e),e.sort((i,r)=>i.order-r.order),e}function J3(n,t,e){const i=U_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);wM(t,r=>{J3(n,r,e)})}function SM(n,t){const e=U_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,bN(t,e.length>0?e:void 0)}wM(t,i=>{SM(n,i)})}function AN(n,t){const e=ME(K3(n,t)),i=bM(n.transactionQueueTree_,t);return function MJ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{xN(n,r)}),xN(n,i),V3(i,r=>{xN(n,r)}),e}function xN(n,t){const e=U_(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(fm(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?bN(t,void 0):e.length=o+1,sc(n.eventQueue_,ME(t),r);for(let c=0;c<i.length;c++)sw(i[c])}}const MN=function(n,t){const e=nX(n),i=e.namespace;return"firebase.com"===e.domain&&Td(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Td("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$s("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kP(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Bn(e.pathString)}},nX=function(n){let t="",e="",i="",r="",o="",c=!0,d="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let w=n.indexOf("/");-1===w&&(w=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(w,E)),w<E&&(r=function eX(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,E)));const M=function tX(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):$s(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:o}};class X3{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class e6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class t6{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class n6{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return $J(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){rc("OnDisconnect.remove",this._path);const t=new N.BH;return Y3(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){rc("OnDisconnect.set",this._path),Ad("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return Y3(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){rc("OnDisconnect.setWithPriority",this._path),Ad("OnDisconnect.setWithPriority",t,this._path,!1),DN("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function ZJ(n,t,e,i,r){const o=Wi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,d)=>{"ok"===c&&dw(n.onDisconnect_,t,o),pm(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){rc("OnDisconnect.update",this._path),U3("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function YJ(n,t,e,i){if((0,N.xb)(e))return as("onDisconnect().update() called with empty data.  Don't do anything."),void pm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&ls(e,(c,d)=>{const p=Wi(d);dw(n.onDisconnect_,Vi(t,c),p)}),pm(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Qo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return an(this._path)?null:LP(this._path)}get ref(){return new oc(this._repo,this._path)}get _queryIdentifier(){const t=s3(this._queryParams),e=AP(t);return"{}"===e?"default":e}get _queryObject(){return s3(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Qo))return!1;const e=this._repo===t._repo,i=VP(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $9(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function IM(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function mm(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Id){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==mf)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Sd)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===gi){if(null!=t&&!kE(t)||null!=e&&!kE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof GP||n.getIndex()===qP,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function AM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oc extends Qo{constructor(t,e){super(t,e,new iM,!1)}get parent(){const t=GH(this._path);return null===t?null:new oc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class j_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Bn(t),i=G_(this.ref,t);return new j_(this._node.getChild(e),i,gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new j_(r,G_(this.ref,i),gi)))}hasChild(t){const e=new Bn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function i6(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?G_(n._root,t):n._root}function r6(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=MN(t,n._repo.repoInfo_.nodeAdmin);H3("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Td("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),i6(n,e.path.toString())}function G_(n,t){return null===on((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PE("child","path",e,!1)):PE("child","path",t,!1),new oc(n._repo,Vi(n._path,t));var e}function kN(n,t){n=(0,N.m9)(n),rc("set",n._path),Ad("set",t,n._path,!1);const e=new N.BH;return TN(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function aX(n,t){U3("update",t,n._path,!1);const e=new N.BH;return function qJ(n,t,e,i){H_(n,"update",{path:t.toString(),value:e});let r=!0;const o=NE(n),c={};if(ls(e,(d,p)=>{r=!1,c[d]=F3(Vi(t,d),Wi(p),n.serverSyncTree_,o)}),r)as("update() called with empty data.  Don't do anything."),pm(0,i,"ok",void 0);else{const d=EM(n),p=function mJ(n,t,e,i){!function RQ(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=tN(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=_i.fromObject(e);return pw(n,new hw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);DM(n.eventQueue_,p),n.server_.merge(t.toString(),e,(y,w)=>{const E="ok"===y;E||$s("update at "+t+" failed: "+y);const M=fm(n.serverSyncTree_,d,!E),P=M.length>0?mw(n,t):t;sc(n.eventQueue_,P,M),pm(0,i,y,w)}),ls(e,y=>{const w=AN(n,Vi(t,y));mw(n,w)}),sc(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class xM{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new X3("value",this,new j_(t.snapshotNode,new oc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new e6(this,t,e):null}matches(t){return t instanceof xM&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class MM{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new e6(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=G_(new oc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new X3(t.type,this,new j_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof MM&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function FE(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=e,y=(w,E)=>{SN(n._repo,n,d),p(w,E)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new t6(e,o||void 0),d="value"===t?new xM(c):new MM(t,c);return function WJ(n,t,e){let i;i=".info"===on(t._path)?k3(n.infoSyncTree_,t,e):k3(n.serverSyncTree_,t,e),j3(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>SN(n._repo,n,d)}function RN(n,t,e,i){return FE(n,"value",t,e,i)}function s6(n,t,e,i){return FE(n,"child_added",t,e,i)}function o6(n,t,e,i){return FE(n,"child_changed",t,e,i)}function a6(n,t,e,i){return FE(n,"child_moved",t,e,i)}function l6(n,t,e,i){return FE(n,"child_removed",t,e,i)}function c6(n,t,e){let i=null;const r=e?new t6(e):null;"value"===t?i=new xM(r):t&&(i=new MM(t,r)),SN(n._repo,n,i)}class fu{}class u6 extends fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ad("endAt",this._value,t._path,!0);const e=YP(t._queryParams,this._value,this._key);if(AM(e),mm(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class uX extends fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ad("endBefore",this._value,t._path,!1);const e=function vQ(n,t,e){let i,r;return n.index_===Id?("string"==typeof t&&(t=n3(t)),r=YP(n,t,e)):(i=null==e?mf:n3(e),r=YP(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(AM(e),mm(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class d6 extends fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ad("startAt",this._value,t._path,!0);const e=ZP(t._queryParams,this._value,this._key);if(AM(e),mm(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class fX extends fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ad("startAfter",this._value,t._path,!1);const e=function yQ(n,t,e){let i;if(n.index_===Id)"string"==typeof t&&(t=t3(t)),i=ZP(n,t,e);else{let r;r=null==e?Sd:t3(e),i=ZP(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(AM(e),mm(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qo(t._repo,t._path,e,t._orderByCalled)}}class mX extends fu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(t._repo,t._path,function gQ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class _X extends fu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(t._repo,t._path,function _Q(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class vX extends fu{constructor(t){super(),this._path=t}_apply(t){IM(t,"orderByChild");const e=new Bn(this._path);if(an(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new GP(e),r=rM(t._queryParams,i);return mm(r),new Qo(t._repo,t._path,r,!0)}}class wX extends fu{_apply(t){IM(t,"orderByKey");const e=rM(t._queryParams,Id);return mm(e),new Qo(t._repo,t._path,e,!0)}}class DX extends fu{_apply(t){IM(t,"orderByPriority");const e=rM(t._queryParams,gi);return mm(e),new Qo(t._repo,t._path,e,!0)}}class TX extends fu{_apply(t){IM(t,"orderByValue");const e=rM(t._queryParams,qP);return mm(e),new Qo(t._repo,t._path,e,!0)}}class IX extends fu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ad("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new u6(this._value,this._key)._apply(new d6(this._value,this._key)._apply(t))}}function pu(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function aJ(n){(0,N.hu)(!pM,"__referenceConstructor has already been defined"),pM=n})(oc),function hJ(n){(0,N.hu)(!gM,"__referenceConstructor has already been defined"),gM=n}(oc);const ON={};function f6(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Td("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),as("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=MN(o,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,o=`http://${y}?ns=${d.namespace}`,c=MN(o,r),d=c.repoInfo):p=!c.repoInfo.secure;const w=r&&p?new mE(mE.OWNER):new w9(n.name,n.options,t);H3("Invalid Firebase Database URL",c),an(c.path)||Td("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function RX(n,t,e,i){let r=ON[t.name];r||(r={},ON[t.name]=r);let o=r[n.toURLString()];return o&&Td("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new UJ(n,false,e,i),r[n.toURLString()]=o,o}(d,n,w,new b9(n.name,e));return new PX(E,n)}class PX{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function HJ(n,t,e){if(n.stats_=PP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new sM(n.repoInfo_,(i,r,o,c)=>{$3(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Z3(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new F_(n.repoInfo_,t,(i,r,o,c)=>{$3(n,i,r,o,c)},i=>{Z3(n,i)},i=>{!function jJ(n,t){ls(t,(e,i)=>{EN(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function E9(n,t){const e=n.toString();return OP[e]||(OP[e]=t()),OP[e]}(n.repoInfo_,()=>new TQ(n.stats_,n.server_)),n.infoData_=new bQ,n.infoSyncTree_=new A3({startListening:(i,r,o,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=IE(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),EN(n,"connected",!1),n.serverSyncTree_=new A3({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(d,p)=>{const y=c(d,p);sc(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oc(this._repo,Mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kX(n,t){const e=ON[t];(!e||e[n.key]!==n)&&Td(`Database ${t}(${n.repoInfo_}) has already been deleted.`),W3(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Td("Cannot call "+t+" on a deleted database.")}}function p6(){kH.IS_TRANSPORT_INITIALIZED&&$s("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function NX(){p6(),am.forceDisallow()}function FX(){p6(),ow.forceDisallow(),am.forceAllow()}function UX(n,t){dH(n,t)}const jX={".sv":"timestamp"};class zX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}F_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},F_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function HX(n){oH(Xi.SDK_VERSION),(0,Xi._registerComponent)(new ji.wA("database",(t,{instanceIdentifier:e})=>f6(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Xi.registerVersion)(rH,"0.13.3",n),(0,Xi.registerVersion)(rH,"0.13.3","esm2017")}();const WX=new cr.Yd("@firebase/database-compat"),m6=function(n){WX.warn("FIREBASE WARNING: "+n)};class JX{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,m6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class XX{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class gm{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),PE("DataSnapshot.child","path",t,!1),new gm(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),PE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new gm(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ms{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=Ms.getCancelAndContextArgs_("Query.on",i,r),d=(y,w)=>{e.call(c.context,new gm(this.database,y),w)};d.userCallback=e,d.context=c.context;const p=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return RN(this._delegate,d,p),e;case"child_added":return s6(this._delegate,d,p),e;case"child_removed":return l6(this._delegate,d,p),e;case"child_changed":return o6(this._delegate,d,p),e;case"child_moved":return a6(this._delegate,d,p),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,c6(this._delegate,t,r)}else c6(this._delegate,t)}get(){return function lX(n){return GJ((n=(0,N.m9)(n))._repo,n).then(t=>new j_(t,new oc(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new gm(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=Ms.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,d=(y,w)=>{const E=new gm(this.database,y);e&&e.call(o.context,E,w),c.resolve(E)};d.userCallback=e,d.context=o.context;const p=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(t){case"value":RN(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":s6(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":l6(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":o6(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":a6(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Ms(this.database,pu(this._delegate,function gX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mX(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Ms(this.database,pu(this._delegate,function yX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _X(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Ms(this.database,pu(this._delegate,function bX(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return PE("orderByChild","path",n,!1),new vX(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Ms(this.database,pu(this._delegate,function CX(){return new wX}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Ms(this.database,pu(this._delegate,function EX(){return new DX}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Ms(this.database,pu(this._delegate,function SX(){return new TX}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Ms(this.database,pu(this._delegate,function hX(n=null,t){return OE("startAt","key",t,!0),new d6(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Ms(this.database,pu(this._delegate,function pX(n,t){return OE("startAfter","key",t,!0),new fX(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Ms(this.database,pu(this._delegate,function cX(n,t){return OE("endAt","key",t,!0),new u6(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Ms(this.database,pu(this._delegate,function dX(n,t){return OE("endBefore","key",t,!0),new uX(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Ms(this.database,pu(this._delegate,function AX(n,t){return OE("equalTo","key",t,!0),new IX(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ms))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Qa(this.database,new oc(this._delegate._repo,this._delegate._path))}}class Qa extends Ms{constructor(t,e){super(t,new Qo(e._repo,e._path,new iM,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Qa(this.database,G_(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Qa(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Qa(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=kN(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,m6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rc("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=aX(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function oX(n,t,e){if(rc("setWithPriority",n._path),Ad("setWithPriority",t,n._path,!1),DN("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return TN(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function rX(n){return rc("remove",n._path),kN(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function $X(n,t,e){var i;if(n=(0,N.m9)(n),rc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new N.BH,d=RN(n,()=>{});return function QJ(n,t,e,i,r,o){H_(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:lH(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=IN(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{RE("transaction failed: Data returned ",p,c.path),c.status=0;const y=bM(n.transactionQueueTree_,t),w=U_(y)||[];let E;w.push(c),bN(y,w),"object"==typeof p&&null!==p&&(0,N.r3)(p,".priority")?(E=(0,N.DV)(p,".priority"),(0,N.hu)(kE(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(yM(n.serverSyncTree_,t)||$t.EMPTY_NODE).getPriority().val();const M=NE(n),P=Wi(p,E),F=_N(P,d,M);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=F,c.currentWriteId=EM(n);const j=dN(n.serverSyncTree_,t,F,c.currentWriteId,c.applyLocally);sc(n.eventQueue_,t,j),TM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,y,w)=>{let E=null;p?o.reject(p):(E=new j_(w,new oc(n._repo,n._path),gi),o.resolve(new zX(y,E)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new XX(o.committed,new gm(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function sX(n,t){n=(0,N.m9)(n),rc("setPriority",n._path),DN("setPriority",t,!1);const e=new N.BH;return TN(n._repo,Vi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function iX(n,t){n=(0,N.m9)(n),rc("push",n._path),Ad("push",t,n._path,!0);const e=z3(n._repo),i=hQ(e),r=G_(n,i),o=G_(n,i);let c;return c=null!=t?kN(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Qa(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new Qa(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return rc("Reference.onDisconnect",this._delegate._path),new JX(new n6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class LE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:NX,forceLongPolling:FX}}useEmulator(t,e,i={}){!function LX(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Td("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Td('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new mE(mE.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new mE(c)}!function MX(n,t,e,i){n.repoInfo_=new kP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Qa){const e=r6(this._delegate,t.toString());return new Qa(this,e)}{const e=i6(this._delegate,t);return new Qa(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=r6(this._delegate,t);return new Qa(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function VX(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),W3(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function BX(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function KJ(n){n.persistentConnection_&&n.persistentConnection_.resume(q3)}(n._repo)}(this._delegate)}}LE.ServerValue={TIMESTAMP:function GX(){return jX}(),increment:n=>function qX(n){return{".sv":{increment:n}}}(n)};var tee=Object.freeze({__proto__:null,initStandalone:function eee({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){oH(e);const c=new ji.zt("auth-internal",new ji.H0("database-standalone"));return c.setComponent(new ji.wA("auth-internal",()=>i,"PRIVATE")),{instance:new LE(f6(n,c,void 0,t,o),n),namespace:r}}});const nee=LE.ServerValue;function g6(n){return null==n}function _6(n){return"function"==typeof n.set}function y6(n,t){return _6(t)?t:n.ref(t)}function v6(n,t){if(function ree(n){return"string"==typeof n}(n))return t.stringCase();if(_6(n))return t.firebaseCase();if(function see(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function VE(n,t,e="on",i=ys.z){return new Xn.y(r=>{let o=null;return o=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,$e.U)(r=>{const{snapshot:o,prevKey:c}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:c,key:d}}),(0,FI.B)())}function b6(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function lee(n,t){const{payload:e,prevKey:i,key:r}=t,o=b6(n,r),c=function aee(n,t){if(g6(t))return 0;{const e=b6(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function w6(n){return(g6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function C6(n,t,e){return function oee(n,t,e){return VE(n,"value","once",e).pipe(Li(i=>{const r=[He(i)];return t.forEach(o=>r.push(VE(n,o,"on",e))),(0,is.T)(...r).pipe(Yr(lee,[]))}),io())}(n,t=w6(t),e)}function D6(n,t,e){const i=(t=w6(t)).map(r=>VE(n,r,"on",e));return(0,is.T)(...i)}function E6(n,t){return function(i,r){return v6(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function hee(n){return function(e){return e?v6(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function T6(n,t){return function(){return VE(n,"value","on",t)}}!function iee(n){n.INTERNAL.registerComponent(new ji.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new LE(r,i)},"PUBLIC").setServiceProps({Reference:Qa,Query:Ms,Database:LE,DataSnapshot:gm,enableLogging:UX,INTERNAL:tee,ServerValue:nee}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(Sc.Z);const mee=new s.OlP("angularfire2.realtimeDatabaseURL"),gee=new s.OlP("angularfire2.database.use-emulator");let _m=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E,M,P,F,j,ne){this.schedulers=d;const Ne=p,je=(0,En.on)(e,c,i);y&&D(je,c,w,M,P,F,E,j),this.database=(0,En.cc)(`${je.name}.database.${r}`,"AngularFireDatabase",je.name,()=>{const et=c.runOutsideAngular(()=>je.database(r||void 0));return Ne&&et.useEmulator(...Ne),et},[Ne])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>y6(this.database,e));let o=r;return i&&(o=i(r)),function fee(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:E6(i,"update"),set:E6(i,"set"),push:r=>i.push(r),remove:hee(i),snapshotChanges:r=>C6(n,r,e).pipe(Kt.iC),stateChanges:r=>D6(n,r,e).pipe(Kt.iC),auditTrail:r=>function cee(n,t,e){return function dee(n,t,e){return function uee(n,t){return VE(n,"value","on",t).pipe((0,$e.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function l9(...n){const t=(0,to.jO)(n);return(0,Pn.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,bd.Xf)(n[p]).subscribe((0,pn.x)(i,y=>{o[p]=y,!d&&!c[p]&&(c[p]=!0,(d=c.every(Wr.y))&&(c=null))},g2.Z));e.subscribe((0,pn.x)(i,p=>{if(d){const y=[p,...o];i.next(t?t(...y):y)}}))})}(t),(0,$e.U)(([r,o])=>{const c=r.lastKeyToLoad,d=o.map(p=>p.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function c9(n){return(0,Pn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,pn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,$e.U)(r=>r.actions))}(n,D6(n,t).pipe(Yr((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Kt.iC),valueChanges:(r,o)=>C6(n,r,e).pipe((0,$e.U)(d=>d.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),Kt.iC)}}(o,this)}object(e){return function pee(n,t){return{query:n,snapshotChanges:()=>T6(n,t.schedulers.outsideAngular)().pipe(Kt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>T6(n,t.schedulers.outsideAngular)().pipe(Kt.iC,(0,$e.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>y6(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En.Dh),s.LFG(En.xv,8),s.LFG(mee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Kt.HU),s.LFG(gee,8),s.LFG(T,8),s.LFG(l,8),s.LFG(u,8),s.LFG(h,8),s.LFG(f,8),s.LFG(g,8),s.LFG(b,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_ee=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",Kt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_m]}),n})();const S6="firebasestorage.googleapis.com",I6="storageBucket";class or extends N.ZR{constructor(t,e){super(PN(t),`Firebase Storage: ${e} (${PN(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,or.prototype)}_codeEquals(t){return PN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function PN(n){return"storage/"+n}function NN(){return new or("unknown","An unknown error occurred, please check the error payload for server response.")}function A6(){return new or("canceled","User canceled the upload/download.")}function x6(){return new or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function gw(n){return new or("invalid-argument",n)}function M6(){return new or("app-deleted","The Firebase app was deleted.")}function k6(n){return new or("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function BE(n,t){return new or("invalid-format","String does not match format '"+n+"': "+t)}function UE(n){throw new or("internal-error","Internal error: "+n)}class Zs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Zs.makeFromUrl(t,e)}catch{return new Zs(t,"")}if(""===i.path)return i;throw function Iee(n){return new or("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(qe){qe.path_=decodeURIComponent(qe.path)}const E=e.replace(/[.]/g,"\\."),et=[{regex:d,indices:{bucket:1,path:3},postModify:function o(qe){"/"===qe.path.charAt(qe.path.length-1)&&(qe.path_=qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===S6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let qe=0;qe<et.length;qe++){const wt=et[qe],xt=wt.regex.exec(t);if(xt){let Bi=xt[wt.indices.path];Bi||(Bi=""),i=new Zs(xt[wt.indices.bucket],Bi),wt.postModify(i);break}}if(null==i)throw function See(n){return new or("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class kee{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function kM(n){return"string"==typeof n||n instanceof String}function R6(n){return FN()&&n instanceof Blob}function FN(){return typeof Blob<"u"}function LN(n,t,e,i){if(i<t)throw gw(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw gw(`Invalid value for '${n}'. Expected ${e} or less.`)}function _f(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function O6(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var ym=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ym||(ym={})),ym))();class Lee{constructor(t,e,i,r,o,c,d,p,y,w,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,P)=>{this.resolve_=M,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function Pee(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==d){const p=NN();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?M6():A6():function Tee(){return new or("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new RM(!1,null,!0)):this.backoffId_=function Ree(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function p(){return 2===d}let y=!1;function w(...ne){y||(y=!0,t.apply(null,ne))}function E(ne){r=setTimeout(()=>{r=null,n(P,p())},ne)}function M(){o&&clearTimeout(o)}function P(ne,...Ne){if(y)return void M();if(ne)return M(),void w.call(null,ne,...Ne);if(p()||c)return M(),void w.call(null,ne,...Ne);let et;i<64&&(i*=2),1===d?(d=2,et=0):et=1e3*(i+Math.random()),E(et)}let F=!1;function j(ne){F||(F=!0,M(),!y&&(null!==r?(ne||(d=2),clearTimeout(r),E(0)):ne||(d=1)))}return E(0),o=setTimeout(()=>{c=!0,j(!0)},e),j}((i,r)=>{if(r)return void i(!1,new RM(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===ym.NO_ERROR,p=o.getStatus();if(!d||this.isRetryStatusCode_(p)){const w=o.getErrorCode()===ym.ABORT;return void i(!1,new RM(!1,null,w))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new RM(y,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Oee(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class RM{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function qee(...n){const t=function Gee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(FN())return new Blob(n);throw new or("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ja={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VN{constructor(t,e){this.data=t,this.contentType=e||null}}function BN(n,t){switch(n){case Ja.RAW:return new VN(P6(t));case Ja.BASE64:case Ja.BASE64URL:return new VN(N6(n,t));case Ja.DATA_URL:return new VN(function Yee(n){const t=new F6(n);return t.base64?N6(Ja.BASE64,t.rest):function Zee(n){let t;try{t=decodeURIComponent(n)}catch{throw BE(Ja.DATA_URL,"Malformed data URL.")}return P6(t)}(t.rest)}(t),function Wee(n){return new F6(n).contentType}(t))}throw NN()}function P6(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function N6(n,t){switch(n){case Ja.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw BE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ja.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw BE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function $ee(n){return atob(n)}(t)}catch{throw BE(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class F6{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw BE(Ja.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Kee(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class xd{constructor(t,e){let i=0,r="";R6(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(R6(this.data_)){const r=function zee(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new xd(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new xd(i,!0)}}static getBlob(...t){if(FN()){const e=t.map(i=>i instanceof xd?i.data_:i);return new xd(qee.apply(null,e))}{const e=t.map(c=>kM(c)?BN(Ja.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new xd(r,!0)}}uploadData(){return this.data_}}function UN(n){let t;try{t=JSON.parse(n)}catch{return null}return function Fee(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function L6(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Xee(n,t){return t}class Eo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Xee}}let OM=null;function HE(){if(OM)return OM;const n=[];n.push(new Eo("bucket")),n.push(new Eo("generation")),n.push(new Eo("metageneration")),n.push(new Eo("name","fullPath",!0));const e=new Eo("name");e.xform=function t(o,c){return function ete(n){return!kM(n)||n.length<2?n:L6(n)}(c)},n.push(e);const r=new Eo("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Eo("timeCreated")),n.push(new Eo("updated")),n.push(new Eo("md5Hash",null,!0)),n.push(new Eo("cacheControl",null,!0)),n.push(new Eo("contentDisposition",null,!0)),n.push(new Eo("contentEncoding",null,!0)),n.push(new Eo("contentLanguage",null,!0)),n.push(new Eo("contentType",null,!0)),n.push(new Eo("metadata","customMetadata",!0)),OM=n,OM}function V6(n,t,e){const i=UN(t);return null===i?null:function nte(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return function tte(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Zs(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function HN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const B6="prefixes";class Md{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kd(n){if(!n)throw NN()}function PM(n,t){return function e(i,r){const o=V6(n,r,t);return kd(null!==o),o}}function _w(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Dee(){return new or("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Cee(){return new or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function wee(n){return new or("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Eee(n){return new or("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function jE(n){const t=_w(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function bee(n){return new or("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function H6(n,t,e){const r=_f(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Md(r,"GET",PM(n,e),c);return d.errorHandler=jE(t),d}function lte(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const d=_f(t.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,w=new Md(d,"GET",function ote(n,t){return function e(i,r){const o=function ste(n,t,e){const i=UN(e);return null===i?null:function rte(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[B6])for(const r of e[B6]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new Zs(t,o));i.prefixes.push(c)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Zs(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return kd(null!==o),o}}(n,t.bucket),y);return w.urlParams=o,w.errorHandler=_w(t),w}function G6(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function hte(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class NM{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function jN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{kd(!1)}return kd(!!e&&-1!==(t||["active"]).indexOf(e)),e}const gte={STATE_CHANGED:"state_changed"},To={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function GN(n){switch(n){case"running":case"pausing":case"canceling":return To.RUNNING;case"paused":return To.PAUSED;case"success":return To.SUCCESS;case"canceled":return To.CANCELED;default:return To.ERROR}}class _te{constructor(t,e,i){if(function Nee(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function yw(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class vte extends class yte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ym.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ym.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ym.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw UE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw UE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw UE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw UE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw UE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function mu(){return new vte}class Z6{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=HE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function fte(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c=G6(t,i,r),d={name:c.fullPath},p=_f(o,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=HN(c,e),F=new Md(p,"POST",function P(j){let ne;jN(j);try{ne=j.getResponseHeader("X-Goog-Upload-URL")}catch{kd(!1)}return kd(kM(ne)),ne},n.maxUploadRetryTime);return F.urlParams=d,F.headers=w,F.body=E,F.errorHandler=_w(t),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,mu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function pte(n,t,e,i){const p=new Md(e,"POST",function o(y){const w=jN(y,["active","final"]);let E=null;try{E=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{kd(!1)}E||kd(!1);const M=Number(E);return kd(!isNaN(M)),new NM(M,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=_w(t),p}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,mu,e,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new NM(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function mte(n,t,e,i,r,o,c,d){const p=new NM(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function xee(){return new or("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let w=y;r>0&&(w=Math.min(w,r));const E=p.current,F={"X-Goog-Upload-Command":w===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},j=i.slice(E,E+w);if(null===j)throw x6();const et=new Md(e,"POST",function ne(qe,wt){const xt=jN(qe,["active","final"]),hn=p.current+w,Bi=i.size();let el;return el="final"===xt?PM(t,o)(qe,wt):null,new NM(hn,Bi,"final"===xt,el)},t.maxUploadRetryTime);return et.headers=F,et.body=j.uploadData(),et.progressCallback=d||null,et.errorHandler=_w(n),et}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,mu,r,o);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=H6(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,mu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function q6(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let et="";for(let qe=0;qe<2;qe++)et+=Math.random().toString().slice(2);return et}();c["Content-Type"]="multipart/related; boundary="+p;const y=G6(t,i,r),w=HN(y,e),P=xd.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw x6();const F={name:y.fullPath},j=_f(o,n.host,n._protocol),Ne=n.maxUploadRetryTime,je=new Md(j,"POST",PM(n,e),Ne);return je.urlParams=F,je.headers=c,je.body=P.uploadData(),je.errorHandler=_w(t),je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,mu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=A6(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=GN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new _te(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(GN(this._state)){case To.SUCCESS:yw(this._resolve.bind(null,this.snapshot))();break;case To.CANCELED:case To.ERROR:yw(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(GN(this._state)){case To.RUNNING:case To.PAUSED:t.next&&yw(t.next.bind(t,this.snapshot))();break;case To.SUCCESS:t.complete&&yw(t.complete.bind(t))();break;default:t.error&&yw(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class q_{constructor(t,e){this._service=t,this._location=e instanceof Zs?e:Zs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new q_(t,e)}get root(){const t=new Zs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L6(this._location.path)}get storage(){return this._service}get parent(){const t=function Qee(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Zs(this._location.bucket,t);return new q_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw k6(t)}}function W6(n,t,e){return qN.apply(this,arguments)}function qN(){return qN=(0,ve.Z)(function*(n,t,e){const r=yield K6(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield W6(n,t,r.nextPageToken))}),qN.apply(this,arguments)}function K6(n,t){null!=t&&"number"==typeof t.maxResults&&LN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=lte(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,mu)}function kte(n){n._throwIfRoot("getDownloadURL");const t=function cte(n,t,e){const r=_f(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Md(r,"GET",function ate(n,t){return function e(i,r){const o=V6(n,r,t);return kd(null!==o),function ite(n,t,e,i){const r=UN(t);if(null===r||!kM(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(y=>{const E=n.fullPath;return _f("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+O6({alt:"media",token:y})})[0]}(o,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=jE(t),d}(n.storage,n._location,HE());return n.storage.makeRequestWithTokens(t,mu).then(e=>{if(null===e)throw function Mee(){return new or("no-download-url","The given file does not have any download URLs.")}();return e})}function Q6(n,t){const e=function Jee(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Zs(n._location.bucket,e);return new q_(n.storage,i)}function J6(n,t){if(n instanceof zN){const e=n;if(null==e._bucket)throw function Aee(){return new or("no-default-bucket","No default bucket found. Did you set the '"+I6+"' property when initializing the app?")}();const i=new q_(e,e._bucket);return null!=t?J6(i,t):i}return void 0!==t?Q6(n,t):n}function Nte(n,t){if(t&&function Ote(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof zN)return function Pte(n,t){return new q_(n,t)}(n,t);throw gw("To use ref(service, url), the first argument must be a Storage instance.")}return J6(n,t)}function X6(n,t){const e=t?.[I6];return null==e?null:Zs.makeFromBucketSpec(e,n)}class zN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=S6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Zs.makeFromBucketSpec(r,this._host):X6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Zs.makeFromBucketSpec(this._url,t):X6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){LN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){LN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ve.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ve.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new q_(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new kee(M6());{const o=function jee(n,t,e,i,r,o){const c=O6(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function Uee(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function Vee(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function Bee(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(p,o),function Hee(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new Lee(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ve.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const ej="@firebase/storage";function ij(n,t){return Nte(n=(0,N.m9)(n),t)}function $te(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new zN(e,i,r,t,Xi.SDK_VERSION)}!function Zte(){(0,Xi._registerComponent)(new ji.wA("storage",$te,"PUBLIC").setMultipleInstances(!0)),(0,Xi.registerVersion)(ej,"0.9.9",""),(0,Xi.registerVersion)(ej,"0.9.9","esm2017")}();class FM{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class rj{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new FM(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new FM(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?c=>e(new FM(c,this,this._ref)):{next:e.next?c=>e.next(new FM(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class sj{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new yf(t,this._service))}get items(){return this._delegate.items.map(t=>new yf(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yf{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function qte(n,t){return Q6(n,t)}(this._delegate,t);return new yf(e,this.storage)}get root(){return new yf(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new yf(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new rj(function Lte(n,t,e){return function Ste(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Z6(n,new xd(t),e)}(n=(0,N.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ja.RAW,i){this._throwIfRoot("putString");const r=BN(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new rj(new Z6(this._delegate,new xd(r.data,!0),o),this)}listAll(){return function Hte(n){return function Ate(n){const t={prefixes:[],items:[]};return W6(n,t).then(()=>t)}(n=(0,N.m9)(n))}(this._delegate).then(t=>new sj(t,this.storage))}list(t){return function Ute(n,t){return K6(n=(0,N.m9)(n),t)}(this._delegate,t||void 0).then(e=>new sj(e,this.storage))}getMetadata(){return function Vte(n){return function xte(n){n._throwIfRoot("getMetadata");const t=H6(n.storage,n._location,HE());return n.storage.makeRequestWithTokens(t,mu)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(t){return function Bte(n,t){return function Mte(n,t){n._throwIfRoot("updateMetadata");const e=function ute(n,t,e,i){const o=_f(t.fullServerUrl(),n.host,n._protocol),d=HN(e,i),y=n.maxOperationRetryTime,w=new Md(o,"PATCH",PM(n,i),y);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=jE(t),w}(n.storage,n._location,t,HE());return n.storage.makeRequestWithTokens(e,mu)}(n=(0,N.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function jte(n){return kte(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gte(n){return function Rte(n){n._throwIfRoot("deleteObject");const t=function dte(n,t){const i=_f(t.fullServerUrl(),n.host,n._protocol),d=new Md(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=jE(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,mu)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw k6(t)}}class oj{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(aj(t))throw gw("ref() expected a child path but got a URL, use refFromURL instead.");return new yf(ij(this._delegate,t),this)}refFromURL(t){if(!aj(t))throw gw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zs.makeFromUrl(t,this._delegate.host)}catch{throw gw("refFromUrl() expected a valid full URL but got an invalid one.")}return new yf(ij(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function zte(n,t,e,i={}){!function Fte(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,N.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function aj(n){return/^[A-Za-z]+:\/\//.test(n)}function Qte(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new oj(e,i)}function lj(n){const t=function Xte(n){return new Xn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(zD(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,$e.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function LM(n){return{getDownloadURL:()=>He(void 0).pipe(Kt.fc,Li(()=>n.getDownloadURL()),Kt.iC),getMetadata:()=>He(void 0).pipe(Kt.fc,Li(()=>n.getMetadata()),Kt.iC),delete:()=>(0,mt.D)(n.delete()),child:t=>LM(n.child(t)),updateMetadata:t=>(0,mt.D)(n.updateMetadata(t)),put:(t,e)=>lj(n.put(t,e)),putString:(t,e,i)=>lj(n.putString(t,e,i)),list:t=>(0,mt.D)(n.list(t)),listAll:()=>(0,mt.D)(n.listAll())}}!function Jte(n){const t={TaskState:To,TaskEvent:gte,StringFormat:Ja,Storage:oj,Reference:yf};n.INTERNAL.registerComponent(new ji.wA("storage-compat",Qte,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Sc.Z);const ene=new s.OlP("angularfire2.storageBucket"),tne=new s.OlP("angularfire2.storage.maxUploadRetryTime"),nne=new s.OlP("angularfire2.storage.maxOperationRetryTime"),ine=new s.OlP("angularfire2.storage.use-emulator");let VM=(()=>{class n{constructor(e,i,r,o,c,d,p,y,w,E){const M=(0,En.on)(e,c,i);this.storage=(0,En.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const P=c.runOutsideAngular(()=>M.storage(r||void 0)),F=w;return F&&P.useEmulator(...F),p&&P.setMaxUploadRetryTime(p),y&&P.setMaxOperationRetryTime(y),P},[p,y])}ref(e){return LM(this.storage.ref(e))}refFromURL(e){return LM(this.storage.refFromURL(e))}upload(e,i,r){return LM(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(En.Dh),s.LFG(En.xv,8),s.LFG(ene,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Kt.HU),s.LFG(tne,8),s.LFG(nne,8),s.LFG(ine,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),sne=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",Kt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[VM],imports:[rne]}),n})(),vm=(()=>{class n{constructor(e,i,r){this.db=e,this.storage=i,this.toastr=r,this.lastOrden=0}AddCategory(e){this.db.database.ref().child("ranchlook/category-list/"+e.id).once("value",i=>i.exists()?(this.toastr.error("No guardado, ya existe un registro con este nombre!"),!0):(this.toastr.success("Guardado!"),this.db.database.ref().child("ranchlook/category-list/"+e.id).set(e),!1))}GetCategoryList(){return this.categoryList=this.db.list("ranchlook/category-list"),this.categoryList}GetCategory(e){return this.categoryObject=this.db.object("ranchlook/category-list/"+e),this.categoryObject}UpdateCategory(e,i){this.db.object("ranchlook/category-list/"+i).update(e)}DeleteCategory(e){this.categoryObject=this.db.object("ranchlook/category-list/"+e),this.categoryObject.remove()}GetLastCategory(){return this.lastCategoryRef=this.db.list("ranchlook/category-list/",e=>e.limitToLast(1)).valueChanges(),this.lastCategoryRef}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(VM),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cj=BD({passive:!0});let one=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hl.E;const i=cf(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new nt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,cj),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",d,cj)}}),o}stopMonitoring(e){const i=cf(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const dj=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),ane=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let lne=0;const cne=H2(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new nt.x}});let cs=(()=>{class n extends cne{constructor(e,i,r,o,c,d,p,y,w,E){super(d,o,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=E,this._uid="mat-input-"+lne++,this.focused=!1,this.stateChanges=new nt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>y2().has(F)),this._iOSKeyupListener=F=>{const j=F.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,P=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=It(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ht.required)??!1}set required(e){this._required=It(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&y2().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=It(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){ane.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ir),s.Y36(uu,10),s.Y36(Gb,8),s.Y36(os,8),s.Y36(uO),s.Y36(dj,10),s.Y36(one),s.Y36(s.R0b),s.Y36(kx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Mx,useExisting:n}]),s.qOj,s.TTD]}),n})(),une=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uO],imports:[uj,Rx,mn,uj,Rx]}),n})(),dne=(()=>{class n{constructor(e,i,r,o){this.data=e,this.fb=i,this.api=r,this.toastr=o,this.submitSurveyData=()=>{this.api.UpdateCategory(this.myForm.value,this.data.key),this.toastr.success("Clasificaci\xf3n actualizada!")}}ngOnInit(){this.sForm(),this.api.GetCategory(this.data.key).valueChanges().subscribe(e=>{this.myForm.patchValue(e)})}sForm(){this.myForm=this.fb.group({id:["",[Ht.required]],name:["",[Ht.required]],description:["",[Ht.required]]})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(k_),s.Y36(Yl),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-category"]],decls:21,vars:3,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","id","required","","readonly",""],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","text","formControlName","description","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Editar clasificaci\xf3n"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"ID"),s.qZA(),s._UZ(7,"input",4),s.qZA(),s.TgZ(8,"mat-form-field",3)(9,"mat-label"),s._uU(10,"Nombre"),s.qZA(),s._UZ(11,"input",5),s.qZA(),s.TgZ(12,"mat-form-field",3)(13,"mat-label"),s._uU(14,"Descripci\xf3n"),s.qZA(),s._UZ(15,"input",6),s.qZA()(),s.TgZ(16,"mat-dialog-actions",7)(17,"button",8),s._uU(18,"Cancelar"),s.qZA(),s.TgZ(19,"button",9),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(20,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(17),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,Wo,cs]}),n})(),hne=(()=>{class n{constructor(e,i,r){this.fb=e,this.api=i,this.toastr=r,this.submitSurveyData=()=>{this.myForm.patchValue({id:this.myForm.get("id")?.value.toUpperCase()}),this.api.AddCategory(this.myForm.value),this.ResetForm()}}ngOnInit(){this.sForm()}sForm(){this.myForm=this.fb.group({id:["",[Ht.required]],name:["",[Ht.required]],description:["",[Ht.required]]})}ResetForm(){this.myForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-new-category"]],decls:21,vars:3,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","id","required","","autofocus",""],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","text","formControlName","description","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Nueva clasificaci\xf3n"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"ID"),s.qZA(),s._UZ(7,"input",4),s.qZA(),s.TgZ(8,"mat-form-field",3)(9,"mat-label"),s._uU(10,"Nombre"),s.qZA(),s._UZ(11,"input",5),s.qZA(),s.TgZ(12,"mat-form-field",3)(13,"mat-label"),s._uU(14,"Descripci\xf3n"),s.qZA(),s._UZ(15,"input",6),s.qZA()(),s.TgZ(16,"mat-dialog-actions",7)(17,"button",8),s._uU(18,"Cancelar"),s.qZA(),s.TgZ(19,"button",9),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(20,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(17),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,Wo,cs]}),n})();const fne=["input"];function pne(n,t){1&n&&(s.TgZ(0,"mat-header-cell",28),s._uU(1,"ID"),s.qZA())}function mne(n,t){if(1&n&&(s.TgZ(0,"mat-cell",29),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.id)}}function gne(n,t){1&n&&(s.TgZ(0,"mat-header-cell",30),s._uU(1,"Nombre"),s.qZA())}function _ne(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.name," ")}}function yne(n,t){1&n&&(s.TgZ(0,"mat-header-cell",29),s._uU(1,"Descripci\xf3n"),s.qZA())}function vne(n,t){if(1&n&&(s.TgZ(0,"mat-cell",29),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.description," ")}}function bne(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acci\xf3n "),s.qZA())}function wne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"button",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openEditDialog(o.id))}),s.TgZ(2,"span",32),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openDeleteDialog(o.id))}),s.TgZ(5,"span",32),s._uU(6,"delete"),s.qZA()()()}}function Cne(n,t){1&n&&s._UZ(0,"mat-header-row")}function Dne(n,t){1&n&&s._UZ(0,"mat-row")}const Ene=function(){return[10,20]};function Tne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"mat-form-field")(4,"input",13),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.doFilter(r.target))}),s.qZA()()()(),s.TgZ(5,"mat-table",14),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(6,15),s.YNc(7,pne,2,0,"mat-header-cell",16),s.YNc(8,mne,2,1,"mat-cell",17),s.BQk(),s.ynx(9,18),s.YNc(10,gne,2,0,"mat-header-cell",19),s.YNc(11,_ne,2,1,"mat-cell",20),s.BQk(),s.ynx(12,21),s.YNc(13,yne,2,0,"mat-header-cell",22),s.YNc(14,vne,2,1,"mat-cell",17),s.BQk(),s.ynx(15,23),s.YNc(16,bne,2,0,"mat-header-cell",24),s.YNc(17,wne,7,0,"mat-cell",20),s.BQk(),s.YNc(18,Cne,1,0,"mat-header-row",25),s.YNc(19,Dne,1,0,"mat-row",26),s.qZA(),s._UZ(20,"mat-paginator",27),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("dataSource",e.dataSource),s.xp6(13),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,Ene))}}let Sne=(()=>{class n{constructor(e,i,r){this.dialog=e,this.apiC=i,this.toastr=r,this.dataSource=new nw,this.data=!1,this.displayedColumns=["id","name","description","action"],this.categories=[],this.doFilter=o=>{this.dataSource.filter=o.value.trim().toLocaleLowerCase()}}ngOnInit(){this.apiC.GetCategoryList().snapshotChanges().subscribe(e=>{this.categories=[],e.forEach(i=>{const r=i.payload.val();this.categories.push({id:i.key,name:r.name,description:r.description})}),this.categories.length>0&&(this.data=!0,this.dataSource.data=this.categories.slice()),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}sortData(e){const i=this.categories.slice();this.dataSource.data=e.active&&""!==e.direction?i.sort((r,o)=>{const c="asc"===e.direction;switch(e.active){case"name":return this.compare(r.name.trim().toLocaleLowerCase(),o.name.trim().toLocaleLowerCase(),c);case"id":return this.compare(r.id,o.id,c);default:return 0}}):i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}openDialog(){this.dialog.open(hne).afterClosed().subscribe(i=>{})}openEditDialog(e){this.dialog.open(dne,{data:{key:e}}).afterClosed().subscribe(r=>{})}openDeleteDialog(e){this.dialog.open(uE,{data:"\xbfConfirma que desea eliminar esta clasificaci\xf3n?"}).afterClosed().subscribe(r=>{r&&(this.apiC.DeleteCategory(e),this.toastr.info("Clasificaci\xf3n eliminada!"))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pf),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Jl,5),s.Gf(Wa,7),s.Gf(fne,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.input=r.first)}},decls:13,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card","mt-2"],[1,"card-header"],[1,"navbar","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"btn","btn-outline-info","me-2",3,"click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col","s4"],["matInput","","type","text","placeholder","Buscar",3,"keyup"],["matSort","","matSortActive","name","matSortDirection","desc","matSortDisableClear","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-sort-header","","class","pad-l",4,"matHeaderCellDef"],["class","pad-l",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","description"],["class","pad-l",4,"matHeaderCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header","",1,"pad-l"],[1,"pad-l"],["mat-sort-header",""],[1,"btn","btn-outline-info","me-2",2,"padding","0 0.2rem",3,"click"],[1,"material-icons"],[1,"btn","btn-outline-danger",2,"padding","0 0.2rem",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"div",6)(7,"a",7),s._uU(8,"Gesti\xf3n de clasificaciones"),s.qZA(),s.TgZ(9,"div",8)(10,"button",9),s.NdJ("click",function(){return i.openDialog()}),s._uU(11,"Nueva clasificaci\xf3n"),s.qZA()()()()(),s.YNc(12,Tne,21,5,"div",10),s.qZA()()()()),2&e&&(s.xp6(12),s.Q6J("ngIf",i.data))},dependencies:[Wt,Br,cs,Wa,Jb,S_,im,I_,rm,nm,A_,sm,om,x_,M_,Jl]}),n})(),BM=(()=>{class n{constructor(e,i,r){this.db=e,this.storage=i,this.toastr=r}AddCicle(e){this.db.database.ref().child("ranchlook/cicle-list/"+e.id).once("value",i=>i.exists()?(this.toastr.error("No guardado, ya existe un registro con este nombre!"),!0):(this.toastr.success("Guardado!"),this.db.database.ref().child("ranchlook/cicle-list/"+e.id).set(e),!1))}GetCicleList(){return this.cicleList=this.db.list("ranchlook/cicle-list"),this.cicleList}GetCicle(e){return this.cicleObject=this.db.object("ranchlook/cicle-list/"+e),this.cicleObject}UpdateCicle(e,i){this.db.object("ranchlook/cicle-list/"+i).update(e)}DeleteCicle(e){this.cicleObject=this.db.object("ranchlook/cicle-list/"+e),this.cicleObject.remove()}GetLastCicle(){return this.lastCicleRef=this.db.list("ranchlook/cicle-list/",e=>e.limitToLast(1)).valueChanges(),this.lastCicleRef}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(VM),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ine=(()=>{class n{constructor(e,i,r,o){this.data=e,this.fb=i,this.api=r,this.toastr=o,this.submitSurveyData=()=>{this.api.UpdateCicle(this.myForm.value,this.data.key),this.toastr.success("Ciclo actualizado!")}}ngOnInit(){this.sForm(),this.api.GetCicle(this.data.key).valueChanges().subscribe(e=>{this.myForm.patchValue(e)})}sForm(){this.myForm=this.fb.group({id:["",[Ht.required]],status:[null]})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(k_),s.Y36(Yl),s.Y36(BM),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-cicle"]],decls:21,vars:5,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","id","required","","readonly",""],["matInput","","name","status","id","status","formControlName","status","required",""],[3,"value"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Editar ciclo"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"Ciclo"),s.qZA(),s._UZ(7,"input",4),s.qZA(),s.TgZ(8,"mat-form-field",3)(9,"mat-label"),s._uU(10,"Estatus"),s.qZA(),s.TgZ(11,"mat-select",5)(12,"mat-option",6),s._uU(13,"Activo"),s.qZA(),s.TgZ(14,"mat-option",6),s._uU(15,"Inactivo"),s.qZA()()()(),s.TgZ(16,"mat-dialog-actions",7)(17,"button",8),s._uU(18,"Cancelar"),s.qZA(),s.TgZ(19,"button",9),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(20,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(10),s.Q6J("value",!0),s.xp6(2),s.Q6J("value",!1),s.xp6(5),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,Wo,Kb,__,cs]}),n})(),Ane=(()=>{class n{constructor(e,i,r){this.fb=e,this.api=i,this.toastr=r,this.submitSurveyData=()=>{this.myForm.patchValue({id:this.myForm.get("id")?.value.toUpperCase()}),this.api.AddCicle(this.myForm.value),this.ResetForm()}}ngOnInit(){this.sForm()}sForm(){this.myForm=this.fb.group({id:["",[Ht.required]],status:[!0]})}ResetForm(){this.myForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36(BM),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-new-cicle"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","id","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Nuevo ciclo"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"Ciclo"),s.qZA(),s._UZ(7,"input",4),s.qZA()(),s.TgZ(8,"mat-dialog-actions",5)(9,"button",6),s._uU(10,"Cancelar"),s.qZA(),s.TgZ(11,"button",7),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(12,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(9),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,Wo,cs]}),n})();const xne=["input"];function Mne(n,t){1&n&&(s.TgZ(0,"mat-header-cell",24),s._uU(1,"Ciclo"),s.qZA())}function kne(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.id," ")}}function Rne(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1,"Estatus"),s.qZA())}function One(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Activo"),s.qZA())}function Pne(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Inactivo"),s.qZA())}function Nne(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s.YNc(1,One,2,0,"span",25),s.YNc(2,Pne,2,0,"span",25),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",e.status),s.xp6(1),s.Q6J("ngIf",!e.status)}}function Fne(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acci\xf3n "),s.qZA())}function Lne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openEditDialog(o.id))}),s.TgZ(2,"span",27),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",28),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openDeleteDialog(o.id))}),s.TgZ(5,"span",27),s._uU(6,"delete"),s.qZA()()()}}function Vne(n,t){1&n&&s._UZ(0,"mat-header-row")}function Bne(n,t){1&n&&s._UZ(0,"mat-row")}const Une=function(){return[10,20]};function Hne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"mat-form-field")(4,"input",13),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.doFilter(r.target))}),s.qZA()()()(),s.TgZ(5,"mat-table",14),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(6,15),s.YNc(7,Mne,2,0,"mat-header-cell",16),s.YNc(8,kne,2,1,"mat-cell",17),s.BQk(),s.ynx(9,18),s.YNc(10,Rne,2,0,"mat-header-cell",19),s.YNc(11,Nne,3,2,"mat-cell",17),s.BQk(),s.ynx(12,20),s.YNc(13,Fne,2,0,"mat-header-cell",19),s.YNc(14,Lne,7,0,"mat-cell",17),s.BQk(),s.YNc(15,Vne,1,0,"mat-header-row",21),s.YNc(16,Bne,1,0,"mat-row",22),s.qZA(),s._UZ(17,"mat-paginator",23),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("dataSource",e.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,Une))}}let jne=(()=>{class n{constructor(e,i,r){this.dialog=e,this.apiC=i,this.toastr=r,this.dataSource=new nw,this.data=!1,this.displayedColumns=["id","status","action"],this.cicles=[],this.doFilter=o=>{this.dataSource.filter=o.value.trim().toLocaleLowerCase()}}ngOnInit(){this.apiC.GetCicleList().snapshotChanges().subscribe(e=>{this.cicles=[],e.forEach(i=>{const r=i.payload.val();this.cicles.push({id:i.key,status:r.status})}),this.cicles.length>0&&(this.data=!0,this.dataSource.data=this.cicles.slice()),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}sortData(e){const i=this.cicles.slice();this.dataSource.data=e.active&&""!==e.direction?i.sort((r,o)=>{const c="asc"===e.direction;return"id"===e.active?this.compare(r.id.trim().toLocaleLowerCase(),o.id.trim().toLocaleLowerCase(),c):0}):i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}openDialog(){this.dialog.open(Ane).afterClosed().subscribe(i=>{})}openEditDialog(e){this.dialog.open(Ine,{data:{key:e}}).afterClosed().subscribe(r=>{})}openDeleteDialog(e){this.dialog.open(uE,{data:"\xbfConfirma que desea eliminar este ciclo?"}).afterClosed().subscribe(r=>{r&&(this.apiC.DeleteCicle(e),this.toastr.info("Ciclo eliminado!"))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pf),s.Y36(BM),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cicles"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Jl,5),s.Gf(Wa,7),s.Gf(xne,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.input=r.first)}},decls:13,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card","mt-2"],[1,"card-header"],[1,"navbar","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"btn","btn-outline-info","me-2",3,"click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col","s4"],["matInput","","type","text","placeholder","Buscar",3,"keyup"],["matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","status"],[4,"matHeaderCellDef"],["matColumnDef","action"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[4,"ngIf"],[1,"btn","btn-outline-info","me-2",2,"padding","0 0.2rem",3,"click"],[1,"material-icons"],[1,"btn","btn-outline-danger",2,"padding","0 0.2rem",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"div",6)(7,"a",7),s._uU(8,"Gesti\xf3n de ciclos"),s.qZA(),s.TgZ(9,"div",8)(10,"button",9),s.NdJ("click",function(){return i.openDialog()}),s._uU(11,"Nuevo ciclo"),s.qZA()()()()(),s.YNc(12,Hne,18,5,"div",10),s.qZA()()()()),2&e&&(s.xp6(12),s.Q6J("ngIf",i.data))},dependencies:[Wt,Br,cs,Wa,Jb,S_,im,I_,rm,nm,A_,sm,om,x_,M_,Jl]}),n})(),Gne=(()=>{class n{constructor(e,i){this.db=e,this.toastr=i}UpdateCompary(e){return this.db.database.ref().child("ranchlook/company/company_id").set(e),this.toastr.success("Guardado!"),!1}GetCompany(){return this.companyObject=this.db.object("ranchlook/company/company_id"),this.companyObject}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qne=["*",[["mat-card-footer"]]],zne=["*","mat-card-footer"],$ne=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],Zne=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let Yne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Wne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Kne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Qne=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Jne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-card-lg-image"]}),n})(),Xne=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:zne,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(qne),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),eie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:Zne,decls:4,vars:0,template:function(e,i){1&e&&(s.F$t($ne),s.TgZ(0,"div"),s.Hsn(1),s.qZA(),s.Hsn(2,1),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),tie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mn,mn]}),n})(),nie=(()=>{class n{constructor(e,i,r){this.fb=e,this.api=i,this.toastr=r,this.name="",this.submitSurveyData=()=>{this.myForm.patchValue({name:this.myForm.get("name")?.value.toUpperCase()}),this.myForm.patchValue({rfc:this.myForm.get("rfc")?.value.toUpperCase()}),this.myForm.patchValue({address:this.myForm.get("address")?.value.toUpperCase()}),this.api.UpdateCompary(this.myForm.value)}}ngOnInit(){this.sForm(),this.api.GetCompany().valueChanges().subscribe(e=>{this.myForm.patchValue(e)})}sForm(){this.myForm=this.fb.group({id:["company_id"],name:[""],rfc:["",[Ht.maxLength(13),Ht.minLength(12)]],address:[""],logo:[""]})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36(Gne),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-company"]],decls:31,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"mt-3"],["mat-card-lg-image","","src","https://image.shutterstock.com/image-vector/agricultural-logo-green-letter-leaf-260nw-1680135874.jpg"],["inset",""],["novalidate","","autocomplete","off",1,"mt-4","mb-3",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-50"],["matInput","","type","text","formControlName","name"],["matInput","","type","text","formControlName","rfc"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","address"],["align","end"],["mat-button","",1,"btn","btn-outline-info",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title-group")(5,"mat-card-title"),s._uU(6),s.qZA(),s.TgZ(7,"mat-card-subtitle"),s._uU(8),s.qZA(),s._UZ(9,"img",4),s.qZA(),s.TgZ(10,"mat-card-content"),s._uU(11),s.qZA(),s._UZ(12,"mat-divider",5),s.TgZ(13,"form",6)(14,"mat-dialog-content",7)(15,"mat-form-field",8)(16,"mat-label"),s._uU(17,"Nombre y/o Raz\xf3n Social"),s.qZA(),s._UZ(18,"input",9),s.qZA(),s.TgZ(19,"mat-form-field",8)(20,"mat-label"),s._uU(21,"RFC"),s.qZA(),s._UZ(22,"input",10),s.qZA(),s.TgZ(23,"mat-form-field",11)(24,"mat-label"),s._uU(25,"Domicilio"),s.qZA(),s._UZ(26,"input",12),s.qZA()()(),s._UZ(27,"mat-divider",5),s.TgZ(28,"mat-card-actions",13)(29,"button",14),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(30,"Guardar"),s.qZA()()()()()()),2&e&&(s.xp6(6),s.Oqu(i.myForm.value.name),s.xp6(2),s.hij("RFC: ",i.myForm.value.rfc,""),s.xp6(3),s.hij("Domicilio: ",i.myForm.value.address," "),s.xp6(2),s.Q6J("formGroup",i.myForm))},dependencies:[$a,wo,qa,za,os,Zo,Vr,RY,Ka,Br,Wo,cs,Xne,eie,Yne,Wne,Kne,Qne,Jne]}),n})();const iie=function(){return["/"]};let rie=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.location=r,this.goBack=()=>{this.location.back()}}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(FD),s.Y36(hr),s.Y36(Ce))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"back"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-6","col-lg-4","offset-md-3","offset-lg-4"],[1,"card","text-center","mt-5"],[1,"card-header"],[1,"card-body"],["type","text","placeholder","Correo","required","","autofocus","",1,"form-control","mb-2","text-center"],["userEmail",""],["type","password","placeholder","Contrase\xf1a","required","",1,"form-control","mb-2","text-center"],["userPassword",""],[1,"d-grid","gap-2"],[1,"btn","btn-lg","btn-outline-success","mb-1",3,"routerLink","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),s._uU(7,"INICIO DE SESI\xd3N"),s.qZA()(),s.TgZ(8,"div",6)(9,"div",2),s._UZ(10,"input",7,8)(12,"input",9,10),s.TgZ(14,"div",11)(15,"button",12),s.NdJ("click",function(){s.CHM(r);const c=s.MAs(11),d=s.MAs(13);return s.KtG(i.authService.SignIn(c.value,d.value))}),s._uU(16,"Entrar"),s.qZA()()()()()()()()()}2&e&&(s.xp6(15),s.Q6J("routerLink",s.DdM(1,iie)))},dependencies:[AA],styles:[".back[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(0,0,0,.5333333333333333) 30%,hsla(0,0%,100%,.26666666666666666)),no-repeat 50%/cover url(bg.858ff7e43c7cb64f.webp);background-size:cover;height:calc(100vh - 64px)}.card[_ngcontent-%COMP%]{background:hsla(0,0%,94.9%,.55);padding:3rem}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:hsla(0,0%,94.9%,.85)}"]}),n})(),sie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:1,vars:0,consts:[[1,"back"]],template:function(e,i){1&e&&s._UZ(0,"div",0)},styles:[".back[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(0,0,0,.5333333333333333) 30%,hsla(0,0%,100%,.26666666666666666)),no-repeat 50%/cover url(bg.858ff7e43c7cb64f.webp);background-size:cover;height:calc(100vh - 64px)}"]}),n})(),$N=(()=>{class n{constructor(e,i){this.db=e,this.toastr=i}AddProduct(e){this.db.list("ranchlook/product-list").push(e)}GetProductList(){return this.productList=this.db.list("ranchlook/product-list"),this.productList}GetProduct(e){return this.productObject=this.db.object("ranchlook/product-list/"+e),this.productObject}UpdateProduct(e,i){this.productObject.update(e)}DeleteProduct(e){this.productObject=this.db.object("ranchlook/product-list/"+e),this.productObject.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GE=(()=>{class n{constructor(e,i){this.db=e,this.toastr=i}AddProvider(e){this.db.database.ref().child("ranchlook/provider-list/"+e.id).once("value",i=>i.exists()?(this.toastr.error("No guardado, ya existe un registro con este nombre!"),!0):(this.toastr.success("Guardado!"),this.db.database.ref().child("ranchlook/provider-list/"+e.id).set(e),!1))}GetProviderList(){return this.providerList=this.db.list("ranchlook/provider-list"),this.providerList}GetProvider(e){return this.providerObject=this.db.object("ranchlook/provider-list/"+e),this.providerObject}UpdateProvider(e,i){this.db.object("ranchlook/provider-list/"+i).update(e)}DeleteProvider(e){this.providerObject=this.db.object("ranchlook/provider-list/"+e),this.providerObject.remove()}GetLastProvider(){return this.lastProviderRef=this.db.list("ranchlook/provider-list/",e=>e.limitToLast(1)).valueChanges(),this.lastProviderRef}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hj={leading:!0,trailing:!1};function lie(n,t,e,i){const r=window&&!!window.document&&window.document.documentElement;let o=r&&t?window:e;if(n&&(o=n&&r&&"string"==typeof n?function cie(n,t,e){return(e?window.document:t).querySelector(n)}(n,e.nativeElement,i):n,!o))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function ZN(n){return n&&!n.firstChange}const die={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},hie={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class fie{constructor(t=!0){this.vertical=t,this.propsMap=t?die:hie}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function _ie(n){return["Window","global"].some(e=>Object.prototype.toString.call(n).includes(e))}function YN(n,t){return n?t.document.documentElement:null}function fj(n,t){const e=function bie({container:n,isWindow:t,axis:e}){const{offsetHeightKey:i,clientHeightKey:r}=pj(e);return mj(n,t,i,r)}(t);return t.isWindow?function yie(n,t,e){const{axis:i,container:r,isWindow:o}=e,{offsetHeightKey:c,clientHeightKey:d}=pj(i),p=n+gj(YN(o,r),i,o),y=mj(t.nativeElement,o,c,d),w=function wie(n,t,e){const i=t.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[i]+gj(n,t,e)}(t.nativeElement,i,o)+y;return{height:n,scrolled:p,totalToScroll:w,isWindow:o}}(e,n,t):function vie(n,t,e){const{axis:i,container:r}=e;return{height:n,scrolled:r[i.scrollTopKey()],totalToScroll:r[i.scrollHeightKey()],isWindow:!1}}(e,0,t)}function pj(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function mj(n,t,e,i){if(isNaN(n[e])){const r=YN(t,n);return r?r[i]:0}return n[e]}function gj(n,t,e){const i=t.pageYOffsetKey(),r=t.scrollTopKey(),o=t.offsetTopKey();return isNaN(window.pageYOffset)?YN(e,n)[r]:n.ownerDocument?n.ownerDocument.defaultView[i]:n[o]}function Cie(n,t={down:0,up:0},e){let i,r;if(n.totalToScroll<=0)return!1;const o=n.isWindow?n.scrolled:n.height+n.scrolled;return e?(i=(n.totalToScroll-o)/n.totalToScroll,r=(t?.down?t.down:0)/10):(i=n.scrolled/(n.scrolled+(n.totalToScroll-o)),r=(t?.up?t.up:0)/10),i<=r}class Iie{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}function Aie(n){const{scrollContainer:t,scrollWindow:e,element:i,fromRoot:r}=n,o=function mie({windowElement:n,axis:t}){return function gie(n,t){const e=n.isWindow||t&&!t.nativeElement?t:t.nativeElement;return{...n,container:e}}({axis:t,isWindow:_ie(n)},n)}({axis:new fie(!n.horizontal),windowElement:lie(t,e,i,r)}),c=new Iie({totalToScroll:fj(i,o)}),p={up:n.upDistance,down:n.downDistance};return function xie(n){let t=c_(n.container,"scroll");return n.throttle&&(t=t.pipe(function aie(n,t=ys.z,e=hj){const i=p2(n,t);return function oie(n,t=hj){return(0,Pn.e)((e,i)=>{const{leading:r,trailing:o}=t;let c=!1,d=null,p=null,y=!1;const w=()=>{p?.unsubscribe(),p=null,o&&(P(),y&&i.complete())},E=()=>{p=null,y&&i.complete()},M=F=>p=(0,bd.Xf)(n(F)).subscribe((0,pn.x)(i,w,E)),P=()=>{if(c){c=!1;const F=d;d=null,i.next(F),!y&&M(F)}};e.subscribe((0,pn.x)(i,F=>{c=!0,d=F,(!p||p.closed)&&(r?P():M(F))},()=>{y=!0,(!(o&&c&&p)||p.closed)&&i.complete()}))})}(()=>i,e)}(n.throttle,void 0,{leading:!0,trailing:!0}))),t}({container:o.container,throttle:n.throttle}).pipe((0,Ts.z)(()=>He(fj(i,o))),(0,$e.U)(y=>function Mie(n,t,e){const{scrollDown:i,fire:r}=function Eie(n,t,e){const i=function Die(n,t){return n<t.scrolled}(n,t);return{fire:Cie(t,e,i),scrollDown:i}}(n,t,e);return{scrollDown:i,fire:r,stats:t}}(c.lastScrollPosition,y,p)),(0,sr.b)(({stats:y})=>c.updateScroll(y.scrolled,y.totalToScroll)),Qt(({fire:y,scrollDown:w,stats:{totalToScroll:E}})=>function pie(n,t,e){return!!(n&&t||!e&&t)}(n.alwaysCallback,y,c.isTriggeredScroll(E,w))),(0,sr.b)(({scrollDown:y,stats:{totalToScroll:w}})=>{c.updateTriggeredFlag(w,y)}),(0,$e.U)(kie))}function kie(n){const{scrollDown:t,stats:{scrolled:e}}=n;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:e}}}let Rie=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.scrolled=new s.vpe,this.scrolledUp=new s.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:i,infiniteScrollDistance:r}){const o=ZN(e),c=ZN(i),d=ZN(r),p=!c&&!this.infiniteScrollDisabled||c&&!i.currentValue||d;(o||c||d)&&(this.destroyScroller(),p&&this.setup())}setup(){(function uie(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Aie({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.zone.run(()=>this.handleOnScroll(e)))})}handleOnScroll({type:e,payload:i}){switch(e){case"[NGX_ISE] DOWN":return this.scrolled.emit(i);case"[NGX_ISE] UP":return this.scrolledUp.emit(i);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[s.TTD]}),n})(),Oie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Pie=["selection"],Nie=["results"],Fie=["searchInput"],Lie=["dropdown"],Vie=["result"];function Bie(n,t){1&n&&s._UZ(0,"span",14)}function Uie(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"\xa0"),s.qZA())}function Hie(n,t){if(1&n&&s._UZ(0,"span",18),2&n){const e=s.oxw(2);s.Q6J("innerHTML",e.select2Option.label,s.oJD)}}function jie(n,t){if(1&n&&(s.TgZ(0,"span",15),s.YNc(1,Uie,2,0,"span",10),s.YNc(2,Hie,1,1,"span",16),s.TgZ(3,"span",17),s._uU(4),s.qZA()()),2&n){const e=s.oxw();s.Q6J("title",(null==e.select2Option?null:e.select2Option.label)||""),s.xp6(1),s.Q6J("ngIf",!e.select2Option),s.xp6(1),s.Q6J("ngIf",e.select2Option),s.xp6(1),s.ekj("select2-selection__placeholder__option",e.option),s.xp6(1),s.Oqu(e.placeholder)}}function Gie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.reset(r))}),s._uU(1,"\xd7"),s.qZA()}}function qie(n,t){1&n&&s._UZ(0,"span",20)}function zie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",25),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(2);return s.KtG(c.removeSelection(r,o))}),s._uU(1,"\xd7"),s.qZA()}}function $ie(n,t){if(1&n&&(s.TgZ(0,"li",23),s.YNc(1,zie,2,0,"span",24),s._UZ(2,"span",18),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("title",e.label),s.xp6(1),s.Q6J("ngIf",!(i.disabled||i.readonly)),s.xp6(1),s.Q6J("innerHTML",e.label,s.oJD)}}function Zie(n,t){if(1&n&&(s.TgZ(0,"ul",21)(1,"span",17),s._uU(2),s.qZA(),s.YNc(3,$ie,3,3,"li",22),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("select2-selection__placeholder__option",(null==e.select2Options?null:e.select2Options.length)>0),s.xp6(1),s.Oqu(e.placeholder),s.xp6(1),s.Q6J("ngForOf",e.option)("ngForTrackBy",e.trackBy)}}function Yie(n,t){1&n&&s.GkF(0)}function Wie(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Yie,1,0,"ng-container",26),s.BQk()),2&n){s.oxw();const e=s.MAs(17);s.xp6(1),s.Q6J("ngTemplateOutlet",e)}}function Kie(n,t){1&n&&s.GkF(0)}function Qie(n,t){if(1&n&&s.YNc(0,Kie,1,0,"ng-container",26),2&n){s.oxw();const e=s.MAs(17);s.Q6J("ngTemplateOutlet",e)}}function Jie(n,t){if(1&n&&s._UZ(0,"strong",18),2&n){const e=s.oxw(2).$implicit;s.Q6J("innerHTML",e.label,s.oJD),s.uIk("class","select2-results__group"+(e.classes?" "+e.classes:""))}}function Xie(n,t){1&n&&s.GkF(0)}function ere(n,t){if(1&n&&s.YNc(0,Xie,1,0,"ng-container",46),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.getTemplate(e,"group"))("ngTemplateOutletContext",e)}}function tre(n,t){if(1&n&&s._UZ(0,"div",51),2&n){const e=s.oxw().$implicit;s.Q6J("innerHTML",e.label,s.oJD)}}function nre(n,t){1&n&&s.GkF(0)}function ire(n,t){if(1&n&&s.YNc(0,nre,1,0,"ng-container",46),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.getTemplate(e,"option"))("ngTemplateOutletContext",e)}}function rre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",47,48),s.NdJ("mouseenter",function(){const o=s.CHM(e).$implicit,c=s.oxw(4);return s.KtG(c.mouseenter(o))})("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(4);return s.KtG(c.click(o))}),s.YNc(2,tre,1,1,"div",49),s.YNc(3,ire,1,2,"ng-template",null,50,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.MAs(4),o=s.oxw(2).index,c=s.oxw(2);s.Tol(c.getOptionStyle(e)),s.Q6J("id",e.id||c.id+"-option-"+o+"-"+i),s.uIk("aria-selected",c.isSelected(e))("aria-disabled",c.isDisabled(e)),s.xp6(2),s.Q6J("ngIf",!c.hasTemplate(e,"option"))("ngIfElse",r)}}function sre(n,t){if(1&n&&(s.TgZ(0,"li",41),s.YNc(1,Jie,1,2,"strong",42),s.YNc(2,ere,1,2,"ng-template",null,43,s.W1O),s.TgZ(4,"ul",44),s.YNc(5,rre,5,7,"li",45),s.qZA()()),2&n){const e=s.MAs(3),i=s.oxw().$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!r.hasTemplate(i,"group"))("ngIfElse",e),s.xp6(4),s.Q6J("ngForOf",i.options)("ngForTrackBy",r.trackBy)}}function ore(n,t){if(1&n&&s._UZ(0,"div",51),2&n){const e=s.oxw(2).$implicit;s.Q6J("innerHTML",e.label,s.oJD)}}function are(n,t){1&n&&s.GkF(0)}function lre(n,t){if(1&n&&s.YNc(0,are,1,0,"ng-container",46),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.getTemplate(e,"option"))("ngTemplateOutletContext",e)}}function cre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",47,48),s.NdJ("mouseenter",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.mouseenter(r))})("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.click(r))}),s.YNc(2,ore,1,1,"div",49),s.YNc(3,lre,1,2,"ng-template",null,52,s.W1O),s.qZA()}if(2&n){const e=s.MAs(4),i=s.oxw(),r=i.$implicit,o=i.index,c=s.oxw(2);s.Tol(c.getOptionStyle(r)),s.Q6J("id",r.id||c.id+"-option-"+o),s.uIk("aria-selected",c.isSelected(r))("aria-disabled",c.isDisabled(r)),s.xp6(2),s.Q6J("ngIf",!c.hasTemplate(r,"option"))("ngIfElse",e)}}function ure(n,t){if(1&n&&(s.ynx(0),s.YNc(1,sre,6,4,"li",39),s.YNc(2,cre,5,7,"li",40),s.BQk()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",e.options),s.xp6(1),s.Q6J("ngIf",!e.options)}}function dre(n,t){if(1&n&&s._UZ(0,"li",53),2&n){const e=s.oxw(2);s.Q6J("innerHTML",e.noResultMessage,s.oJD)}}function hre(n,t){if(1&n&&s._UZ(0,"li",54),2&n){const e=s.oxw(2);s.Q6J("innerHTML",e.maxResultsMessage,s.oJD)}}function fre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27)(1,"div",28,29)(3,"div",30)(4,"input",31,32),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.keyDown(r))})("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.searchUpdate(r))})("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.prevChange(r))}),s.qZA()(),s.TgZ(6,"div",33)(7,"ul",34,35),s.NdJ("scrolled",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onScroll("down"))})("scrolledUp",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onScroll("up"))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.keyDown(r))}),s.YNc(9,ure,3,2,"ng-container",36),s.YNc(10,dre,1,1,"li",37),s.YNc(11,hre,1,1,"li",38),s.qZA()()()()}if(2&n){const e=s.MAs(8),i=s.oxw();s.ekj("select2-container--open",i.isOpen)("select2-overlay",i.overlay)("select2-position-auto","auto"===i.listPosition),s.xp6(1),s.ekj("select2-dropdown--below",!i.select2above)("select2-dropdown--above",i.select2above),s.xp6(2),s.ekj("select2-search--hide",i.hideSearch()),s.xp6(1),s.Q6J("id",i.id+"-search-field")("value",i.searchText),s.uIk("tabindex",i.isOpen?i.tabIndex:"-1"),s.xp6(3),s.Udp("max-height",i.resultMaxHeight),s.Q6J("infiniteScrollDisabled",!i.infiniteScroll&&!i.isOpen)("infiniteScrollDistance",i.infiniteScrollDistance)("infiniteScrollThrottle",i.infiniteScrollThrottle)("infiniteScrollContainer",e),s.xp6(2),s.Q6J("ngForOf",i.filteredData)("ngForTrackBy",i.trackBy),s.xp6(1),s.Q6J("ngIf",!(null!=i.filteredData&&i.filteredData.length)&&i.noResultMessage),s.xp6(1),s.Q6J("ngIf",i.maxResultsExceeded)}}const pre=[[["select2-label"]],[["select2-hint"]]],mre=["select2-label","select2-hint"],_re=[{l:"a",s:/[\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250]/gi},{l:"aa",s:/\ua733/gi},{l:"ae",s:/[\xe6\u01fd\u01e3]/gi},{l:"ao",s:/\ua735/gi},{l:"au",s:/\ua737/gi},{l:"av",s:/[\ua739\ua73b]/gi},{l:"ay",s:/\ua73d/gi},{l:"b",s:/[\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253]/gi},{l:"c",s:/[\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184]/gi},{l:"d",s:/[\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a]/gi},{l:"dz",s:/[\u01f3\u01c6]/gi},{l:"e",s:/[\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd]/gi},{l:"f",s:/[\u24d5\uff46\u1e1f\u0192\ua77c]/gi},{l:"g",s:/[\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f]/gi},{l:"h",s:/[\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265]/gi},{l:"hv",s:/\u0195/gi},{l:"i",s:/[\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\u0130\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131]/gi},{l:"j",s:/[\u24d9\uff4a\u0135\u01f0\u0249]/gi},{l:"k",s:/[\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3]/gi},{l:"l",s:/[\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\ua746]/gi},{l:"lj",s:/\u01c9/gi},{l:"m",s:/[\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f]/gi},{l:"n",s:/[\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5]/gi},{l:"nj",s:/\u01cc/gi},{l:"o",s:/[\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\u019f\ua74b\ua74d\u0275]/gi},{l:"oi",s:/\u01a3/gi},{l:"oe",s:/\u0153/gi},{l:"oo",s:/\ua74f/gi},{l:"ou",s:/\u0223/gi},{l:"p",s:/[\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755]/gi},{l:"q",s:/[\u24e0\uff51\u024b\ua757\ua759]/gi},{l:"r",s:/[\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783]/gi},{l:"s",s:/[\u24e2\uff53\xdf\u1e9e\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b]/gi},{l:"t",s:/[\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787]/gi},{l:"tz",s:/\ua729/gi},{l:"u",s:/[\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289]/gi},{l:"v",s:/[\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c]/gi},{l:"vy",s:/\ua761/gi},{l:"w",s:/[\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73]/gi},{l:"x",s:/[\u24e7\uff58\u1e8b\u1e8d]/gi},{l:"y",s:/[\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff]/gi},{l:"z",s:/[\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763]/gi}],vre=new RegExp("[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]","g");class Un{static getOptionByValue(t,e){if(Array.isArray(t))for(const i of t){const r=i.options;if(r){for(const o of r)if(o.value===e)return o}else if(i.value===e)return i}return null}static getOptionsByValue(t,e,i){if(i){const r=Array.isArray(e)?e:[],o=[];for(const c of r){const d=Un.getOptionByValue(t,c);d&&o.push(d)}return o}return Un.getOptionByValue(t,e)}static getFirstAvailableOption(t){if(Array.isArray(t))for(const e of t){const i=e.options;if(i){for(const r of i)if(!r.disabled)return r.value}else{const r=e;if(!r.disabled)return r.value}}return null}static valueIsNotInFilteredData(t,e){if(Un.isNullOrUndefined(e))return!0;for(const i of t){const r=i.options;if(r){for(const o of r)if(o.value===e)return!1}else if(i.value===e)return!1}return!0}static getPreviousOption(t,e){let i=Un.isNullOrUndefined(e);for(let r=t.length-1;r>=0;r--){const o=t[r],c=o.options;if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(i&&!p.disabled&&!p.hide)return p;i||(i=p.value===e)}else{const d=o;if(i&&!d.disabled&&!d.hide)return d;i||(i=d.value===e)}}return null}static getNextOption(t,e){let i=Un.isNullOrUndefined(e);for(const r of t){const o=r.options;if(o)for(const c of o)if(i){if(!c.disabled&&!c.hide)return c}else i||(i=c.value===e);else{const c=r;if(i){if(!c.disabled&&!c.hide)return c}else i||(i=c.value===e)}}return null}static getReduceData(t,e=0){if(e>0){let i=0;const r=[];for(const o of t){const c=o.options;if(c){const d={...o,options:[]};r.push(d);for(const p of c)if(d.options.push(p),i++,i===e)return{result:r,reduce:!0}}else r.push(o),i++;if(i===e)return{result:r,reduce:!0}}return{result:r,reduce:!1}}return{result:t,reduce:!1}}static getFilteredData(t,e,i){if(e){const r=[];for(const o of t){const c=o.options;if(c){if(c.some(d=>Un.containSearchText(d.label,e,i))){const d=c.filter(p=>Un.containSearchText(p.label,e,i));r.push({...o,options:d})}}else Un.containSearchText(o.label,e,i)&&r.push(o)}return r}return t}static getFilteredSelectedData(t,e){const i=[];for(const r of t){const o=r.options;if(o){const c=o.filter(d=>"false"===Un.isSelected(e,d,!0));c.length&&i.push({...r,options:c})}else"false"===Un.isSelected(e,r,!0)&&i.push(r)}return i}static isSearchboxHiddex(t,e){return(""===e||null==e||isNaN(+e))&&(e=6),Un.getOptionsCount(t)<+e}static isSelected(t,e,i){return i?t&&t.some(r=>r.value===e.value)?"true":"false":t&&e.value===t.value?"true":"false"}static removeSelection(t,e){for(let i=0;i<t.length;i++)if(t[i].value===e.value)return void t.splice(i,1)}static getOptionsCount(t){let e=0;if(Array.isArray(t))for(const i of t){const r=i.options;r?e+=r.length:e++}return e}static isNullOrUndefined(t){return null==t}static containSearchText(t,e,i){return!e||null!==Un.formatSansUnicode(t).match(new RegExp(Un.formatPattern(e,i),"i"))}static protectPattern(t){return t.replace(vre,"\\$&")}static formatSansUnicode(t){for(const e of _re)t=t.replace(e.s,e.l);return t}static formatPattern(t,e){return t=Un.formatSansUnicode(Un.protectPattern(t)),e&&"function"==typeof e&&(t=e(t)),t}}let bre=0;const wre=["default","hidden","always"];let HM=(()=>{class n{constructor(e,i,r,o,c,d){this._viewportRuler=e,this._changeDetectorRef=i,this._parentForm=r,this._parentFormGroup=o,this._control=c,this.minCharForSearch=0,this.limitSelection=0,this.listPosition="below",this.styleMode="default",this.maxResults=0,this.maxResultsMessage="Too many results\u2026",this.infiniteScrollDistance=1.5,this.infiniteScrollThrottle=150,this.resultMaxHeight="200px",this.update=new s.vpe,this.open=new s.vpe,this.close=new s.vpe,this.focus=new s.vpe,this.blur=new s.vpe,this.search=new s.vpe,this.scroll=new s.vpe,this.removeOption=new s.vpe,this.option=null,this.isOpen=!1,this.focused=!1,this.hoveringValue=null,this.innerSearchText="",this._stateChanges=new nt.x,this._disabled=!1,this._required=!1,this._readonly=!1,this._multiple=!1,this._overlay=!1,this._resettable=!1,this._hideSelectedItems=!1,this._clickDetection=!1,this._uid="select2-"+bre++,this._infiniteScroll=!0,this._onTouched=()=>{},this._onChange=()=>{},this.id=this.id,this._tabIndex=parseInt(d,10)||0,this._control&&(this._control.valueAccessor=this),this._clickDetectionFc=this.clickDetection.bind(this)}set data(e){this._data=e,this.updateFilteredData()}get multiple(){return this._multiple}set multiple(e){this._multiple=this._coerceBooleanProperty(e),this.ngOnInit()}get overlay(){return this._overlay}set overlay(e){this._overlay=this._coerceBooleanProperty(e)}get infiniteScroll(){return this._infiniteScroll}set infiniteScroll(e){this._infiniteScroll=this._coerceBooleanProperty(e)}get select2Options(){return this.multiple?this.option:null}get select2Option(){return this.multiple?null:this.option}get searchText(){return this.innerSearchText}set searchText(e){this.customSearchEnabled&&this.search.emit({component:this,value:this._value,search:e}),this.innerSearchText=e}get minCountForSearch(){return this._minCountForSearch}set minCountForSearch(e){this._minCountForSearch=e,this.updateSearchBox()}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=this._coerceBooleanProperty(e)}get disabled(){return this._control?this._control.disabled:this._disabled}set disabled(e){this._disabled=this._coerceBooleanProperty(e)}get hideSelectedItems(){return this._hideSelectedItems}set hideSelectedItems(e){this._hideSelectedItems=this._coerceBooleanProperty(e)}get readonly(){return this._readonly}set readonly(e){this._readonly=this._coerceBooleanProperty(e)}get value(){return this._value}set value(e){this.testValueChange(this._value,e)&&setTimeout(()=>{this._value=e,this.writeValue(e)},10)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){typeof e<"u"&&(this._tabIndex=e)}get resettable(){return this._resettable}set resettable(e){this._resettable=this._coerceBooleanProperty(e)}get ariaInvalid(){return this._isErrorState()}get classMaterial(){return"material"===this.styleMode}get classNostyle(){return"noStyle"===this.styleMode}get select2above(){return this.overlay?this._isAbobeOverlay():"above"===this.listPosition}get _positions(){if("auto"!==this.listPosition)return null}get resultsElement(){return this.resultContainer?.nativeElement}ngOnInit(){this._viewportRuler.change(100).subscribe(()=>{this.isOpen&&this.triggerRect()});const e=Un.getOptionsByValue(this._data,this._control?this._control.value:this.value,this.multiple);null!==e&&(this.option=e),Array.isArray(e)||(this.hoveringValue=this.value),this.updateSearchBox()}ngAfterViewInit(){this.cdkConnectedOverlay.positionChange.subscribe(e=>{"auto"===this.listPosition&&e.connectionPair?.originY&&this._overlayPosition!==e.connectionPair.originY&&(this.triggerRect(),this._overlayPosition=e.connectionPair.originY,this._changeDetectorRef.detectChanges())}),this.selectionElement=this.selection.nativeElement,this.triggerRect()}ngDoCheck(){this.updateSearchBox(),this._dirtyCheckNativeValue(),this._triggerRect&&(this.overlayWidth!==this._triggerRect.width&&(this.overlayWidth=this._triggerRect.width),this._dropdownRect?.height>0&&this.overlayHeight!==this._dropdownRect.height&&(this.overlayHeight="auto"===this.listPosition?this._dropdownRect.height:0))}ngOnDestroy(){window.document.body.removeEventListener("click",this._clickDetectionFc)}updateSearchBox(){const e=!this.customSearchEnabled&&Un.isSearchboxHiddex(this._data,this._minCountForSearch);this.isSearchboxHidden!==e&&(this.isSearchboxHidden=e)}hideSearch(){const e=wre.indexOf(this.displaySearchStatus)>-1?this.displaySearchStatus:"default";return"default"===e&&this.isSearchboxHidden||"hidden"===e}getOptionStyle(e){return"select2-results__option "+(e.hide?"select2-results__option--hide ":"")+(e.value===this.hoveringValue?"select2-results__option--highlighted ":"")+(e.classes||"")}mouseenter(e){e.disabled||(this.hoveringValue=e.value)}click(e){this.testSelection(e)&&this.select(e)}reset(e){this.select(null),e.preventDefault(),e.stopPropagation()}prevChange(e){e.stopPropagation()}toggleOpenAndClose(){this.disabled||(this._focus(!0),this.isOpen=!this.isOpen,this.isOpen?(this.innerSearchText="",this.updateFilteredData(),this._focusSearchboxOrResultsElement(),setTimeout(()=>{this.option?this.updateScrollFromOption(this.option instanceof Array?this.option[0]:this.option):this.resultsElement&&(this.resultsElement.scrollTop=0),setTimeout(()=>{this.triggerRect(),this.cdkConnectedOverlay?.overlayRef?.updatePosition()},100)}),this.open.emit(this)):this.close.emit(this),this.isOpen&&!this._clickDetection&&setTimeout(()=>{window.document.body.addEventListener("click",this._clickDetectionFc,!1),this._clickDetection=!0},200),this._changeDetectorRef.markForCheck())}hasTemplate(e,i){return this.templates instanceof s.Rgc||this.templates?.[e.templateId]instanceof s.Rgc||this.templates?.[i]instanceof s.Rgc}getTemplate(e,i){return this.hasTemplate(e,i)?this.templates[e.templateId]||this.templates[i]||this.templates:void 0}triggerRect(){this._triggerRect=this.selectionElement.getBoundingClientRect(),this._dropdownRect=this.dropdown?.nativeElement?this.dropdown.nativeElement.getBoundingClientRect():void 0}testSelection(e){return!(e.disabled||this.multiple&&this.limitSelection&&!(Array.isArray(this._value)&&this._value.length<this.limitSelection))}testValueChange(e,i){if(null==e&&null==i||e===i)return!1;if(this.multiple&&e?.length&&i?.length&&e.length===i.length){for(const r of e)if(!(i.indexOf(r)>-1))return!0;return!1}return!0}updateFilteredData(){setTimeout(()=>{let e=this._data;if(this.multiple&&this.hideSelectedItems&&(e=Un.getFilteredSelectedData(e,this.option)),!this.customSearchEnabled&&this.searchText&&this.searchText.length>=+this.minCharForSearch&&(e=Un.getFilteredData(e,this.searchText,this.editPattern)),this.maxResults>0){const i=Un.getReduceData(e,+this.maxResults);e=i.result,this.maxResultsExceeded=i.reduce}else this.maxResultsExceeded=!1;Un.valueIsNotInFilteredData(e,this.hoveringValue)&&(this.hoveringValue=Un.getFirstAvailableOption(e)),this.filteredData=e,this._changeDetectorRef.markForCheck()})}clickDetection(e){this.ifParentContainsClass(e.target,"selection")?this.isOpen&&!this.ifParentContainsId(e.target,this._id)&&(this.toggleOpenAndClose(),this.clickExit()):(this.isOpen&&!this.ifParentContainsClass(e.target,"select2-dropdown")&&this.toggleOpenAndClose(),this.ifParentContainsId(e.target,this._id)||this.clickExit())}clickExit(){this._focus(!1),window.document.body.removeEventListener("click",this._clickDetectionFc),this._clickDetection=!1}ifParentContainsClass(e,i){return null!==this.getParentElementByClass(e,i)}ifParentContainsId(e,i){return null!==this.getParentElementById(e,i)}getParentElementByClass(e,i){return this.containClasses(e,i.trim().split(/\s+/))?e:e.parentElement?this.getParentElementByClass(e.parentElement,i):null}getParentElementById(e,i){return e.id===i?e:e.parentElement?this.getParentElementById(e.parentElement,i):null}containClasses(e,i){if(!e.classList)return!1;for(const r of i)if(!e.classList.contains(r))return!1;return!0}focusin(){this.disabled||this._focus(!0)}focusout(){this.selectionElement&&!this.selectionElement.classList.contains("select2-focused")&&(this._focus(!1),this._onTouched())}select(e){let i;if(null!==e)if(this.multiple){const r=this.option,o=r.findIndex(c=>c.value===e.value);-1===o?r.push(e):r.splice(o,1),i=this.option.map(c=>c.value)}else this.option=e,this.isOpen&&(this.isOpen=!1,this.close.emit(this),this.selectionElement&&this.selectionElement.focus()),i=this.option.value;else this.option=null;this.multiple&&this.hideSelectedItems&&this.updateFilteredData(),this._control?this._onChange(i):this._value=i,this.update.emit({component:this,value:i,options:Array.isArray(this.option)?this.option:this.option?[this.option]:null})}keyDown(e){this._testKey(e,["ArrowDown",40])?(this.moveDown(),e.preventDefault()):this._testKey(e,["ArrowUp",38])?(this.moveUp(),e.preventDefault()):this._testKey(e,["Enter",13])?(this.selectByEnter(),e.preventDefault()):this._testKey(e,["Escape","Tab",9,27])&&this.isOpen&&(this.toggleOpenAndClose(),this._focus(!1))}openKey(e){this._testKey(e,["ArrowDown","ArrowUp","Enter",40,38,13])?(this.toggleOpenAndClose(),e.preventDefault()):this._testKey(e,["Escape","Tab",9,27])&&(this._focus(!1),this._onTouched())}trackBy(e,i){return i.value}searchUpdate(e){this.searchText=e.target.value,this.updateFilteredData()}isSelected(e){return Un.isSelected(this.option,e,this.multiple)}isDisabled(e){return e.disabled?"true":"false"}removeSelection(e,i){Un.removeSelection(this.option,i),this.multiple&&this.hideSelectedItems&&this.updateFilteredData();const r=this.option.map(o=>o.value);this._control?this._onChange(r):this._value=r,this.update.emit({component:this,value:r,options:Array.isArray(this.option)?this.option:this.option?[this.option]:null}),this.removeOption.emit({component:this,value:r,removedOption:i}),e.preventDefault(),e.stopPropagation(),this.isOpen&&this._focusSearchboxOrResultsElement()}writeValue(e){this._setSelectionByValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}onScroll(e){this.scroll.emit({component:this,way:e,search:this.innerSearchText})}_isErrorState(){return!!(this._control&&this._control.invalid&&(this._control&&this._control.touched||this._parentFormGroup&&this._parentFormGroup.submitted||this._parentForm&&this._parentForm.submitted))}moveUp(){this.updateScrollFromOption(Un.getPreviousOption(this.filteredData,this.hoveringValue))}moveDown(){this.updateScrollFromOption(Un.getNextOption(this.filteredData,this.hoveringValue))}updateScrollFromOption(e){if(e){this.hoveringValue=e.value;const i=this.results.find(r=>r.nativeElement.innerText.trim()===e.label);if(i&&this.resultsElement){this.resultsElement.scrollTop=0;const r=this.resultsElement.getBoundingClientRect(),o=i.nativeElement.getBoundingClientRect();this.resultsElement.scrollTop=o.top-r.top}}}selectByEnter(){if(this.hoveringValue){const e=Un.getOptionByValue(this._data,this.hoveringValue);this.select(e)}}_testKey(e,i=[]){return this._isKey(this._getKey(e),i)}_getKey(e){let i;return void 0!==e.key?i=e.key:void 0!==e.keyIdentifier?i=e.keyIdentifier:void 0!==e.keyCode?i=e.keyCode:e.preventDefault(),i}_isKey(e,i=[]){return!!(i&&i.length>0)&&-1!==i.indexOf(e)}_setSelectionByValue(e){if(this.option||null!=e){const i=Array.isArray(e);if(this.multiple&&e&&!i)throw new Error("Non array value.");this._data?this.multiple?(this.option=[],i&&Un.getOptionsByValue(this._data,e,this.multiple).map(o=>this.select(o))):this.select(Un.getOptionByValue(this._data,e)):this._control&&this._control.viewToModelUpdate(e),this._changeDetectorRef.markForCheck()}}_dirtyCheckNativeValue(){const e=this.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this._stateChanges.next())}_coerceBooleanProperty(e){return null!=e&&"false"!=`${e}`}_focusSearchboxOrResultsElement(){this.isSearchboxHidden?this.resultsElement&&this.resultsElement.focus():setTimeout(()=>{this.searchInput&&this.searchInput.nativeElement&&this.searchInput.nativeElement.focus()})}_focus(e){!e&&this.focused?(this.focused=e,this.blur.emit(this)):e&&!this.focused&&(this.focused=e,this.focus.emit(this))}_isAbobeOverlay(){return this.overlay&&this._overlayPosition&&"auto"===this.listPosition?"top"===this._overlayPosition:"above"===this.listPosition}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fb),s.Y36(s.sBO),s.Y36(Gb,8),s.Y36(os,8),s.Y36(uu,10),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["select2"]],viewQuery:function(e,i){if(1&e&&(s.Gf(xx,5),s.Gf(Pie,7),s.Gf(Nie,5),s.Gf(Fie,5),s.Gf(Lie,5),s.Gf(Vie,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.cdkConnectedOverlay=r.first),s.iGM(r=s.CRH())&&(i.selection=r.first),s.iGM(r=s.CRH())&&(i.resultContainer=r.first),s.iGM(r=s.CRH())&&(i.searchInput=r.first),s.iGM(r=s.CRH())&&(i.dropdown=r.first),s.iGM(r=s.CRH())&&(i.results=r)}},hostVars:8,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("aria-invalid",i.ariaInvalid),s.ekj("material",i.classMaterial)("nostyle",i.classNostyle)("select2-above",i.select2above))},inputs:{data:"data",minCharForSearch:"minCharForSearch",displaySearchStatus:"displaySearchStatus",placeholder:"placeholder",customSearchEnabled:"customSearchEnabled",limitSelection:"limitSelection",listPosition:"listPosition",multiple:"multiple",overlay:"overlay",styleMode:"styleMode",noResultMessage:"noResultMessage",maxResults:"maxResults",maxResultsMessage:"maxResultsMessage",infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScroll:"infiniteScroll",editPattern:"editPattern",templates:"templates",resultMaxHeight:"resultMaxHeight",minCountForSearch:"minCountForSearch",id:"id",required:"required",disabled:"disabled",hideSelectedItems:"hideSelectedItems",readonly:"readonly",value:"value",tabIndex:"tabIndex",resettable:"resettable"},outputs:{update:"update",open:"open",close:"close",focus:"focus",blur:"blur",search:"search",scroll:"scroll",removeOption:"removeOption"},ngContentSelectors:mre,decls:18,vars:26,consts:[[1,"select2-label",3,"click"],["class","select2-required",4,"ngIf"],[1,"select2","select2-container","select2-container--default","select2-container--focus"],["cdkOverlayOrigin","",1,"selection",3,"click","focus","blur","keydown"],["selection","","trigger","cdkOverlayOrigin"],["role","combobox",1,"select2-selection"],["class","select2-selection__rendered",3,"title",4,"ngIf"],["class","select2-selection__reset","role","presentation",3,"click",4,"ngIf"],["class","select2-selection__arrow","role","presentation",4,"ngIf"],["class","select2-selection__rendered",4,"ngIf"],[4,"ngIf"],[1,"select2-subscript-wrapper"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","select2-overlay-backdrop",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayMinWidth","cdkConnectedOverlayHeight","cdkConnectedOverlayPositions","backdropClick"],["containerTemplate",""],[1,"select2-required"],[1,"select2-selection__rendered",3,"title"],[3,"innerHTML",4,"ngIf"],[1,"select2-selection__placeholder"],[3,"innerHTML"],["role","presentation",1,"select2-selection__reset",3,"click"],["role","presentation",1,"select2-selection__arrow"],[1,"select2-selection__rendered"],["class","select2-selection__choice",3,"title",4,"ngFor","ngForOf","ngForTrackBy"],[1,"select2-selection__choice",3,"title"],["class","select2-selection__choice__remove","role","presentation",3,"click",4,"ngIf"],["role","presentation",1,"select2-selection__choice__remove",3,"click"],[4,"ngTemplateOutlet"],[1,"select2-container","select2-container--default","select2-container-dropdown"],[1,"select2-dropdown"],["dropdown",""],[1,"select2-search","select2-search--dropdown"],["type","search","role","textbox","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"select2-search__field",3,"id","value","keydown","keyup","change"],["searchInput",""],[1,"select2-results"],["role","tree","tabindex","-1","infiniteScroll","",1,"select2-results__options",3,"infiniteScrollDisabled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrolled","scrolledUp","keydown"],["results",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","select2-no-result select2-results__option",3,"innerHTML",4,"ngIf"],["class","select2-too-much-result select2-results__option",3,"innerHTML",4,"ngIf"],["class","select2-results__option","role","group",4,"ngIf"],["role","treeitem",3,"id","class","mouseenter","click",4,"ngIf"],["role","group",1,"select2-results__option"],[3,"innerHTML",4,"ngIf","ngIfElse"],["optGroup",""],[1,"select2-results__options","select2-results__options--nested"],["role","treeitem",3,"id","class","mouseenter","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","treeitem",3,"id","mouseenter","click"],["result",""],["class","select2-label-content",3,"innerHTML",4,"ngIf","ngIfElse"],["liGroup",""],[1,"select2-label-content",3,"innerHTML"],["li",""],[1,"select2-no-result","select2-results__option",3,"innerHTML"],[1,"select2-too-much-result","select2-results__option",3,"innerHTML"]],template:function(e,i){if(1&e&&(s.F$t(pre),s.TgZ(0,"div",0),s.NdJ("click",function(){return i.toggleOpenAndClose()}),s.Hsn(1),s.YNc(2,Bie,1,0,"span",1),s.qZA(),s.TgZ(3,"div",2)(4,"div",3,4),s.NdJ("click",function(){return i.toggleOpenAndClose()})("focus",function(){return i.focusin()})("blur",function(){return i.focusout()})("keydown",function(o){return i.openKey(o)}),s.TgZ(7,"div",5),s.YNc(8,jie,5,6,"span",6),s.YNc(9,Gie,2,0,"span",7),s.YNc(10,qie,1,0,"span",8),s.YNc(11,Zie,4,5,"ul",9),s.qZA()(),s.YNc(12,Wie,2,1,"ng-container",10),s.TgZ(13,"div",11),s.Hsn(14,1),s.qZA()(),s.YNc(15,Qie,1,1,"ng-template",12),s.NdJ("backdropClick",function(){return i.toggleOpenAndClose()}),s.YNc(16,fre,12,25,"ng-template",null,13,s.W1O)),2&e){const r=s.MAs(6);s.xp6(2),s.Q6J("ngIf",i.required),s.xp6(1),s.ekj("select2-container--below",!i.select2above)("select2-container--above",i.select2above)("select2-container--open",i.isOpen)("select2-container--disabled",i.disabled),s.xp6(1),s.ekj("select2-focused",i.focused),s.uIk("tabindex",i.isOpen?"-1":i.tabIndex),s.xp6(3),s.ekj("select2-selection--multiple",i.multiple)("select2-selection--single",!i.multiple),s.xp6(1),s.Q6J("ngIf",!i.multiple),s.xp6(1),s.Q6J("ngIf",!i.multiple&&i.resettable&&i.select2Option&&!(i.disabled||i.readonly)),s.xp6(1),s.Q6J("ngIf",!i.multiple),s.xp6(1),s.Q6J("ngIf",i.multiple),s.xp6(1),s.Q6J("ngIf",!i.overlay),s.xp6(3),s.Q6J("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.isOpen&&i.overlay)("cdkConnectedOverlayMinWidth",i.overlayWidth)("cdkConnectedOverlayHeight",i.overlayHeight)("cdkConnectedOverlayPositions",i._positions)}},dependencies:[lr,Wt,fc,xx,hP,Rie],styles:['.select2-label[_ngcontent-%COMP%]{color:#000;color:var(--select2-label-text-color, #000)}.select2-container[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle;width:100%}.select2-container[_ngcontent-%COMP%]   .select2-container-dropdown[_ngcontent-%COMP%]{position:absolute;width:0px;opacity:0}.select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;display:block;height:28px;-webkit-user-select:none;user-select:none}.select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{display:block;padding:0 0 0 8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 auto}.select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__clear[_ngcontent-%COMP%]{position:relative}.select2-container[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;display:block;min-height:32px;-webkit-user-select:none;user-select:none}.select2-container[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;padding-left:8px;text-overflow:ellipsis;white-space:nowrap}.select2-container[_ngcontent-%COMP%]   .select2-search--inline[_ngcontent-%COMP%]{float:left}.select2-container[_ngcontent-%COMP%]   .select2-search--inline[_ngcontent-%COMP%]   .select2-search__field[_ngcontent-%COMP%]{box-sizing:border-box;border:none;font-size:100%;margin-top:5px;padding:0}.select2-container[_ngcontent-%COMP%]   .select2-search--inline[_ngcontent-%COMP%]   .select2-search__field[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown[_ngcontent-%COMP%]{background:white;background:var(--select2-dropdown-background, white);border:1px solid #aaa;border:1px solid var(--select2-dropdown-border-color, #aaa);border-radius:4px;border-radius:var(--select2-selection-border-radius, 4px);box-sizing:border-box;display:block;position:absolute;width:100%;z-index:1051;height:0;overflow:hidden}.select2-dropdown[_ngcontent-%COMP%]   .select2-label-content[_ngcontent-%COMP%]{display:contents}.select2-results[_ngcontent-%COMP%]{display:block}.select2-results__options[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.select2-results__option[_ngcontent-%COMP%]{padding:6px;-webkit-user-select:none;user-select:none;color:#000;color:var(--select2-option-text-color, #000)}.select2-results__option[aria-selected][_ngcontent-%COMP%]{cursor:pointer}.select2-container.select2-container-dropdown.select2-container--open[_ngcontent-%COMP%]{width:100%;opacity:1}.select2-container--open[_ngcontent-%COMP%]   .select2-dropdown[_ngcontent-%COMP%]{overflow:auto;height:auto}.select2-container--open[_ngcontent-%COMP%]   .select2-dropdown--above[_ngcontent-%COMP%]{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;bottom:27px;display:flex;flex-direction:column-reverse}.select2-container--open[_ngcontent-%COMP%]   .select2-dropdown--below[_ngcontent-%COMP%]{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown[_ngcontent-%COMP%]{display:block;padding:4px}.select2-search--dropdown[_ngcontent-%COMP%]   .select2-search__field[_ngcontent-%COMP%]{padding:4px;width:100%;box-sizing:border-box}.select2-search--dropdown[_ngcontent-%COMP%]   .select2-search__field[_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown.select2-search--hide[_ngcontent-%COMP%]{display:none}.select2-close-mask[_ngcontent-%COMP%]{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background:#fff;filter:alpha(opacity=0)}.select2-required[_ngcontent-%COMP%]:before{content:"*";color:red;color:var(--select2-required-color, red)}.select2-hidden-accessible[_ngcontent-%COMP%]{border:0!important;clip:rect(0 0 0 0)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{background:#fff;background:var(--select2-selection-background, #fff);border:1px solid #aaa;border:1px solid var(--select2-selection-border-color, #aaa);border-radius:4px;border-radius:var(--select2-selection-border-radius, 4px);display:flex}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{color:#444;color:var(--select2-selection-text-color, #444);line-height:28px}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__clear[_ngcontent-%COMP%]{cursor:pointer;float:right;font-weight:700}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__placeholder[_ngcontent-%COMP%]{color:#999;color:var(--select2-placeholder-color, #999)}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-overflow:var(--select2-placeholder-overflow, ellipsis)}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__placeholder__option[_ngcontent-%COMP%]{display:none}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__reset[_ngcontent-%COMP%], .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%]{display:flex;width:20px;align-items:center;justify-content:center}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%]:before{content:" ";border-color:#888 transparent;border-color:var(--select2-arrow-color, #888) transparent;border-style:solid;border-width:5px 4px 0;height:0;width:0}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__reset[_ngcontent-%COMP%]{color:#999;color:var(--select2-reset-color, #999)}.select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{background:#eee;background:var(--select2-selection-disabled-background, #eee);cursor:default}.select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__clear[_ngcontent-%COMP%]{display:none}.select2-container--default.select2-container--open[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%]:before{border-color:transparent transparent #888;border-color:transparent transparent var(--select2-arrow-color, #888);border-width:0 4px 5px}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{background:#fff;background:var(--select2-selection-background, #fff);border:1px solid #aaa;border:1px solid var(--select2-selection-border-color, #aaa);border-radius:4px;border-radius:var(--select2-selection-border-radius, 4px);cursor:text}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{flex:1 1 auto;box-sizing:border-box;list-style:none;margin:0;padding:0 5px;width:100%}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__placeholder[_ngcontent-%COMP%]{display:block;width:100%;color:#999;color:var(--select2-placeholder-color, #999);margin-top:5px;float:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-overflow:var(--select2-placeholder-overflow, ellipsis)}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__placeholder__option[_ngcontent-%COMP%]{display:none}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__clear[_ngcontent-%COMP%]{cursor:pointer;float:right;font-weight:700;margin-top:5px;margin-right:10px}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__choice[_ngcontent-%COMP%]{color:#000;color:var(--select2-selection-choice-text-color, #000);background:#e4e4e4;background:var(--select2-selection-choice-background, #e4e4e4);border:1px solid #aaa;border:1px solid var(--select2-selection-choice-border-color, #aaa);border-radius:4px;border-radius:var(--select2-selection-border-radius, 4px);cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__choice__remove[_ngcontent-%COMP%]{color:#999;color:var(--select2-selection-choice-close-color, #999);cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__choice__remove[_ngcontent-%COMP%]:hover{color:#333;color:var(--select2-selection-choice-hover-close-color, #333)}.select2-container--default.select2-container--focused[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border:solid #000 1px;border:solid var(--select2-selection-focus-border-color, #000) 1px;outline:none}.select2-container--default[_ngcontent-%COMP%]:not(.select2-container--open)   .select2-focused[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .select2-container--default[_ngcontent-%COMP%]:not(.select2-container--open)   .select2-focused[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border:solid #000 1px;border:solid var(--select2-selection-focus-border-color, #000) 1px;outline:none}.select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{background:#eee;background:var(--select2-selection-disabled-background, #eee);cursor:default}.select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection__choice__remove[_ngcontent-%COMP%]{display:none}.select2-container--default.select2-container--open.select2-container--above[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .select2-container--default.select2-container--open.select2-container--above[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .select2-container--default.select2-container--open.select2-container--below[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default[_ngcontent-%COMP%]   .select2-search--dropdown[_ngcontent-%COMP%]   .select2-search__field[_ngcontent-%COMP%]{border:1px solid #aaa;border:1px solid var(--select2-search-border-color, #aaa);background:#fff;background:1px solid var(--select2-search-background, #fff);border-radius:0;border-radius:var(--select2-search-border-radius, 0px)}.select2-container--default[_ngcontent-%COMP%]   .select2-search--inline[_ngcontent-%COMP%]   .select2-search__field[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;box-shadow:none;-webkit-appearance:textfield}.select2-container--default[_ngcontent-%COMP%]   .select2-results[_ngcontent-%COMP%] > .select2-results__options[_ngcontent-%COMP%]{overflow-y:auto}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[role=group][_ngcontent-%COMP%]{padding:0}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[aria-disabled=true][_ngcontent-%COMP%]{color:#999;color:var(--select2-option-disabled-text-color, #999);background:transparent;background:var(--select2-option-disabled-background, transparent)}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[aria-selected=true][_ngcontent-%COMP%]{color:#000;color:var(--select2-option-selected-text-color, #000);background:#ddd;background:var(--select2-option-selected-background, #ddd)}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]{padding-left:1em}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__group[_ngcontent-%COMP%]{padding-left:0}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]{margin-left:-1em;padding-left:2em}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]{margin-left:-2em;padding-left:3em}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]{margin-left:-3em;padding-left:4em}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]{margin-left:-4em;padding-left:5em}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]   .select2-results__option[_ngcontent-%COMP%]{margin-left:-5em;padding-left:6em}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option--highlighted[aria-selected][_ngcontent-%COMP%]{background:#5897fb;background:var(--select2-option-highlighted-background, #5897fb);color:#fff;color:var(--select2-option-highlighted-text-color, #fff)}.select2-container--default[_ngcontent-%COMP%]   .select2-results__option--hide[_ngcontent-%COMP%]{display:none}.select2-container--default[_ngcontent-%COMP%]   .select2-results__group[_ngcontent-%COMP%]{cursor:default;display:block;padding:6px;color:gray;color:var(--select2-option-group-text-color, gray);background:transparent;background:var(--select2-option-group-background, transparent)}.select2-no-result[_ngcontent-%COMP%]{color:#888;color:var(--select2-no-result-color, #888);font-style:italic;font-style:var(--select2-no-result-font-style, italic)}.select2-too-much-result[_ngcontent-%COMP%]{color:#888;color:var(--select2-too-much-result-color, #888);font-style:italic;font-style:var(--select2-too-much-font-style, italic)}.nostyle[_nghost-%COMP%]   .select2-dropdown[_ngcontent-%COMP%]{border-color:transparent}.nostyle[_nghost-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .nostyle[_nghost-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{background:transparent;border-color:transparent}.nostyle[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-focused[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .nostyle[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-focused[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%], .nostyle[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]:not(.select2-container--open)   .select2-focused[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .nostyle[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]:not(.select2-container--open)   .select2-focused[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{background:transparent;border-color:transparent}.material[_nghost-%COMP%]{display:inline-block;width:300px}.material[_nghost-%COMP%] > .select2-container[_ngcontent-%COMP%]{padding-bottom:1.29688em;vertical-align:inherit}.material[_nghost-%COMP%] > .select2-container[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%]{padding:.4375em 0;border-top:.84375em solid transparent;display:inline-flex;align-items:baseline;width:100%;height:auto}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{width:100%;border:0;border-radius:0;height:24px;box-sizing:border-box}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:before, .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:before{content:" ";display:block;position:absolute;bottom:1.65em;background:#ddd;background:var(--select2-material-underline, #ddd);height:1px;width:100%}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:after, .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;bottom:1.63em;background:#5a419e;background:var(--select2-material-underline-active, #5a419e);height:2px;width:0%;left:50%;transition:none}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%], .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{padding-left:1px;line-height:inherit}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__placeholder[_ngcontent-%COMP%], .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]   .select2-selection__placeholder[_ngcontent-%COMP%]{display:block;color:#00000061;color:var(--select2-material-placeholder-color, rgba(0, 0, 0, .38));transition:transform .3s;position:absolute;transform-origin:0 21px;left:0;top:20px}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-container--open[_ngcontent-%COMP%]{left:0;bottom:1.6em}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection__placeholder__option[_ngcontent-%COMP%]{transform:translateY(-1.5em) scale(.75) perspective(100px) translateZ(.001px);width:133.33333%}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%]{top:20px}.material[_nghost-%COMP%]   .select2-container--default.select2-container--open[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:after, .material[_nghost-%COMP%]   .select2-container--default.select2-container--open[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:after, .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-focused[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:after, .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-focused[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:after{transition:width .3s cubic-bezier(.12,1,.77,1),left .3s cubic-bezier(.12,1,.77,1);width:100%;left:0%}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-dropdown[_ngcontent-%COMP%]{border-radius:0;border:0;box-shadow:0 5px 5px #00000080}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-results__option[aria-selected=true][_ngcontent-%COMP%], .material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-results__option--highlighted[aria-selected][_ngcontent-%COMP%]{background:rgba(0,0,0,.04);background:var(--select2-material-option-selected-background, rgba(0, 0, 0, .04));color:#000;color:var(--select2-material-option-highlighted-text-color, #000)}.material[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-results__option[aria-selected=true][_ngcontent-%COMP%]{color:#ff5722;color:var(--select2-material-option-selected-text-color, #ff5722)}.material[_nghost-%COMP%]   .select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .material[_nghost-%COMP%]   .select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{background:transparent}.material[_nghost-%COMP%]   .select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:before, .material[_nghost-%COMP%]   .select2-container--default.select2-container--disabled[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:before{background:linear-gradient(to right,rgba(0,0,0,.26) 0,rgba(0,0,0,.26) 33%,transparent 0);background:var(--select2-material-underline-disabled, linear-gradient(to right, rgba(0, 0, 0, .26) 0, rgba(0, 0, 0, .26) 33%, transparent 0));background-size:4px 1px;background-repeat:repeat-x;background-position:0 bottom}.material.ng-invalid.ng-touched[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:before, .material.ng-invalid.ng-touched[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]:after, .material.ng-invalid.ng-touched[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:before, .material.ng-invalid.ng-touched[_nghost-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]:after{background:red;background:var(--select2-material-underline-invalid, red)}.material[_nghost-%COMP%]:not(.select2-container--open)   .select2-focused[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .material[_nghost-%COMP%]:not(.select2-container--open)   .select2-focused[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border:0}.material[_nghost-%COMP%]   .select2-subscript-wrapper[_ngcontent-%COMP%]{position:absolute;top:calc(100% - 1.72917em);font-size:75%;color:#888;color:var(--select2-hint-text-color, #888)}  .select2-overlay-backdrop{background:rgba(0,0,0,.32);background:var(--select2-overlay-backdrop, transparent)}  .cdk-overlay-container .select2-container .select2-dropdown.select2-dropdown--above{bottom:28px}  .cdk-overlay-container .select2-container--open.select2-position-auto .select2-dropdown{margin-bottom:28px}  .cdk-overlay-container .select2-container--open.select2-position-auto .select2-dropdown.select2-dropdown--above{bottom:0;margin-bottom:0;margin-top:28px}@supports (-moz-appearance: none){select2.material[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], select2.material[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{height:26px}}@supports (-ms-scroll-limit: 0){select2.material[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], select2.material[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{height:25px}}']}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["select2-hint"]]}),n})(),Cre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wi,LO,Yb,lx,Oie,LO,lx]}),n})(),Dre=(()=>{class n{constructor(e,i,r,o,c,d){this.data=e,this.fb=i,this.apiP=r,this.apiPv=o,this.apiC=c,this.toastr=d,this.categories=[],this.providers1=[],this.cat="",this.pro=[],this.submitSurveyData=()=>{this.apiP.UpdateProduct(this.myForm.value,this.data.key),this.toastr.success("Producto actualizado!")}}ngOnInit(){this.sForm(),this.apiP.GetProduct(this.data.key).valueChanges().subscribe(e=>{this.myForm.patchValue(e),this.cat=e.category,this.pro=e.providers}),this.apiC.GetCategoryList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.categories.push({value:r.id,label:r.name})})}),this.apiPv.GetProviderList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.providers1.push({value:r.id,label:r.name})})})}sForm(){this.myForm=this.fb.group({name:["",[Ht.required]],category:["",[Ht.required]],brand:[""],model:[""],unit:[""],avcost:[""],existence:[""],proration:[null],providers:[]})}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(k_),s.Y36(Yl),s.Y36($N),s.Y36(GE),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-product"]],decls:50,vars:10,consts:[["mat-dialog-title","",2,"margin-bottom","0.5rem"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],[1,"row"],["appearance","fill",1,"col-sm-12","col-md-6"],["matInput","","type","text","formControlName","name","required","","autofocus",""],[1,"col-sm-12","col-md-6"],["displaySearchStatus","always","listPosition","below","styleMode","material","resettable","","formControlName","category","resultMaxHeight","200px",1,"w-100",3,"data","value"],["appearance","fill",1,"col-sm-12","col-md-4"],["matInput","","type","text","formControlName","brand"],["matInput","","type","text","formControlName","model"],["matInput","","name","proration","id","proration","formControlName","proration","required",""],[3,"value"],["matInput","","type","text","formControlName","unit"],["matInput","","type","number","formControlName","avcost"],["matInput","","type","number","formControlName","existence"],[1,"col-sm-12"],["multiple","true","displaySearchStatus","always","listPosition","above","styleMode","material","resettable","","formControlName","providers","resultMaxHeight","200px",1,"w-100",3,"data","value","overlay"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Editar producto"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"Nombre"),s.qZA(),s._UZ(8,"input",5),s.qZA(),s.TgZ(9,"div",6)(10,"select2",7)(11,"select2-hint"),s._uU(12,"Clasificaci\xf3n *"),s.qZA()()(),s.TgZ(13,"mat-form-field",8)(14,"mat-label"),s._uU(15,"Marca"),s.qZA(),s._UZ(16,"input",9),s.qZA(),s.TgZ(17,"mat-form-field",8)(18,"mat-label"),s._uU(19,"Modelo"),s.qZA(),s._UZ(20,"input",10),s.qZA(),s.TgZ(21,"mat-form-field",8)(22,"mat-label"),s._uU(23,"Prorrateo"),s.qZA(),s.TgZ(24,"mat-select",11)(25,"mat-option",12),s._uU(26,"No"),s.qZA(),s.TgZ(27,"mat-option",12),s._uU(28,"Si"),s.qZA()()(),s.TgZ(29,"mat-form-field",8)(30,"mat-label"),s._uU(31,"Unidad de medida"),s.qZA(),s._UZ(32,"input",13),s.qZA(),s.TgZ(33,"mat-form-field",8)(34,"mat-label"),s._uU(35,"Costo promedio"),s.qZA(),s._UZ(36,"input",14),s.qZA(),s.TgZ(37,"mat-form-field",8)(38,"mat-label"),s._uU(39,"Existencia"),s.qZA(),s._UZ(40,"input",15),s.qZA(),s.TgZ(41,"div",16)(42,"select2",17)(43,"select2-hint"),s._uU(44,"Proveedores"),s.qZA()()()()(),s.TgZ(45,"mat-dialog-actions",18)(46,"button",19),s._uU(47,"Cancelar"),s.qZA(),s.TgZ(48,"button",20),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(49,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(8),s.Q6J("data",i.categories)("value",i.cat),s.xp6(15),s.Q6J("value",!1),s.xp6(2),s.Q6J("value",!0),s.xp6(15),s.Q6J("data",i.providers1)("value",i.pro)("overlay",!1),s.xp6(6),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,b_,qa,za,Yo,os,Zo,jM,HM,Vr,Xl,ec,Ka,tc,Br,Wo,Kb,__,cs]}),n})(),Ere=(()=>{class n{constructor(e,i,r,o,c){this.fb=e,this.apiP=i,this.apiPv=r,this.apiC=o,this.toastr=c,this.categories=[],this.providers=[],this.submitSurveyData=()=>{this.apiP.AddProduct(this.myForm.value),this.ResetForm()}}ngOnInit(){this.sForm(),this.apiC.GetCategoryList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.categories.push({value:r.id,label:r.name})})}),this.apiPv.GetProviderList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.providers.push({value:r.id,label:r.name})})})}sForm(){this.myForm=this.fb.group({name:["",[Ht.required]],category:["",[Ht.required]],brand:[""],model:[""],unit:[""],avcost:[""],existence:[""],proration:[null],providers:[]})}ResetForm(){this.myForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36($N),s.Y36(GE),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-new-product"]],decls:50,vars:7,consts:[["mat-dialog-title","",2,"margin-bottom","0.5rem"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],[1,"row"],["appearance","fill",1,"col-sm-12","col-md-6"],["matInput","","type","text","formControlName","name","required","","autofocus",""],[1,"col-sm-12","col-md-6"],["displaySearchStatus","always","listPosition","below","styleMode","material","resettable","","formControlName","category","resultMaxHeight","200px",1,"w-100",3,"data"],["appearance","fill",1,"col-sm-12","col-md-4"],["matInput","","type","text","formControlName","brand"],["matInput","","type","text","formControlName","model"],["matInput","","name","proration","id","proration","formControlName","proration","required",""],[3,"value"],["matInput","","type","text","formControlName","unit"],["matInput","","type","number","formControlName","avcost"],["matInput","","type","number","formControlName","existence"],[1,"col-sm-12"],["multiple","","displaySearchStatus","always","listPosition","above","styleMode","material","resettable","","formControlName","providers","resultMaxHeight","200px",1,"w-100",3,"data"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Nuevo producto"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"Nombre"),s.qZA(),s._UZ(8,"input",5),s.qZA(),s.TgZ(9,"div",6)(10,"select2",7)(11,"select2-hint"),s._uU(12,"Clasificaci\xf3n *"),s.qZA()()(),s.TgZ(13,"mat-form-field",8)(14,"mat-label"),s._uU(15,"Marca"),s.qZA(),s._UZ(16,"input",9),s.qZA(),s.TgZ(17,"mat-form-field",8)(18,"mat-label"),s._uU(19,"Modelo"),s.qZA(),s._UZ(20,"input",10),s.qZA(),s.TgZ(21,"mat-form-field",8)(22,"mat-label"),s._uU(23,"Prorrateo"),s.qZA(),s.TgZ(24,"mat-select",11)(25,"mat-option",12),s._uU(26,"No"),s.qZA(),s.TgZ(27,"mat-option",12),s._uU(28,"Si"),s.qZA()()(),s.TgZ(29,"mat-form-field",8)(30,"mat-label"),s._uU(31,"Unidad de medida"),s.qZA(),s._UZ(32,"input",13),s.qZA(),s.TgZ(33,"mat-form-field",8)(34,"mat-label"),s._uU(35,"Costo promedio"),s.qZA(),s._UZ(36,"input",14),s.qZA(),s.TgZ(37,"mat-form-field",8)(38,"mat-label"),s._uU(39,"Existencia"),s.qZA(),s._UZ(40,"input",15),s.qZA(),s.TgZ(41,"div",16)(42,"select2",17)(43,"select2-hint"),s._uU(44,"Proveedores"),s.qZA()()()()(),s.TgZ(45,"mat-dialog-actions",18)(46,"button",19),s._uU(47,"Cancelar"),s.qZA(),s.TgZ(48,"button",20),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(49,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(8),s.Q6J("data",i.categories),s.xp6(15),s.Q6J("value",!1),s.xp6(2),s.Q6J("value",!0),s.xp6(15),s.Q6J("data",i.providers),s.xp6(6),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,b_,qa,za,Yo,os,Zo,jM,HM,Vr,Xl,ec,Ka,tc,Br,Wo,Kb,__,cs]}),n})();const Tre=["input"];function Sre(n,t){1&n&&(s.TgZ(0,"mat-header-cell",28),s._uU(1,"Nombre"),s.qZA())}function Ire(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.name," ")}}function Are(n,t){1&n&&(s.TgZ(0,"mat-header-cell",29),s._uU(1,"Costo promedio"),s.qZA())}function xre(n,t){if(1&n&&(s.TgZ(0,"mat-cell",29),s._uU(1),s.ALo(2,"currency"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",s.lcZ(2,1,e.avcost)," ")}}function Mre(n,t){1&n&&(s.TgZ(0,"mat-header-cell",30),s._uU(1,"Categor\xeda"),s.qZA())}function kre(n,t){if(1&n&&(s.TgZ(0,"mat-cell",29),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.category)}}function Rre(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acci\xf3n "),s.qZA())}function Ore(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"button",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openEditDialog(o.key))}),s.TgZ(2,"span",32),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openDeleteDialog(o.key))}),s.TgZ(5,"span",32),s._uU(6,"delete"),s.qZA()()()}}function Pre(n,t){1&n&&s._UZ(0,"mat-header-row")}function Nre(n,t){1&n&&s._UZ(0,"mat-row")}const Fre=function(){return[10,20]};function Lre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"mat-form-field")(4,"input",13),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.doFilter(r.target))}),s.qZA()()()(),s.TgZ(5,"mat-table",14),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(6,15),s.YNc(7,Sre,2,0,"mat-header-cell",16),s.YNc(8,Ire,2,1,"mat-cell",17),s.BQk(),s.ynx(9,18),s.YNc(10,Are,2,0,"mat-header-cell",19),s.YNc(11,xre,3,3,"mat-cell",20),s.BQk(),s.ynx(12,21),s.YNc(13,Mre,2,0,"mat-header-cell",22),s.YNc(14,kre,2,1,"mat-cell",20),s.BQk(),s.ynx(15,23),s.YNc(16,Rre,2,0,"mat-header-cell",24),s.YNc(17,Ore,7,0,"mat-cell",17),s.BQk(),s.YNc(18,Pre,1,0,"mat-header-row",25),s.YNc(19,Nre,1,0,"mat-row",26),s.qZA(),s._UZ(20,"mat-paginator",27),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("dataSource",e.dataSource),s.xp6(13),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,Fre))}}let Vre=(()=>{class n{constructor(e,i,r,o){this.dialog=e,this.apiC=i,this.apiP=r,this.toastr=o,this.dataSource=new nw,this.data=!1,this.displayedColumns=["name","avcost","category","action"],this.categories=[],this.products=[],this.category="",this.doFilter=c=>{this.dataSource.filter=c.value.trim().toLocaleLowerCase()}}ngOnInit(){this.apiC.GetCategoryList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.categories.push({value:r.id,label:r.name})})}),this.apiP.GetProductList().snapshotChanges().subscribe(e=>{this.products=[],e.forEach(i=>{const r=i.payload.val();this.products.push({key:i.key,name:r.name,avcost:r.avcost,category:r.category})}),this.products.length>0&&(this.data=!0,this.dataSource.data=this.products.slice()),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}sortData(e){const i=this.products.slice();this.dataSource.data=e.active&&""!==e.direction?i.sort((r,o)=>{const c="asc"===e.direction;switch(e.active){case"name":return this.compare(r.name.trim().toLocaleLowerCase(),o.name.trim().toLocaleLowerCase(),c);case"category":return this.compare(r.category.trim().toLocaleLowerCase(),o.category.trim().toLocaleLowerCase(),c);default:return 0}}):i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}openDialog(){this.dialog.open(Ere).afterClosed().subscribe(i=>{})}openEditDialog(e){this.dialog.open(Dre,{data:{key:e}}).afterClosed().subscribe(r=>{})}openDeleteDialog(e){this.dialog.open(uE,{data:"\xbfConfirma que desea eliminar este producto?"}).afterClosed().subscribe(r=>{r&&(this.apiP.DeleteProduct(e),this.toastr.info("Producto eliminado!"))})}update(e){this.category=e.value}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pf),s.Y36(vm),s.Y36($N),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-products"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Jl,5),s.Gf(Wa,7),s.Gf(Tre,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.input=r.first)}},decls:14,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card","mt-2"],[1,"card-header"],[1,"navbar","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"btn","btn-outline-info","me-2",3,"click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col","s4"],["matInput","","type","text","placeholder","Buscar",3,"keyup"],["matSort","","matSortActive","name","matSortDirection","desc","matSortDisableClear","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avcost"],["class","pad-l",4,"matHeaderCellDef"],["class","pad-l",4,"matCellDef"],["matColumnDef","category"],["mat-sort-header","","class","pad-l",4,"matHeaderCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[1,"pad-l"],["mat-sort-header","",1,"pad-l"],[1,"btn","btn-outline-info","me-2",2,"padding","0 0.2rem",3,"click"],[1,"material-icons"],[1,"btn","btn-outline-danger",2,"padding","0 0.2rem",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"div",6)(7,"a",7),s._uU(8,"Gesti\xf3n de productos"),s.qZA(),s._UZ(9,"div",8),s.TgZ(10,"div",8)(11,"button",9),s.NdJ("click",function(){return i.openDialog()}),s._uU(12,"Nuevo producto"),s.qZA()()()()(),s.YNc(13,Lre,21,5,"div",10),s.qZA()()()()),2&e&&(s.xp6(13),s.Q6J("ngIf",i.data))},dependencies:[Wt,Br,cs,Wa,Jb,S_,im,I_,rm,nm,A_,sm,om,x_,M_,Jl,pc]}),n})(),Bre=(()=>{class n{constructor(e,i,r,o,c){this.data=e,this.fb=i,this.apiP=r,this.apiC=o,this.toastr=c,this.categories=[],this.cat="",this.submitSurveyData=()=>{this.apiP.UpdateProvider(this.myForm.value,this.data.key),this.toastr.success("Proveedor actualizado!")}}ngOnInit(){this.sForm(),this.apiC.GetCategoryList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.categories.push({value:r.id,label:r.name})})}),this.apiP.GetProvider(this.data.key).valueChanges().subscribe(e=>{this.myForm.patchValue(e),this.cat=e.category})}sForm(){this.myForm=this.fb.group({id:["",[Ht.required,Ht.maxLength(13),Ht.minLength(12)]],name:["",[Ht.required]],phone:[""],contact:[""],street:[""],num:[""],colony:[""],pc:["",[Ht.maxLength(5),Ht.min(1e4),Ht.max(99999)]],city:[""],state:[""],cellphone:[""],email:["",Ht.email],bank:[""],account:[""],clabe:["",[Ht.minLength(18),Ht.maxLength(18)]],category:["",[Ht.required]]})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(k_),s.Y36(Yl),s.Y36(GE),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-provider"]],decls:74,vars:5,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],[1,"row"],["appearance","fill",1,"col-sm-12","col-md-4"],["matInput","","type","text","formControlName","id","required","","readonly",""],["appearance","fill",1,"col-sm-12","col-md-8"],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","text","formControlName","phone"],["matInput","","type","text","formControlName","contact"],["matInput","","type","text","formControlName","street"],["matInput","","type","text","formControlName","num"],["matInput","","type","text","formControlName","colony"],["matInput","","type","number","formControlName","pc"],["matInput","","type","text","formControlName","city"],["matInput","","type","text","formControlName","state"],["matInput","","type","text","formControlName","cellphone"],["matInput","","type","email","formControlName","email"],["matInput","","type","text","formControlName","bank"],["matInput","","type","text","formControlName","account"],["appearance","fill",1,"col-sm-12","col-md-6"],["matInput","","type","text","formControlName","clabe"],[1,"col-sm-12","col-md-6"],["displaySearchStatus","always","listPosition","above","styleMode","material","resettable","","formControlName","category","resultMaxHeight","250px",1,"w-100",3,"data","value"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Editar proveedor"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"RFC (12 \xf3 13 d\xedgitos)"),s.qZA(),s._UZ(8,"input",5),s.qZA(),s.TgZ(9,"mat-form-field",6)(10,"mat-label"),s._uU(11,"Nombre"),s.qZA(),s._UZ(12,"input",7),s.qZA(),s.TgZ(13,"mat-form-field",4)(14,"mat-label"),s._uU(15,"Tel\xe9fono"),s.qZA(),s._UZ(16,"input",8),s.qZA(),s.TgZ(17,"mat-form-field",6)(18,"mat-label"),s._uU(19,"Contacto"),s.qZA(),s._UZ(20,"input",9),s.qZA(),s.TgZ(21,"mat-form-field",6)(22,"mat-label"),s._uU(23,"Calle"),s.qZA(),s._UZ(24,"input",10),s.qZA(),s.TgZ(25,"mat-form-field",4)(26,"mat-label"),s._uU(27,"N\xfamero"),s.qZA(),s._UZ(28,"input",11),s.qZA(),s.TgZ(29,"mat-form-field",6)(30,"mat-label"),s._uU(31,"Colonia"),s.qZA(),s._UZ(32,"input",12),s.qZA(),s.TgZ(33,"mat-form-field",4)(34,"mat-label"),s._uU(35,"C\xf3digo postal (5 d\xedgitos)"),s.qZA(),s._UZ(36,"input",13),s.qZA(),s.TgZ(37,"mat-form-field",4)(38,"mat-label"),s._uU(39,"Ciudad"),s.qZA(),s._UZ(40,"input",14),s.qZA(),s.TgZ(41,"mat-form-field",4)(42,"mat-label"),s._uU(43,"Estado"),s.qZA(),s._UZ(44,"input",15),s.qZA(),s.TgZ(45,"mat-form-field",4)(46,"mat-label"),s._uU(47,"Celular"),s.qZA(),s._UZ(48,"input",16),s.qZA(),s.TgZ(49,"mat-form-field",4)(50,"mat-label"),s._uU(51,"Correo (ejemplo@mail.com)"),s.qZA(),s._UZ(52,"input",17),s.qZA(),s.TgZ(53,"mat-form-field",4)(54,"mat-label"),s._uU(55,"Banco"),s.qZA(),s._UZ(56,"input",18),s.qZA(),s.TgZ(57,"mat-form-field",4)(58,"mat-label"),s._uU(59,"No. de cuenta"),s.qZA(),s._UZ(60,"input",19),s.qZA(),s.TgZ(61,"mat-form-field",20)(62,"mat-label"),s._uU(63,"CLABE (18 d\xedgitos)"),s.qZA(),s._UZ(64,"input",21),s.qZA(),s.TgZ(65,"div",22)(66,"select2",23)(67,"select2-hint"),s._uU(68,"Clasificaci\xf3n *"),s.qZA()()()()(),s.TgZ(69,"mat-dialog-actions",24)(70,"button",25),s._uU(71,"Cancelar"),s.qZA(),s.TgZ(72,"button",26),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(73,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(64),s.Q6J("data",i.categories)("value",i.cat),s.xp6(6),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,b_,qa,za,Yo,os,Zo,jM,HM,Vr,Xl,ec,Ka,tc,Br,Wo,cs]}),n})(),Ure=(()=>{class n{constructor(e,i,r,o){this.fb=e,this.apiP=i,this.apiC=r,this.toastr=o,this.categories=[],this.submitSurveyData=()=>{this.myForm.patchValue({id:this.myForm.get("id")?.value.toUpperCase()}),this.apiP.AddProvider(this.myForm.value),this.ResetForm()}}ngOnInit(){this.sForm(),this.apiC.GetCategoryList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.categories.push({value:r.id,label:r.name})})})}sForm(){this.myForm=this.fb.group({id:["",[Ht.required,Ht.maxLength(13),Ht.minLength(12)]],name:["",[Ht.required]],phone:[""],contact:[""],street:[""],num:[""],colony:[""],pc:["",[Ht.maxLength(5),Ht.min(1e4),Ht.max(99999)]],city:[""],state:[""],cellphone:[""],email:["",Ht.email],bank:[""],account:[""],clabe:["",[Ht.minLength(18),Ht.maxLength(18)]],category:["",[Ht.required]]})}ResetForm(){this.myForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36(GE),s.Y36(vm),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-new-provider"]],decls:74,vars:4,consts:[["mat-dialog-title","",2,"margin-bottom","0.5rem"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],[1,"row"],["appearance","fill",1,"col-sm-12","col-md-4"],["matInput","","type","text","formControlName","id","required","","autofocus",""],["appearance","fill",1,"col-sm-12","col-md-8"],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","text","formControlName","phone"],["matInput","","type","text","formControlName","contact"],["matInput","","type","text","formControlName","street"],["matInput","","type","text","formControlName","num"],["matInput","","type","text","formControlName","colony"],["matInput","","type","number","formControlName","pc"],["matInput","","type","text","formControlName","city"],["matInput","","type","text","formControlName","state"],["matInput","","type","text","formControlName","cellphone"],["matInput","","type","email","formControlName","email"],["matInput","","type","text","formControlName","bank"],["matInput","","type","text","formControlName","account"],["appearance","fill",1,"col-sm-12","col-md-6"],["matInput","","type","text","formControlName","clabe"],[1,"col-sm-12","col-md-6"],["displaySearchStatus","always","listPosition","above","styleMode","material","resettable","","formControlName","category","resultMaxHeight","250px",1,"w-100",3,"data"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Nuevo proveedor"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"RFC (12 \xf3 13 d\xedgitos)"),s.qZA(),s._UZ(8,"input",5),s.qZA(),s.TgZ(9,"mat-form-field",6)(10,"mat-label"),s._uU(11,"Nombre"),s.qZA(),s._UZ(12,"input",7),s.qZA(),s.TgZ(13,"mat-form-field",4)(14,"mat-label"),s._uU(15,"Tel\xe9fono"),s.qZA(),s._UZ(16,"input",8),s.qZA(),s.TgZ(17,"mat-form-field",6)(18,"mat-label"),s._uU(19,"Contacto"),s.qZA(),s._UZ(20,"input",9),s.qZA(),s.TgZ(21,"mat-form-field",6)(22,"mat-label"),s._uU(23,"Calle"),s.qZA(),s._UZ(24,"input",10),s.qZA(),s.TgZ(25,"mat-form-field",4)(26,"mat-label"),s._uU(27,"N\xfamero"),s.qZA(),s._UZ(28,"input",11),s.qZA(),s.TgZ(29,"mat-form-field",6)(30,"mat-label"),s._uU(31,"Colonia"),s.qZA(),s._UZ(32,"input",12),s.qZA(),s.TgZ(33,"mat-form-field",4)(34,"mat-label"),s._uU(35,"C\xf3digo postal (5 d\xedgitos)"),s.qZA(),s._UZ(36,"input",13),s.qZA(),s.TgZ(37,"mat-form-field",4)(38,"mat-label"),s._uU(39,"Ciudad"),s.qZA(),s._UZ(40,"input",14),s.qZA(),s.TgZ(41,"mat-form-field",4)(42,"mat-label"),s._uU(43,"Estado"),s.qZA(),s._UZ(44,"input",15),s.qZA(),s.TgZ(45,"mat-form-field",4)(46,"mat-label"),s._uU(47,"Celular"),s.qZA(),s._UZ(48,"input",16),s.qZA(),s.TgZ(49,"mat-form-field",4)(50,"mat-label"),s._uU(51,"Correo (ejemplo@mail.com)"),s.qZA(),s._UZ(52,"input",17),s.qZA(),s.TgZ(53,"mat-form-field",4)(54,"mat-label"),s._uU(55,"Banco"),s.qZA(),s._UZ(56,"input",18),s.qZA(),s.TgZ(57,"mat-form-field",4)(58,"mat-label"),s._uU(59,"No. de cuenta"),s.qZA(),s._UZ(60,"input",19),s.qZA(),s.TgZ(61,"mat-form-field",20)(62,"mat-label"),s._uU(63,"CLABE (18 d\xedgitos)"),s.qZA(),s._UZ(64,"input",21),s.qZA(),s.TgZ(65,"div",22)(66,"select2",23)(67,"select2-hint"),s._uU(68,"Clasificaci\xf3n *"),s.qZA()()()()(),s.TgZ(69,"mat-dialog-actions",24)(70,"button",25),s._uU(71,"Cancelar"),s.qZA(),s.TgZ(72,"button",26),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(73,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(64),s.Q6J("data",i.categories),s.xp6(6),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,b_,qa,za,Yo,os,Zo,jM,HM,Vr,Xl,ec,Ka,tc,Br,Wo,cs]}),n})();const Hre=["input"];function jre(n,t){1&n&&(s.TgZ(0,"mat-header-cell",29),s._uU(1,"RFC"),s.qZA())}function Gre(n,t){if(1&n&&(s.TgZ(0,"mat-cell",30),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.id)}}function qre(n,t){1&n&&(s.TgZ(0,"mat-header-cell",31),s._uU(1,"Nombre"),s.qZA())}function zre(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.name," ")}}function $re(n,t){1&n&&(s.TgZ(0,"mat-header-cell",30),s._uU(1,"Tel\xe9fono"),s.qZA())}function Zre(n,t){if(1&n&&(s.TgZ(0,"mat-cell",30),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.phone," ")}}function Yre(n,t){1&n&&(s.TgZ(0,"mat-header-cell",30),s._uU(1,"Categor\xeda"),s.qZA())}function Wre(n,t){if(1&n&&(s.TgZ(0,"mat-cell",30),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.category," ")}}function Kre(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acci\xf3n "),s.qZA())}function Qre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"button",32),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openEditDialog(o.id))}),s.TgZ(2,"span",33),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openDeleteDialog(o.id))}),s.TgZ(5,"span",33),s._uU(6,"delete"),s.qZA()()()}}function Jre(n,t){1&n&&s._UZ(0,"mat-header-row")}function Xre(n,t){1&n&&s._UZ(0,"mat-row")}const ese=function(){return[10,20]};function tse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"mat-form-field")(4,"input",13),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.doFilter(r.target))}),s.qZA()()()(),s.TgZ(5,"mat-table",14),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(6,15),s.YNc(7,jre,2,0,"mat-header-cell",16),s.YNc(8,Gre,2,1,"mat-cell",17),s.BQk(),s.ynx(9,18),s.YNc(10,qre,2,0,"mat-header-cell",19),s.YNc(11,zre,2,1,"mat-cell",20),s.BQk(),s.ynx(12,21),s.YNc(13,$re,2,0,"mat-header-cell",22),s.YNc(14,Zre,2,1,"mat-cell",17),s.BQk(),s.ynx(15,23),s.YNc(16,Yre,2,0,"mat-header-cell",22),s.YNc(17,Wre,2,1,"mat-cell",17),s.BQk(),s.ynx(18,24),s.YNc(19,Kre,2,0,"mat-header-cell",25),s.YNc(20,Qre,7,0,"mat-cell",20),s.BQk(),s.YNc(21,Jre,1,0,"mat-header-row",26),s.YNc(22,Xre,1,0,"mat-row",27),s.qZA(),s._UZ(23,"mat-paginator",28),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("dataSource",e.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,ese))}}let nse=(()=>{class n{constructor(e,i,r){this.dialog=e,this.apiP=i,this.toastr=r,this.dataSource=new nw,this.data=!1,this.displayedColumns=["id","name","phone","category","action"],this.providers=[],this.doFilter=o=>{this.dataSource.filter=o.value.trim().toLocaleLowerCase()}}ngOnInit(){this.apiP.GetProviderList().snapshotChanges().subscribe(e=>{this.providers=[],e.forEach(i=>{const r=i.payload.val();this.providers.push({id:i.key,name:r.name,phone:r.phone,category:r.category})}),this.providers.length>0&&(this.data=!0,this.dataSource.data=this.providers.slice()),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}sortData(e){const i=this.providers.slice();this.dataSource.data=e.active&&""!==e.direction?i.sort((r,o)=>{const c="asc"===e.direction;switch(e.active){case"name":return this.compare(r.name.trim().toLocaleLowerCase(),o.name.trim().toLocaleLowerCase(),c);case"id":return this.compare(r.id,o.id,c);default:return 0}}):i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}openDialog(){this.dialog.open(Ure).afterClosed().subscribe(i=>{})}openEditDialog(e){this.dialog.open(Bre,{data:{key:e}}).afterClosed().subscribe(r=>{})}openDeleteDialog(e){this.dialog.open(uE,{data:"\xbfConfirma que desea eliminar este proveedor?"}).afterClosed().subscribe(r=>{r&&(this.apiP.DeleteProvider(e),this.toastr.info("Proveedor eliminado!"))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pf),s.Y36(GE),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-providers"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Jl,5),s.Gf(Wa,7),s.Gf(Hre,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.input=r.first)}},decls:13,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card","mt-2"],[1,"card-header"],[1,"navbar","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"btn","btn-outline-info","me-2",3,"click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col","s4"],["matInput","","type","text","placeholder","Buscar",3,"keyup"],["matSort","","matSortActive","name","matSortDirection","desc","matSortDisableClear","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-sort-header","","class","pad-l",4,"matHeaderCellDef"],["class","pad-l",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","phone"],["class","pad-l",4,"matHeaderCellDef"],["matColumnDef","category"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header","",1,"pad-l"],[1,"pad-l"],["mat-sort-header",""],[1,"btn","btn-outline-info","me-2",2,"padding","0 0.2rem",3,"click"],[1,"material-icons"],[1,"btn","btn-outline-danger",2,"padding","0 0.2rem",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"div",6)(7,"a",7),s._uU(8,"Gesti\xf3n de Proveedores"),s.qZA(),s.TgZ(9,"div",8)(10,"button",9),s.NdJ("click",function(){return i.openDialog()}),s._uU(11,"Nuevo proveedor"),s.qZA()()()()(),s.YNc(12,tse,24,5,"div",10),s.qZA()()()()),2&e&&(s.xp6(12),s.Q6J("ngIf",i.data))},dependencies:[Wt,Br,cs,Wa,Jb,S_,im,I_,rm,nm,A_,sm,om,x_,M_,Jl]}),n})(),WN=(()=>{class n{constructor(e,i,r){this.db=e,this.storage=i,this.toastr=r}AddRanch(e){this.db.database.ref().child("ranchlook/ranch-list/"+e.id).once("value",i=>i.exists()?(this.toastr.error("No guardado, ya existe un registro con este nombre!"),!0):(this.toastr.success("Guardado!"),this.db.database.ref().child("ranchlook/ranch-list/"+e.id).set(e),!1))}GetRanchList(){return this.ranchList=this.db.list("ranchlook/ranch-list"),this.ranchList}GetRanch(e){return this.ranchObject=this.db.object("ranchlook/ranch-list/"+e),this.ranchObject}UpdateRanch(e,i){this.db.object("ranchlook/ranch-list/"+i).update(e)}DeleteRanch(e){this.ranchObject=this.db.object("ranchlook/ranch-list/"+e),this.ranchObject.remove()}GetLastRanch(){return this.lastRanchRef=this.db.list("ranchlook/ranch-list/",e=>e.limitToLast(1)).valueChanges(),this.lastRanchRef}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(VM),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ise=(()=>{class n{constructor(e,i,r,o){this.data=e,this.fb=i,this.api=r,this.toastr=o,this.submitSurveyData=()=>{this.api.UpdateRanch(this.myForm.value,this.data.key),this.toastr.success("Ciclo actualizado!")}}ngOnInit(){this.sForm(),this.api.GetRanch(this.data.key).valueChanges().subscribe(e=>{this.myForm.patchValue(e)})}sForm(){this.myForm=this.fb.group({id:["",[Ht.required]],status:[null]})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(k_),s.Y36(Yl),s.Y36(WN),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-ranch"]],decls:21,vars:5,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","id","required","","readonly",""],["matInput","","name","status","id","status","formControlName","status","required",""],[3,"value"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Editar ciclo"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"Ciclo"),s.qZA(),s._UZ(7,"input",4),s.qZA(),s.TgZ(8,"mat-form-field",3)(9,"mat-label"),s._uU(10,"Estatus"),s.qZA(),s.TgZ(11,"mat-select",5)(12,"mat-option",6),s._uU(13,"Activo"),s.qZA(),s.TgZ(14,"mat-option",6),s._uU(15,"Inactivo"),s.qZA()()()(),s.TgZ(16,"mat-dialog-actions",7)(17,"button",8),s._uU(18,"Cancelar"),s.qZA(),s.TgZ(19,"button",9),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(20,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(10),s.Q6J("value",!0),s.xp6(2),s.Q6J("value",!1),s.xp6(5),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,Wo,Kb,__,cs]}),n})(),rse=(()=>{class n{constructor(e,i,r){this.fb=e,this.api=i,this.toastr=r,this.submitSurveyData=()=>{this.myForm.patchValue({id:this.myForm.get("id")?.value.toUpperCase()}),this.api.AddRanch(this.myForm.value),this.ResetForm()}}ngOnInit(){this.sForm()}sForm(){this.myForm=this.fb.group({id:["",[Ht.required]],status:[!0]})}ResetForm(){this.myForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36(WN),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-new-ranch"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],["appearance","fill",1,"w-100"],["matInput","","type","text","formControlName","id","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Nuevo rancho"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label"),s._uU(6,"Rancho"),s.qZA(),s._UZ(7,"input",4),s.qZA()(),s.TgZ(8,"mat-dialog-actions",5)(9,"button",6),s._uU(10,"Cancelar"),s.qZA(),s.TgZ(11,"button",7),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(12,"Guardar"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(9),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid))},dependencies:[$a,wo,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,Wo,cs]}),n})();const sse=["input"];function ose(n,t){1&n&&(s.TgZ(0,"mat-header-cell",24),s._uU(1,"Rancho"),s.qZA())}function ase(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.id," ")}}function lse(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1,"Estatus"),s.qZA())}function cse(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Activo"),s.qZA())}function use(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"Inactivo"),s.qZA())}function dse(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s.YNc(1,cse,2,0,"span",25),s.YNc(2,use,2,0,"span",25),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",e.status),s.xp6(1),s.Q6J("ngIf",!e.status)}}function hse(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acci\xf3n "),s.qZA())}function fse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"button",26),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openEditDialog(o.id))}),s.TgZ(2,"span",27),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",28),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openDeleteDialog(o.id))}),s.TgZ(5,"span",27),s._uU(6,"delete"),s.qZA()()()}}function pse(n,t){1&n&&s._UZ(0,"mat-header-row")}function mse(n,t){1&n&&s._UZ(0,"mat-row")}const gse=function(){return[10,20]};function _se(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"mat-form-field")(4,"input",13),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.doFilter(r.target))}),s.qZA()()()(),s.TgZ(5,"mat-table",14),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(6,15),s.YNc(7,ose,2,0,"mat-header-cell",16),s.YNc(8,ase,2,1,"mat-cell",17),s.BQk(),s.ynx(9,18),s.YNc(10,lse,2,0,"mat-header-cell",19),s.YNc(11,dse,3,2,"mat-cell",17),s.BQk(),s.ynx(12,20),s.YNc(13,hse,2,0,"mat-header-cell",19),s.YNc(14,fse,7,0,"mat-cell",17),s.BQk(),s.YNc(15,pse,1,0,"mat-header-row",21),s.YNc(16,mse,1,0,"mat-row",22),s.qZA(),s._UZ(17,"mat-paginator",23),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("dataSource",e.dataSource),s.xp6(10),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,gse))}}let yse=(()=>{class n{constructor(e,i,r){this.dialog=e,this.apiR=i,this.toastr=r,this.dataSource=new nw,this.data=!1,this.displayedColumns=["id","status","action"],this.ranches=[],this.doFilter=o=>{this.dataSource.filter=o.value.trim().toLocaleLowerCase()}}ngOnInit(){this.apiR.GetRanchList().snapshotChanges().subscribe(e=>{this.ranches=[],e.forEach(i=>{const r=i.payload.val();this.ranches.push({id:i.key,status:r.status})}),this.ranches.length>0&&(this.data=!0,this.dataSource.data=this.ranches.slice()),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}sortData(e){const i=this.ranches.slice();this.dataSource.data=e.active&&""!==e.direction?i.sort((r,o)=>{const c="asc"===e.direction;return"id"===e.active?this.compare(r.id.trim().toLocaleLowerCase(),o.id.trim().toLocaleLowerCase(),c):0}):i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}openDialog(){this.dialog.open(rse).afterClosed().subscribe(i=>{})}openEditDialog(e){this.dialog.open(ise,{data:{key:e}}).afterClosed().subscribe(r=>{})}openDeleteDialog(e){this.dialog.open(uE,{data:"\xbfConfirma que desea eliminar este rancho?"}).afterClosed().subscribe(r=>{r&&(this.apiR.DeleteRanch(e),this.toastr.info("Rancho eliminado!"))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pf),s.Y36(WN),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ranches"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Jl,5),s.Gf(Wa,7),s.Gf(sse,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.input=r.first)}},decls:13,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card","mt-2"],[1,"card-header"],[1,"navbar","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"btn","btn-outline-info","me-2",3,"click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col","s4"],["matInput","","type","text","placeholder","Buscar",3,"keyup"],["matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","status"],[4,"matHeaderCellDef"],["matColumnDef","action"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[4,"ngIf"],[1,"btn","btn-outline-info","me-2",2,"padding","0 0.2rem",3,"click"],[1,"material-icons"],[1,"btn","btn-outline-danger",2,"padding","0 0.2rem",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"div",6)(7,"a",7),s._uU(8,"Gesti\xf3n de ranchos"),s.qZA(),s.TgZ(9,"div",8)(10,"button",9),s.NdJ("click",function(){return i.openDialog()}),s._uU(11,"Nuevo rancho"),s.qZA()()()()(),s.YNc(12,_se,18,5,"div",10),s.qZA()()()()),2&e&&(s.xp6(12),s.Q6J("ngIf",i.data))},dependencies:[Wt,Br,cs,Wa,Jb,S_,im,I_,rm,nm,A_,sm,om,x_,M_,Jl]}),n})();function vj(n,t){for(var e=[],i=0,r=n.length;i<r;i++)e.push(n[i].substr(0,t));return e}var bj=function(n){return function(t,e){var r=e[n].map(function(o){return o.toLowerCase()}).indexOf(t.toLowerCase());return r>-1?r:null}};var wj=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Cj=["January","February","March","April","May","June","July","August","September","October","November","December"],wse=vj(Cj,3),Dj={dayNamesShort:vj(wj,3),dayNames:wj,monthNamesShort:wse,monthNames:Cj,amPm:["am","pm"],DoFn:function(n){return n+["th","st","nd","rd"][n%10>3?0:(n-n%10!=10?1:0)*n%10]}};(function z_(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var i=0,r=t;i<r.length;i++){var o=r[i];for(var c in o)n[c]=o[c]}return n})({},Dj);bj("monthNamesShort"),bj("monthNames");let Mj=(()=>{class n{constructor(e,i){this.db=e,this.toastr=i}AddRequisition(e){this.db.list("ranchlook/requisition-list").push(e)}GetRequisitionList(){return this.requisitionList=this.db.list("ranchlook/requisition-list"),this.requisitionList}GetRequisition(e){return this.requisitionObject=this.db.object("ranchlook/requisition-list/"+e),this.requisitionObject}UpdateRequisition(e,i){this.requisitionObject.update(e)}DeleteRequisition(e){this.requisitionObject=this.db.object("ranchlook/requisition-list/"+e),this.requisitionObject.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_m),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xse=["mat-calendar-body",""];function Mse(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function kse(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Rse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d._cellClicked(c,r))})("focus",function(r){const c=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d._emitActiveDateChange(c,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function Ose(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,kse,2,6,"td",5),s.YNc(2,Rse,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function Pse(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const Nse=["*"];function Fse(n,t){}function Lse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Vse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Bse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Use(n,t){}const Hse=["button"];function jse(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const Gse=[[["","matDatepickerToggleIcon",""]]],qse=["[matDatepickerToggleIcon]"];let zE=(()=>{class n{constructor(){this.changes=new nt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KN{constructor(t,e,i,r,o={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=c,this.rawValue=d}}let vw=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return QN(e,this.startValue,this.endValue)}_isRangeEnd(e){return JN(e,this.startValue,this.endValue)}_isInRange(e){return XN(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return QN(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const c=this.rows[i-1];o=c&&c[c.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const c=this.rows[i+1];o=c&&c[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return JN(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return XN(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return QN(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return JN(e,this.previewStart,this.previewEnd)}_isInPreview(e){return XN(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(kj(e)?i=e:kj(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:xse,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,Mse,3,6,"tr",0),s.YNc(1,Ose,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[na,lr,Wt],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function kj(n){return"TD"===n.nodeName}function QN(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function JN(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function XN(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Xo{constructor(t,e){this.start=t,this.end=e}}let Cm=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new nt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),zse=(()=>{class n extends Cm{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Rj={provide:Cm,deps:[[new s.FiY,new s.tp0,Cm],As],useFactory:function Zse(n,t){return n||new zse(t)}},zM=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Oj=(()=>{class n{constructor(e,i,r,o,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=c,this._rerenderSubscription=rr.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ei(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,c;this._selected instanceof Xo?(o=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):o=c=this._getDateInCurrentMonth(this._selected),(o!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!bo(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),y=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new KN(r+1,i[r],p,d,y,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Xo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(g_,8),s.Y36(As,8),s.Y36($o,8),s.Y36(zM,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(vw,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,Pse,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[lr,vw],encapsulation:2,changeDetection:0}),n})(),Pj=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=rr.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Nj(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ei(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-$E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(c=>this._createCellForYear(c))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-$E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return $E(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new KN(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Xo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(As,8),s.Y36($o,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(vw,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[vw],encapsulation:2,changeDetection:0}),n})();function Nj(n,t,e,i,r){const o=n.getYear(t),c=n.getYear(e),d=Fj(n,i,r);return Math.floor((o-d)/24)===Math.floor((c-d)/24)}function $E(n,t,e,i){return function Qse(n,t){return(n%t+t)%t}(n.getYear(t)-Fj(n,e,i),24)}function Fj(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let Lj=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=rr.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ei(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new KN(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Xo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(g_,8),s.Y36(As,8),s.Y36($o,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(vw,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[vw],encapsulation:2,changeDetection:0}),n})(),Jse=0,Xse=(()=>{class n{constructor(e,i,r,o,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+Jse++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-$E(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Nj(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zE),s.Y36((0,s.Gpc)(()=>nF)),s.Y36(As,8),s.Y36(g_,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Nse,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[Vr],encapsulation:2,changeDetection:0}),n})(),nF=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new nt.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new qb(this.headerComponent||Xse),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Xo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zE),s.Y36(As,8),s.Y36(g_,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Oj,5),s.Gf(Lj,5),s.Gf(Pj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([Rj]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,Fse,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,Lse,1,8,"mat-month-view",2),s.YNc(3,Vse,1,6,"mat-year-view",3),s.YNc(4,Bse,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ns,Or,b4,zb,Oj,Lj,Pj],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const Vj={transformPanel:Is("transformPanel",[Wn("void => enter-dropdown",mi("120ms cubic-bezier(0, 0, 0.2, 1)",l_([St({opacity:0,transform:"scale(1, 0.8)"}),St({opacity:1,transform:"scale(1, 1)"})]))),Wn("void => enter-dialog",mi("150ms cubic-bezier(0, 0, 0.2, 1)",l_([St({opacity:0,transform:"scale(0.7)"}),St({transform:"none",opacity:1})]))),Wn("* => void",mi("100ms linear",St({opacity:0})))]),fadeInCalendar:Is("fadeInCalendar",[Rn("void",St({opacity:0})),Rn("enter",St({opacity:1})),Wn("void => *",mi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let eoe=0;const Bj=new s.OlP("mat-datepicker-scroll-strategy"),noe={provide:Bj,deps:[Ql],useFactory:function toe(n){return()=>n.scrollStrategies.reposition()}},ioe=Hb(class{constructor(n){this._elementRef=n}});let roe=(()=>{class n extends ioe{constructor(e,i,r,o,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=c,this._subscriptions=new rr.w0,this._animationDone=new nt.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof Xo;if(o&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Cm),s.Y36(As),s.Y36(zM,8),s.Y36(zE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(nF,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,Use,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},dependencies:[na,Vr,d4,zb,nF],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Vj.transformPanel,Vj.fadeInCalendar]},changeDetection:0}),n})(),Uj=(()=>{class n{constructor(e,i,r,o,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=rr.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+eoe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new nt.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=It(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=It(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=It(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function o$(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){It(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof xU&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=HD(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(Ln(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new qb(roe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Ix({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const c=o.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",c="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,is.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Qt(i=>27===i.keyCode&&!bo(i)||this.datepickerInput&&bo(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ql),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(Bj),s.Y36(As,8),s.Y36($o,8),s.Y36(Cm))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),soe=(()=>{class n extends Uj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([Rj,{provide:Uj,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class $M{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let ooe=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new nt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=rr.w0.EMPTY,this._localeSubscription=rr.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=It(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new $M(this,this._elementRef.nativeElement)),this.dateChange.emit(new $M(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function aoe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new $M(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new $M(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(As,8),s.Y36(g_,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const loe={provide:Ga,useExisting:(0,s.Gpc)(()=>iF),multi:!0},coe={provide:ss,useExisting:(0,s.Gpc)(()=>iF),multi:!0};let iF=(()=>{class n extends ooe{constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=rr.w0.EMPTY,this._validator=Ht.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(As,8),s.Y36(g_,8),s.Y36(kx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([loe,coe,{provide:dj,useExisting:n}]),s.qOj]}),n})(),uoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),doe=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=rr.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=It(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:He(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:He(),r=this.datepicker?(0,is.T)(this.datepicker.openedStream,this.datepicker.closedStream):He();this._stateChanges.unsubscribe(),this._stateChanges=(0,is.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zE),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,uoe,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(Hse,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:qse,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(Gse),s.TgZ(0,"button",0,1),s.YNc(2,jse,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},dependencies:[Wt,Vr],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),hoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[zE,noe],imports:[wi,_O,Yb,aO,$b,mn,h_]}),n})();function foe(n,t){if(1&n&&(s.TgZ(0,"mat-option",8),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.Oqu(e.id)}}let poe=(()=>{class n{constructor(e,i,r,o){this.fb=e,this.apiR=i,this.apiC=r,this.toastr=o,this.date="",this.cicles=[],this.submitSurveyData=()=>{this.ResetForm()}}ngOnInit(){this.sForm(),this.myForm.patchValue({date:(new Date).toISOString()}),this.apiC.GetCicleList().snapshotChanges().subscribe(e=>{e.forEach(i=>{const r=i.payload.val();this.cicles.push({id:r.id,status:r.status})})})}sForm(){this.myForm=this.fb.group({id:[null,[Ht.required]],date:["",[Ht.required]],cicle:["",[Ht.required]],priority:[null,[Ht.required]],status:[1],justification:["",[Ht.required]],petitioner:["",[Ht.required]],products:[]})}ResetForm(){this.myForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl),s.Y36(Mj),s.Y36(BM),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-new-requisition"]],decls:52,vars:10,consts:[["mat-dialog-title","",2,"margin-bottom","0.5rem"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"w-100","m-0"],[1,"row"],["appearance","fill",1,"col-sm-12","col-md-4"],["matInput","","type","number","formControlName","id","required",""],["matInput","","type","text","formControlName","petitioner","required",""],["matInput","","name","status","id","status","formControlName","status","required",""],[3,"value"],["matInput","","name","cicle","id","cicle","formControlName","cicle","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","priority","id","priority","formControlName","priority","required",""],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["appearance","fill",1,"col-sm-12"],["matInput","","rows","2","formControlName","justification","required","",2,"resize","none"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",1,"btn","btn-outline-info",3,"mat-dialog-close","disabled","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Nueva requisici\xf3n"),s.qZA(),s.TgZ(2,"form",1)(3,"mat-dialog-content",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),s._uU(7,"ID"),s.qZA(),s._UZ(8,"input",5),s.qZA(),s.TgZ(9,"mat-form-field",4)(10,"mat-label"),s._uU(11,"Solicitante"),s.qZA(),s._UZ(12,"input",6),s.qZA(),s.TgZ(13,"mat-form-field",4)(14,"mat-label"),s._uU(15,"Estatus"),s.qZA(),s.TgZ(16,"mat-select",7)(17,"mat-option",8),s._uU(18,"VoBo"),s.qZA()()(),s.TgZ(19,"mat-form-field",4)(20,"mat-label"),s._uU(21,"Ciclo"),s.qZA(),s.TgZ(22,"mat-select",9),s.YNc(23,foe,2,2,"mat-option",10),s.qZA()(),s.TgZ(24,"mat-form-field",4)(25,"mat-label"),s._uU(26,"Prioridad"),s.qZA(),s.TgZ(27,"mat-select",11)(28,"mat-option",8),s._uU(29,"Baja"),s.qZA(),s.TgZ(30,"mat-option",8),s._uU(31,"Media"),s.qZA(),s.TgZ(32,"mat-option",8),s._uU(33,"Alta"),s.qZA()()(),s.TgZ(34,"mat-form-field",4)(35,"mat-label"),s._uU(36,"Fecha"),s.qZA(),s._UZ(37,"input",12),s.TgZ(38,"mat-hint"),s._uU(39,"MM/DD/YYYY"),s.qZA(),s._UZ(40,"mat-datepicker-toggle",13)(41,"mat-datepicker",null,14),s.qZA(),s.TgZ(43,"mat-form-field",15)(44,"mat-label"),s._uU(45,"Justificaci\xf3n"),s.qZA(),s._UZ(46,"textarea",16),s.qZA()()(),s.TgZ(47,"mat-dialog-actions",17)(48,"button",18),s._uU(49,"Cancelar"),s.qZA(),s.TgZ(50,"button",19),s.NdJ("click",function(){return i.submitSurveyData()}),s._uU(51,"Guardar"),s.qZA()()()),2&e){const r=s.MAs(42);s.xp6(2),s.Q6J("formGroup",i.myForm),s.xp6(15),s.Q6J("value",1),s.xp6(6),s.Q6J("ngForOf",i.cicles),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(5),s.Q6J("matDatepicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(10),s.Q6J("mat-dialog-close",!0)("disabled",!i.myForm.valid)}},dependencies:[lr,$a,wo,b_,qa,za,Yo,os,Zo,Vr,Xl,ec,Ka,tc,Br,uK,Wo,fK,Kb,__,cs,soe,iF,doe]}),n})();const moe=["input"];function goe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",28),s._uU(1,"ID"),s.qZA())}function _oe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.id," ")}}function yoe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",29),s._uU(1,"Fecha"),s.qZA())}function voe(n,t){if(1&n&&(s.TgZ(0,"mat-cell",30),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij("",e.date," ")}}function boe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",30),s._uU(1,"Ciclo"),s.qZA())}function woe(n,t){if(1&n&&(s.TgZ(0,"mat-cell",30),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.cicle)}}function Coe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acci\xf3n "),s.qZA())}function Doe(n,t){1&n&&s._UZ(0,"mat-cell")}function Eoe(n,t){1&n&&s._UZ(0,"mat-header-row")}function Toe(n,t){1&n&&s._UZ(0,"mat-row")}const Soe=function(){return[10,20]};function Ioe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"mat-form-field")(4,"input",13),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.doFilter(r.target))}),s.qZA()()()(),s.TgZ(5,"mat-table",14),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(6,15),s.YNc(7,goe,2,0,"mat-header-cell",16),s.YNc(8,_oe,2,1,"mat-cell",17),s.BQk(),s.ynx(9,18),s.YNc(10,yoe,2,0,"mat-header-cell",19),s.YNc(11,voe,2,1,"mat-cell",20),s.BQk(),s.ynx(12,21),s.YNc(13,boe,2,0,"mat-header-cell",22),s.YNc(14,woe,2,1,"mat-cell",20),s.BQk(),s.ynx(15,23),s.YNc(16,Coe,2,0,"mat-header-cell",24),s.YNc(17,Doe,1,0,"mat-cell",17),s.BQk(),s.YNc(18,Eoe,1,0,"mat-header-row",25),s.YNc(19,Toe,1,0,"mat-row",26),s.qZA(),s._UZ(20,"mat-paginator",27),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("dataSource",e.dataSource),s.xp6(13),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,Soe))}}let Aoe=(()=>{class n{constructor(e,i,r){this.dialog=e,this.apiR=i,this.toastr=r,this.dataSource=new nw,this.data=!1,this.displayedColumns=["id","date","cicle","priority","situation","justification","action"],this.requisitions=[],this.doFilter=o=>{this.dataSource.filter=o.value.trim().toLocaleLowerCase()}}ngOnInit(){this.apiR.GetRequisitionList().snapshotChanges().subscribe(e=>{this.requisitions=[],e.forEach(i=>{const r=i.payload.val();this.requisitions.push({id:i.key,cicle:r.cicle,date:r.date,priority:r.priority,status:r.situation,justification:r.justification,petitioner:"",products:[]})}),this.requisitions.length>0&&(this.data=!0,this.dataSource.data=this.requisitions.slice()),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}sortData(e){const i=this.requisitions.slice();this.dataSource.data=e.active&&""!==e.direction?i.sort((r,o)=>{const c="asc"===e.direction;return"date"===e.active?this.compare(r.date.trim().toLocaleLowerCase(),o.date.trim().toLocaleLowerCase(),c):0}):i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}openDialog(){this.dialog.open(poe).afterClosed().subscribe(i=>{})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pf),s.Y36(Mj),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-requisitions"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Jl,5),s.Gf(Wa,7),s.Gf(moe,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.input=r.first)}},decls:14,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card","mt-2"],[1,"card-header"],[1,"navbar","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"btn","btn-outline-info","me-2",3,"click"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col","s4"],["matInput","","type","text","placeholder","Buscar",3,"keyup"],["matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","date"],["mat-sort-header","","class","pad-l",4,"matHeaderCellDef"],["class","pad-l",4,"matCellDef"],["matColumnDef","cicle"],["class","pad-l",4,"matHeaderCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],["mat-sort-header","",1,"pad-l"],[1,"pad-l"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"div",6)(7,"a",7),s._uU(8,"Gesti\xf3n de requisiciones"),s.qZA(),s._UZ(9,"div",8),s.TgZ(10,"div",8)(11,"button",9),s.NdJ("click",function(){return i.openDialog()}),s._uU(12,"Nueva requisici\xf3n"),s.qZA()()()()(),s.YNc(13,Ioe,21,5,"div",10),s.qZA()()()()),2&e&&(s.xp6(13),s.Q6J("ngIf",i.data))},dependencies:[Wt,Br,cs,Wa,Jb,S_,im,I_,rm,nm,A_,sm,om,x_,M_,Jl]}),n})(),$_=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.toastr=r}canActivate(e,i){return!0!==this.authService.isLoggedIn&&(this.toastr.warning("Necesita autenticarse!"),this.router.navigate(["login"])),!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(FD),s.LFG(hr),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xoe=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"",component:sie},{path:"products",component:Vre,canActivate:[$_]},{path:"providers",component:nse,canActivate:[$_]},{path:"classifications",component:Sne,canActivate:[$_]},{path:"requisitions",component:Aoe,canActivate:[$_]},{path:"cicles",component:jne,canActivate:[$_]},{path:"ranches",component:yse,canActivate:[$_]},{path:"company",component:nie,canActivate:[$_]},{path:"login",component:rie,canActivate:[(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.toastr=r}canActivate(e,i){return this.authService.isLoggedIn&&(console.log("secure autenticado"),this.toastr.info("Ya se ha autenticado!"),this.router.navigate([""])),!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(FD),s.LFG(hr),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];let Moe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[KL.forRoot(xoe),KL]}),n})();!function(){function n(t,e,i){this.el=t,this.vcr=e,this.renderer=i,this.dtOptions={}}n.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){t.displayTable(e)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(t){var e=this;t&&(this.dtOptions=t),this.dtInstance=new Promise(function(i,r){Promise.resolve(e.dtOptions).then(function(o){0===Object.keys(o).length&&0===$("tbody tr",e.el.nativeElement).length?r("Both the table and dtOptions cannot be empty"):setTimeout(function(){var d={rowCallback:function(p,y,w){if(o.columns){var E=o.columns;e.applyNgPipeTransform(p,E),e.applyNgRefTemplate(p,E,y)}o.rowCallback&&o.rowCallback(p,y,w)}};d=Object.assign({},o,d),e.dt=$(e.el.nativeElement).DataTable(d),i(e.dt)})})})},n.prototype.applyNgPipeTransform=function(t,e){e.filter(function(r){return r.ngPipeInstance&&!r.ngTemplateRef}).forEach(function(r){var o=r.ngPipeInstance,c=r.ngPipeArgs||[],d=e.findIndex(function(E){return E.data===r.data}),p=t.childNodes.item(d),y=$(p).text(),w=o.transform.apply(o,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([y],c,!1));$(p).text(w)})},n.prototype.applyNgRefTemplate=function(t,e,i){var r=this;e.filter(function(c){return c.ngTemplateRef&&!c.ngPipeInstance}).forEach(function(c){var d=c.ngTemplateRef,p=d.ref,y=d.context,w=e.findIndex(function(F){return F.data===c.data}),E=t.childNodes.item(w);$(E).html("");var M=Object.assign({},y,y?.userData,{adtData:i}),P=r.vcr.createEmbeddedView(p,M);r.renderer.appendChild(E,P.rootNodes[0])})},n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}();var Roe=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wi]}),n}();let Gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),$oe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qA,mn,iO,Gj,mn,Gj]}),n})();const qj_firebase={apiKey:"AIzaSyD6YftbYqUqZt8DMcHM8dIurrdcGlKzJug",authDomain:"charly-25ad7.firebaseapp.com",databaseURL:"https://charly-25ad7.firebaseio.com",projectId:"charly-25ad7",storageBucket:"charly-25ad7.appspot.com",messagingSenderId:"528131928587",appId:"1:528131928587:web:048325a65f462481"};let Zoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[k5]}),n.\u0275inj=s.cJS({providers:[FD,pc],imports:[Dn,MW,Moe,LO,lx,s$.forRoot(),En.hO.initializeApp(qj_firebase),A,bD,_ee,sne,Cre,Roe,nZ,aZ,MZ,_O,QY,$oe,_5,a9,Rx,jU,une,p7,H7,s7,tie,hoe,P4]}),n})();(0,s.G48)(),Bd().bootstrapModule(Zoe).catch(n=>console.error(n))},5867:(ht,xe,V)=>{V.d(xe,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=V(9681);(0,s.registerVersion)("firebase","9.9.1","app")},127:(ht,xe,V)=>{V.d(xe,{Z:()=>s.Z});var s=V(3942);s.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(ht,xe,V)=>{V.r(xe);var s=V(5861),re=V(3942),L=V(2090),de=V(9681),le=V(655),ge=V(1877),ie=V(4859);const Ee=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ge.Yd("@firebase/auth");function ut(v,...m){st.logLevel<=ge.in.ERROR&&st.error(`Auth (${de.SDK_VERSION}): ${v}`,...m)}function Re(v,...m){throw ze(v,...m)}function Ce(v,...m){return ze(v,...m)}function Se(v,m,_){const C=Object.assign(Object.assign({},lt()),{[m]:_});return new L.LL("auth","Firebase",C).create(m,{appName:v.name})}function Ge(v,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Re(v,"argument-error"),Se(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...m){if("string"!=typeof v){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return we.create(v,...m)}function Z(v,m,..._){if(!v)throw ze(m,..._)}function De(v){const m="INTERNAL ASSERTION FAILED: "+v;throw ut(m),new Error(m)}function X(v,m){v||De(m)}const ae=new Map;function oe(v){X(v instanceof Function,"Expected a class definition");let m=ae.get(v);return m?(X(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,ae.set(v,m),m)}function Ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function vt(){return"http:"===en()||"https:"===en()}function en(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Cn{constructor(m,_){this.shortDelay=m,this.longDelay=_,X(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ai(v,m){X(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Tn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void De("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void De("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void De("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fr=new Cn(3e4,6e4);function ln(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function Yt(v,m,_,C){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(v,m,_,C,x={}){return Ur(v,x,(0,s.Z)(function*(){let O={},J={};C&&("GET"===m?J=C:O={body:JSON.stringify(C)});const he=(0,L.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),Tn.fetch()(So(v,v.config.apiHost,_,he),Object.assign({method:m,headers:Be,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ur(v,m,_){return ar.apply(this,arguments)}function ar(){return(ar=(0,s.Z)(function*(v,m,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},fn),m);try{const x=new xr(v),O=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const J=yield O.json();if("needConfirmation"in J)throw ds(v,"account-exists-with-different-credential",J);if(O.ok&&!("errorMessage"in J))return J;{const he=O.ok?J.errorMessage:J.error.message,[Be,rt]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw ds(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Be)throw ds(v,"email-already-in-use",J);if("USER_DISABLED"===Be)throw ds(v,"user-disabled",J);const Dt=C[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Se(v,Dt,rt);Re(v,Dt)}}catch(x){if(x instanceof L.ZR)throw x;Re(v,"network-request-failed")}})).apply(this,arguments)}function Ar(v,m,_,C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,s.Z)(function*(v,m,_,C,x={}){const O=yield Yt(v,m,_,C,x);return"mfaPendingCredential"in O&&Re(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function So(v,m,_,C){const x=`${m}${_}?${C}`;return v.config.emulator?ai(v.config,x):`${v.config.apiScheme}://${x}`}class xr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Ce(this.auth,"network-request-failed")),fr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ds(v,m,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const x=Ce(v,m,C);return x.customData._tokenResponse=_,x}function Mr(){return(Mr=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function li(v,m){return $n.apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Os(v,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Kn(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ea(){return(ea=(0,s.Z)(function*(v,m=!1){const _=(0,L.m9)(v),C=yield _.getIdToken(m),x=Ze(C);Z(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,J=O?.sign_in_provider;return{claims:x,token:C,authTime:Kn(tn(x.auth_time)),issuedAtTime:Kn(tn(x.iat)),expirationTime:Kn(tn(x.exp)),signInProvider:J||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(v){return 1e3*Number(v)}function Ze(v){var m;const[_,C,x]=v.split(".");if(void 0===_||void 0===C||void 0===x)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,L.tV)(C);return O?JSON.parse(O):(ut("Failed to decode base64 JWT payload"),null)}catch(O){return ut("Caught error parsing JWT payload as JSON",null===(m=O)||void 0===m?void 0:m.toString()),null}}function pr(v,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(v,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof L.ZR&&Pt(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function Pt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class jr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,s.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Mi{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hs(v){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(v){var m;const _=v.auth,C=yield v.getIdToken(),x=yield pr(v,Os(_,{idToken:C}));Z(x?.users.length,_,"internal-error");const O=x.users[0];v._notifyReloadListener(O);const J=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?H(O.providerUserInfo):[],he=Y(v.providerData,J),Dt=!!v.isAnonymous&&!(v.email&&O.passwordHash||he?.length),yt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:he,metadata:new Mi(O.createdAt,O.lastLoginAt),isAnonymous:Dt};Object.assign(v,yt)})).apply(this,arguments)}function G(){return(G=(0,s.Z)(function*(v){const m=(0,L.m9)(v);yield hs(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Y(v,m){return[...v.filter(C=>!m.some(x=>x.providerId===C.providerId)),...m]}function H(v){return v.map(m=>{var{providerId:_}=m,C=(0,le._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function K(){return(K=(0,s.Z)(function*(v,m){const _=yield Ur(v,{},(0,s.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:x,apiKey:O}=v.config,J=So(v,x,"/v1/token",`key=${O}`),he=yield v._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(J,{method:"POST",headers:he,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Z(m.idToken,"internal-error"),Z(typeof m.idToken<"u","internal-error"),Z(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function kt(v){const m=Ze(v);return Z(m,"internal-error"),Z(typeof m.exp<"u","internal-error"),Z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,s.Z)(function*(){return Z(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,s.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:J}=yield function W(v,m){return K.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(x,O,Number(J))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:x,expirationTime:O}=_,J=new Me;return C&&(Z("string"==typeof C,"internal-error",{appName:m}),J.refreshToken=C),x&&(Z("string"==typeof x,"internal-error",{appName:m}),J.accessToken=x),O&&(Z("number"==typeof O,"internal-error",{appName:m}),J.expirationTime=O),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return De("not implemented")}}function Ye(v,m){Z("string"==typeof v||typeof v>"u","internal-error",{appName:m})}class pt{constructor(m){var{uid:_,auth:C,stsTokenManager:x}=m,O=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Mi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const C=yield pr(_,_.stsTokenManager.getToken(_.auth,m));return Z(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Hr(v){return ea.apply(this,arguments)}(this,m)}reload(){return function kr(v){return G.apply(this,arguments)}(this)}_assign(m){this!==m&&(Z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new pt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,s.Z)(function*(){let x=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),x=!0),_&&(yield hs(C)),yield C.auth._persistUserIfCurrent(C),x&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield pr(m,function bt(v,m){return Mr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,x,O,J,he,Be,rt,Dt;const yt=null!==(C=_.displayName)&&void 0!==C?C:void 0,Ti=null!==(x=_.email)&&void 0!==x?x:void 0,Xr=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,eh=null!==(J=_.photoURL)&&void 0!==J?J:void 0,th=null!==(he=_.tenantId)&&void 0!==he?he:void 0,Zc=null!==(Be=_._redirectEventId)&&void 0!==Be?Be:void 0,np=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,ig=null!==(Dt=_.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Yc,emailVerified:nh,isAnonymous:Ey,providerData:ip,stsTokenManager:nd}=_;Z(Yc&&nd,m,"internal-error");const kw=Me.fromJSON(this.name,nd);Z("string"==typeof Yc,m,"internal-error"),Ye(yt,m.name),Ye(Ti,m.name),Z("boolean"==typeof nh,m,"internal-error"),Z("boolean"==typeof Ey,m,"internal-error"),Ye(Xr,m.name),Ye(eh,m.name),Ye(th,m.name),Ye(Zc,m.name),Ye(np,m.name),Ye(ig,m.name);const ih=new pt({uid:Yc,auth:m,email:Ti,emailVerified:nh,displayName:yt,isAnonymous:Ey,photoURL:eh,phoneNumber:Xr,tenantId:th,stsTokenManager:kw,createdAt:np,lastLoginAt:ig});return ip&&Array.isArray(ip)&&(ih.providerData=ip.map(Rw=>Object.assign({},Rw))),Zc&&(ih._redirectEventId=Zc),ih}static _fromIdTokenResponse(m,_,C=!1){return(0,s.Z)(function*(){const x=new Me;x.updateFromServerResponse(_);const O=new pt({uid:_.localId,auth:m,stsTokenManager:x,isAnonymous:C});return yield hs(O),O})()}}const cn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,C){var x=this;return(0,s.Z)(function*(){x.storage[_]=C})()}_get(_){var C=this;return(0,s.Z)(function*(){const x=C.storage[_];return void 0===x?null:x})()}_remove(_){var C=this;return(0,s.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function Ui(v,m,_){return`firebase:${v}:${m}:${_}`}class qt{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:x,name:O}=this.auth;this.fullUserKey=Ui(this.userKey,x.apiKey,O),this.fullPersistenceKey=Ui("persistence",x.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?pt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,s.Z)(function*(){if(!_.length)return new qt(oe(cn),m,C);const x=(yield Promise.all(_.map(function(){var rt=(0,s.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=x[0]||oe(cn);const J=Ui(C,m.config.apiKey,m.name);let he=null;for(const rt of _)try{const Dt=yield rt._get(J);if(Dt){const yt=pt._fromJSON(m,Dt);rt!==O&&(he=yt),O=rt;break}}catch{}const Be=x.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&Be.length?(O=Be[0],he&&(yield O._set(J,he.toJSON())),yield Promise.all(_.map(function(){var rt=(0,s.Z)(function*(Dt){if(Dt!==O)try{yield Dt._remove(J)}catch{}});return function(Dt){return rt.apply(this,arguments)}}())),new qt(O,m,C)):new qt(O,m,C)})()}}function jt(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(mr(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Hn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Nt(m))return"Blackberry";if(gn(m))return"Webos";if(vi(m))return"Safari";if((m.includes("chrome/")||Qi(m))&&!m.includes("edge/"))return"Chrome";if(We(m))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Hn(v=(0,L.z$)()){return/firefox\//i.test(v)}function vi(v=(0,L.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Qi(v=(0,L.z$)()){return/crios\//i.test(v)}function mr(v=(0,L.z$)()){return/iemobile/i.test(v)}function We(v=(0,L.z$)()){return/android/i.test(v)}function Nt(v=(0,L.z$)()){return/blackberry/i.test(v)}function gn(v=(0,L.z$)()){return/webos/i.test(v)}function Zn(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function jn(v=(0,L.z$)()){return Zn(v)||We(v)||gn(v)||Nt(v)||/windows phone/i.test(v)||mr(v)}function fs(v,m=[]){let _;switch(v){case"Browser":_=jt((0,L.z$)());break;case"Worker":_=`${jt((0,L.z$)())}-${v}`;break;default:_=v}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${C}`}class Bt{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=O=>new Promise((J,he)=>{try{J(m(O))}catch(Be){he(Be)}});C.onAbort=_,this.queue.push(C);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){var C;if(_.auth.currentUser===m)return;const x=[];try{for(const O of _.queue)yield O(m),O.onAbort&&x.push(O.onAbort)}catch(O){x.reverse();for(const J of x)try{J()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=O)||void 0===C?void 0:C.message})}})()}}class gu{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new il(this),this.idTokenSubscription=new il(this),this.beforeStateQueue=new Bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=oe(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var x,O;if(!C._deleted&&(C.persistenceManager=yield qt.create(C,m),!C._deleted)){if(null!==(x=C._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(O=C.currentUser)||void 0===O?void 0:O.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var C;const x=yield _.assertedPersistence.getCurrentUser();let O=x,J=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Be=O?._redirectEventId,rt=yield _.tryRedirectSignIn(m);(!he||he===Be)&&rt?.user&&(O=rt.user,J=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(O)}catch(he){O=x,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return Z(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){var C;try{yield hs(m)}catch(x){if("auth/network-request-failed"!==(null===(C=x)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Je(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const C=m?(0,L.m9)(m):null;return C&&Z(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return m&&Z(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(oe(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,s.Z)(function*(){const x=yield C.getOrInitRedirectPersistenceManager(_);return null===m?x.removeCurrentUser():x.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&oe(m)||_._popupRedirectResolver;Z(C,_,"argument-error"),_.redirectPersistenceManager=yield qt.create(_,[oe(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var C,x;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,x){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(J,this,"internal-error"),J.then(()=>O(this.currentUser)),"function"==typeof _?m.addObserver(_,C,x):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const x=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return x&&(C["X-Firebase-Client"]=x),C})()}}function Gn(v){return(0,L.m9)(v)}class il{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bi(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function Ws(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class Gr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return De("not implemented")}_getIdTokenResponse(m){return De("not implemented")}_linkToIdToken(m,_){return De("not implemented")}_getReauthenticationResolver(m){return De("not implemented")}}function Ji(v,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:resetPassword",ln(v,m))})).apply(this,arguments)}function bf(v,m){return na.apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function cc(v,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:update",ln(v,m))})).apply(this,arguments)}function uc(){return(uc=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithPassword",ln(v,m))})).apply(this,arguments)}function lr(v,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:sendOobCode",ln(v,m))})).apply(this,arguments)}function Em(v,m){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(v,m){return lr(v,m)})).apply(this,arguments)}function Rr(v,m){return dc.apply(this,arguments)}function dc(){return(dc=(0,s.Z)(function*(v,m){return lr(v,m)})).apply(this,arguments)}function hc(v,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(v,m){return lr(v,m)})).apply(this,arguments)}function Or(v,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(v,m){return lr(v,m)})).apply(this,arguments)}function _u(){return(_u=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithEmailLink",ln(v,m))})).apply(this,arguments)}function wf(){return(wf=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithEmailLink",ln(v,m))})).apply(this,arguments)}class fc extends Gr{constructor(m,_,C,x=null){super("password",C),this._email=m,this._password=_,this._tenantId=x}static _fromEmailAndPassword(m,_){return new fc(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new fc(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function Ao(v,m){return uc.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function YE(v,m){return _u.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Re(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return bf(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Tm(v,m){return wf.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Re(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ra(v,m){return qr.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithIdp",ln(v,m))})).apply(this,arguments)}class Ks extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Ks(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:x}=_,O=(0,le._T)(_,["providerId","signInMethod"]);if(!C||!x)return null;const J=new Ks(C,x);return J.idToken=O.idToken||void 0,J.accessToken=O.accessToken||void 0,J.secret=O.secret,J.nonce=O.nonce,J.pendingToken=O.pendingToken||null,J}_getIdTokenResponse(m){return ra(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,ra(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,ra(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,L.xO)(_)}return m}}function K_(v,m){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:sendVerificationCode",ln(v,m))})).apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithPhoneNumber",ln(v,m))})).apply(this,arguments)}function Df(){return(Df=(0,s.Z)(function*(v,m){const _=yield Ar(v,"POST","/v1/accounts:signInWithPhoneNumber",ln(v,m));if(_.temporaryProof)throw ds(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const J_={USER_NOT_FOUND:"user-not-found"};function vu(){return(vu=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithPhoneNumber",ln(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),J_)})).apply(this,arguments)}class Qs extends Gr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Qs({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Qs({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function yu(v,m){return xo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Q_(v,m){return Df.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function X_(v,m){return vu.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:x}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:x}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:x,temporaryProof:O}=m;return C||_||x||O?new Qs({verificationId:_,verificationCode:C,phoneNumber:x,temporaryProof:O}):null}}class bu{constructor(m){var _,C,x,O,J,he;const Be=(0,L.zd)((0,L.pd)(m)),rt=null!==(_=Be.apiKey)&&void 0!==_?_:null,Dt=null!==(C=Be.oobCode)&&void 0!==C?C:null,yt=function bw(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Be.mode)&&void 0!==x?x:null);Z(rt&&Dt&&yt,"argument-error"),this.apiKey=rt,this.operation=yt,this.code=Dt,this.continueUrl=null!==(O=Be.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(J=Be.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(he=Be.tenantId)&&void 0!==he?he:null}static parseLink(m){const _=function Ef(v){const m=(0,L.zd)((0,L.pd)(v)).link,_=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||_||m||v}(m);try{return new bu(_)}catch{return null}}}let Od=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return fc._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const x=bu.parseLink(C);return Z(x,"argument-error"),fc._fromEmailAndCode(_,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class zr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ko extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ol extends ko{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Z("providerId"in _&&"signInMethod"in _,"argument-error"),Ks._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Z(m.idToken||m.accessToken,"argument-error"),Ks._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ol.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ol.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:x,pendingToken:O,nonce:J,providerId:he}=m;if(!C&&!x&&!_&&!O||!he)return null;try{return new ol(he)._credential({idToken:_,accessToken:C,nonce:J,pendingToken:O})}catch{return null}}}let pc=(()=>{class v extends ko{constructor(){super("facebook.com")}static credential(_){return Ks._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),mc=(()=>{class v extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Ks._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:x}=_;if(!C&&!x)return null;try{return v.credential(C,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),gc=(()=>{class v extends ko{constructor(){super("github.com")}static credential(_){return Ks._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class al extends Gr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return ra(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,ra(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,ra(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:x,pendingToken:O}=_;return C&&x&&O&&C===x?new al(C,O):null}static _create(m,_){return new al(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class On extends zr{constructor(m){Z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return On.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return On.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=al.fromJSON(m);return Z(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return al._create(C,_)}catch{return null}}}let wu=(()=>{class v extends ko{constructor(){super("twitter.com")}static credential(_,C){return Ks._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:x}=_;if(!C||!x)return null;try{return v.credential(C,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Cu(v,m){return _c.apply(this,arguments)}function _c(){return(_c=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signUp",ln(v,m))})).apply(this,arguments)}class Pr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,x=!1){return(0,s.Z)(function*(){const O=yield pt._fromIdTokenResponse(m,C,x),J=Tf(C);return new Pr({user:O,providerId:J,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const x=Tf(C);return new Pr({user:m,providerId:x,_tokenResponse:C,operationType:_})})()}}function Tf(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Sf(){return(Sf=(0,s.Z)(function*(v){var m;const _=Gn(v);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Pr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Cu(_,{returnSecureToken:!0}),x=yield Pr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class If extends L.ZR{constructor(m,_,C,x){var O;super(_.code,_.message),this.operationType=C,this.user=x,Object.setPrototypeOf(this,If.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,x){return new If(m,_,C,x)}}function yc(v,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?If._fromErrorAndOperation(v,O,m,C):O})}function Ci(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function sa(){return(sa=(0,s.Z)(function*(v,m){const _=(0,L.m9)(v);yield oa(!0,_,m);const{providerUserInfo:C}=yield li(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),x=Ci(C||[]);return _.providerData=_.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Ro(v,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,s.Z)(function*(v,m,_=!1){const C=yield pr(v,m._linkToIdToken(v.auth,yield v.getIdToken()),_);return Pr._forOperation(v,"link",C)})).apply(this,arguments)}function oa(v,m,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,s.Z)(function*(v,m,_){yield hs(m);const x=!1===v?"provider-already-linked":"no-such-provider";Z(Ci(m.providerData).has(_)===v,m.auth,x)})).apply(this,arguments)}function ll(v,m){return $r.apply(this,arguments)}function $r(){return($r=(0,s.Z)(function*(v,m,_=!1){var C;const{auth:x}=v,O="reauthenticate";try{const J=yield pr(v,yc(x,O,m,v),_);Z(J.idToken,x,"internal-error");const he=Ze(J.idToken);Z(he,x,"internal-error");const{sub:Be}=he;return Z(v.uid===Be,x,"user-mismatch"),Pr._forOperation(v,O,J)}catch(J){throw"auth/user-not-found"===(null===(C=J)||void 0===C?void 0:C.code)&&Re(x,"user-mismatch"),J}})).apply(this,arguments)}function Oo(v,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,s.Z)(function*(v,m,_=!1){const C="signIn",x=yield yc(v,C,m),O=yield Pr._fromIdTokenResponse(v,C,x);return _||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function ot(v,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,s.Z)(function*(v,m){return Oo(Gn(v),m)})).apply(this,arguments)}function Pd(v,m){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,s.Z)(function*(v,m){const _=(0,L.m9)(v);return yield oa(!1,_,m.providerId),Ro(_,m)})).apply(this,arguments)}function Tu(v,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(v,m){return ll((0,L.m9)(v),m)})).apply(this,arguments)}function la(v,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(v,m){return Ar(v,"POST","/v1/accounts:signInWithCustomToken",ln(v,m))})).apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(v,m){const _=Gn(v),C=yield la(_,{token:m,returnSecureToken:!0}),x=yield Pr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Gt{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?ul._fromServerResponse(m,_):Re(m,"internal-error")}}class ul extends Gt{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new ul(_)}}function ca(v,m,_){var C;Z((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),Z(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Z(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Z(_.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function dl(){return(dl=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v),x={requestType:"PASSWORD_RESET",email:m};_&&ca(C,x,_),yield Rr(C,x)})).apply(this,arguments)}function Zr(){return(Zr=(0,s.Z)(function*(v,m,_){yield Ji((0,L.m9)(v),{oobCode:m,newPassword:_})})).apply(this,arguments)}function hl(){return(hl=(0,s.Z)(function*(v,m){yield cc((0,L.m9)(v),{oobCode:m})})).apply(this,arguments)}function fl(v,m){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(v,m){const _=(0,L.m9)(v),C=yield Ji(_,{oobCode:m}),x=C.requestType;switch(Z(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(C.mfaInfo,_,"internal-error");default:Z(C.email,_,"internal-error")}let O=null;return C.mfaInfo&&(O=Gt._fromServerResponse(Gn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(v,m){const{data:_}=yield fl((0,L.m9)(v),m);return _.email})).apply(this,arguments)}function ps(){return(ps=(0,s.Z)(function*(v,m,_){const C=Gn(v),x=yield Cu(C,{returnSecureToken:!0,email:m,password:_}),O=yield Pr._fromIdTokenResponse(C,"signIn",x);return yield C._updateCurrentUser(O.user),O})).apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v),x={requestType:"EMAIL_SIGNIN",email:m};Z(_.handleCodeInApp,C,"argument-error"),_&&ca(C,x,_),yield hc(C,x)})).apply(this,arguments)}function pl(){return(pl=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v),x=Od.credentialWithLink(m,_||Ve());return Z(x._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ot(C,x)})).apply(this,arguments)}function Am(v,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:createAuthUri",ln(v,m))})).apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(v,m){const C={identifier:m,continueUri:vt()?Ve():"http://localhost"},{signinMethods:x}=yield Am((0,L.m9)(v),C);return x||[]})).apply(this,arguments)}function Ld(){return(Ld=(0,s.Z)(function*(v,m){const _=(0,L.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&ca(_.auth,x,m);const{email:O}=yield Em(_.auth,x);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};_&&ca(C.auth,O,_);const{email:J}=yield Or(C.auth,O);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function Vd(v,m){return xu.apply(this,arguments)}function xu(){return(xu=(0,s.Z)(function*(v,m){return Yt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(v,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,L.m9)(v),O={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},J=yield pr(C,Vd(C.auth,O));C.displayName=J.displayName||null,C.photoURL=J.photoUrl||null;const he=C.providerData.find(({providerId:Be})=>"password"===Be);he&&(he.displayName=C.displayName,he.photoURL=C.photoURL),yield C._updateTokensIfNecessary(J)})).apply(this,arguments)}function Ou(v,m,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(v,m,_){const{auth:C}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(O.email=m),_&&(O.password=_);const J=yield pr(v,bf(C,O));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Dn{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Mf extends Dn{constructor(m,_,C,x){super(m,_,C),this.username=x}}class kf extends Dn{constructor(m,_){super(m,"facebook.com",_)}}class Ud extends Mf{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class xm extends Dn{constructor(m,_){super(m,"google.com",_)}}class Pu extends Mf{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Mm(v){const{user:m,_tokenResponse:_}=v;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function eo(v){var m,_;if(!v)return null;const{providerId:C}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const J=null===(_=null===(m=Ze(v.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new Dn(O,"anonymous"!==J&&"custom"!==J?J:null)}if(!C)return null;switch(C){case"facebook.com":return new kf(O,x);case"github.com":return new Ud(O,x);case"google.com":return new xm(O,x);case"twitter.com":return new Pu(O,x,v.screenName||null);case"custom":case"anonymous":return new Dn(O,null);default:return new Dn(O,C,x)}}(_)}class vl{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new vl("enroll",m)}static _fromMfaPendingCredential(m){return new vl("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return vl._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return vl._fromIdtoken(m.multiFactorSession.idToken)}return null}}class pa{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Gn(m),x=_.customData._serverResponse,O=(x.mfaInfo||[]).map(he=>Gt._fromServerResponse(C,he));Z(x.mfaPendingCredential,C,"internal-error");const J=vl._fromMfaPendingCredential(x.mfaPendingCredential);return new pa(J,O,function(){var he=(0,s.Z)(function*(Be){const rt=yield Be._process(C,J);delete x.mfaInfo,delete x.mfaPendingCredential;const Dt=Object.assign(Object.assign({},x),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const yt=yield Pr._fromIdTokenResponse(C,_.operationType,Dt);return yield C._updateCurrentUser(yt.user),yt;case"reauthenticate":return Z(_.user,C,"internal-error"),Pr._forOperation(_.user,_.operationType,Dt);default:Re(C,"internal-error")}});return function(Be){return he.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function Pf(v,m){return Yt(v,"POST","/v2/accounts/mfaEnrollment:start",ln(v,m))}class Rm{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Gt._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Rm(m)}getSession(){var m=this;return(0,s.Z)(function*(){return vl._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,s.Z)(function*(){const x=m,O=yield C.getSession(),J=yield pr(C.user,x._process(C.user.auth,O,_));return yield C.user._updateTokensIfNecessary(J),C.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){var C;const x="string"==typeof m?m:m.uid,O=yield _.user.getIdToken(),J=yield pr(_.user,function ty(v,m){return Yt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(v,m))}(_.user.auth,{idToken:O,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:he})=>he!==x),yield _.user._updateTokensIfNecessary(J);try{yield _.user.reload()}catch(he){if("auth/user-token-expired"!==(null===(C=he)||void 0===C?void 0:C.code))throw he}})()}}const ma=new WeakMap,ga="__sak";class Lu{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ga,"1"),this.storage.removeItem(ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Po=(()=>{class v extends Lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pm(){const v=(0,L.z$)();return vi(v)||Zn(v)}()&&function lc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const x=this.storage.getItem(C),O=this.localCache[C];x!==O&&_(C,O,x)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((he,Be,rt)=>{this.notifyListeners(he,rt)});const x=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(x);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!C)return}const O=()=>{const he=this.storage.getItem(x);!C&&this.localCache[x]===he||this.notifyListeners(x,he)},J=this.storage.getItem(x);!function Io(){return(0,L.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,C){this.localCache[_]=C;const x=this.listeners[_];if(x)for(const O of Array.from(x))O(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var x=()=>super._set,O=this;return(0,s.Z)(function*(){yield x().call(O,_,C),O.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,x=this;return(0,s.Z)(function*(){const O=yield C().call(x,_);return x.localCache[_]=JSON.stringify(O),O})()}_remove(_){var C=()=>super._remove,x=this;return(0,s.Z)(function*(){yield C().call(x,_),delete x.localCache[_]})()}}return v.type="LOCAL",v})(),_s=(()=>{class v extends Lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let Fm=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(O=>O.isListeningto(_));if(C)return C;const x=new v(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,s.Z)(function*(){const x=_,{eventId:O,eventType:J,data:he}=x.data,Be=C.handlersMap[J];if(!Be?.size)return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:J});const rt=Array.from(Be).map(function(){var yt=(0,s.Z)(function*(Ti){return Ti(x.origin,he)});return function(Ti){return yt.apply(this,arguments)}}()),Dt=yield function Nf(v){return Promise.all(v.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(rt);x.ports[0].postMessage({status:"done",eventId:O,eventType:J,response:Dt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ys(v="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return v+_}class Xn{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var x=this;return(0,s.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let J,he;return new Promise((Be,rt)=>{const Dt=ys("",20);O.port1.start();const yt=setTimeout(()=>{rt(new Error("unsupported_event"))},C);he={messageChannel:O,onMessage(Ti){const Xr=Ti;if(Xr.data.eventId===Dt)switch(Xr.data.status){case"ack":clearTimeout(yt),J=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Be(Xr.data.response);break;default:clearTimeout(yt),clearTimeout(J),rt(new Error("invalid_response"))}}},x.handlers.add(he),O.port1.addEventListener("message",he.onMessage),x.target.postMessage({eventType:m,eventId:Dt,data:_},[O.port2])}).finally(()=>{he&&x.removeMessageHandler(he)})})()}}function mt(){return window}function He(){return typeof mt().WorkerGlobalScope<"u"&&"function"==typeof mt().importScripts}function no(){return(no=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pn="firebaseLocalStorageDb",pn="firebaseLocalStorage",Tc="fbase_key";class $e{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Bu(v,m){return v.transaction([pn],m?"readwrite":"readonly").objectStore(pn)}function Wr(){const v=indexedDB.open(Pn,1);return new Promise((m,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(pn,{keyPath:Tc})}catch(x){_(x)}}),v.addEventListener("success",(0,s.Z)(function*(){const C=v.result;C.objectStoreNames.contains(pn)?m(C):(C.close(),yield function Yr(){const v=indexedDB.deleteDatabase(Pn);return new $e(v).toPromise()}(),m(yield Wr()))}))})}function io(v,m,_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,s.Z)(function*(v,m,_){const C=Bu(v,!0).put({[Tc]:m,value:_});return new $e(C).toPromise()})).apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(v,m){const _=Bu(v,!1).get(m),C=yield new $e(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ff(v,m){const _=Bu(v,!0).delete(m);return new $e(_).toPromise()}const ji=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield Wr()),_.db})()}_withRetries(_){var C=this;return(0,s.Z)(function*(){let x=0;for(;;)try{const O=yield C._openDb();return yield _(O)}catch(O){if(x++>3)throw O;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return He()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Fm._getInstance(function _a(){return He()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(x,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(x,O){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var C,x;if(_.activeServiceWorker=yield function Kt(){return no.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Xn(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);!O||(null===(C=O[0])||void 0===C?void 0:C.fulfilled)&&(null===(x=O[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Vu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Wr();return yield io(_,ga,"1"),yield Ff(_,ga),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var x=this;return(0,s.Z)(function*(){return x._withPendingWrite((0,s.Z)(function*(){return yield x._withRetries(O=>io(O,_,C)),x.localCache[_]=C,x.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,s.Z)(function*(){const x=yield C._withRetries(O=>function Qt(v,m){return En.apply(this,arguments)}(O,_));return C.localCache[_]=x,x})()}_remove(_){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(x=>Ff(x,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const C=yield _._withRetries(J=>{const he=Bu(J,!1).getAll();return new $e(he).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:J,value:he}of C)O.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(he)&&(_.notifyListeners(J,he),x.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!O.has(J)&&(_.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(_,C){this.localCache[_]=C;const x=this.listeners[_];if(x)for(const O of Array.from(x))O(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function cr(v,m){return Yt(v,"POST","/v2/accounts/mfaSignIn:start",ln(v,m))}function Gi(){return(Gi=(0,s.Z)(function*(v){return(yield Yt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ro(v){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=m,C.onerror=x=>{const O=Ce("internal-error");O.customData=x,_(O)},C.type="text/javascript",C.charset="UTF-8",function it(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(C)})}function Ct(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Jt=1e12;class ny{constructor(m){this.auth=m,this.counter=Jt,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new Lf(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||Jt;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Jt))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var C;return null===(C=_._widgets.get(m||Jt))||void 0===C||C.execute(),""})()}}class Lf{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof m?document.getElementById(m):m;Z(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function iy(v){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lm=Ct("rcb"),ry=new Cn(3e4,6e4);class Ic{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=mt().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return Z(function ui(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(mt().grecaptcha):new Promise((C,x)=>{const O=mt().setTimeout(()=>{x(Ce(m,"network-request-failed"))},ry.get());mt()[Lm]=()=>{mt().clearTimeout(O),delete mt()[Lm];const he=mt().grecaptcha;if(!he)return void x(Ce(m,"internal-error"));const Be=he.render;he.render=(rt,Dt)=>{const yt=Be(rt,Dt);return this.counter++,yt},this.hostLanguage=_,C(he)},ro(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Lm,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),x(Ce(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=mt().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bl{load(m){return(0,s.Z)(function*(){return new ny(m)})()}clearedOneInstance(){}}const sy="recaptcha",Oi={theme:"light",type:"image"};class jd{constructor(m,_=Object.assign({},Oi),C){this.parameters=_,this.type=sy,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(C),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof m?document.getElementById(m):m;Z(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bl:new Ic,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(O=>{const J=he=>{!he||(m.tokenChangeListeners.delete(J),O(he))};m.tokenChangeListeners.add(J),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=mt()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){Z(vt()&&!He(),m.auth,"internal-error"),yield function wl(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function _r(v){return Gi.apply(this,arguments)}(m.auth);Z(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vm{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Qs._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Pi(){return(Pi=(0,s.Z)(function*(v,m,_){const C=Gn(v),x=yield Ei(C,m,(0,L.m9)(_));return new Vm(x,O=>ot(C,O))})).apply(this,arguments)}function Ac(){return(Ac=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v);yield oa(!1,C,"phone");const x=yield Ei(C.auth,m,(0,L.m9)(_));return new Vm(x,O=>Pd(C,O))})).apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v),x=yield Ei(C.auth,m,(0,L.m9)(_));return new Vm(x,O=>Tu(C,O))})).apply(this,arguments)}function Ei(v,m,_){return ju.apply(this,arguments)}function ju(){return(ju=(0,s.Z)(function*(v,m,_){var C;const x=yield _.verify();try{let O;if(Z("string"==typeof x,v,"argument-error"),Z(_.type===sy,v,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const J=O.session;if("phoneNumber"in O)return Z("enroll"===J.type,v,"internal-error"),(yield Pf(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Z("signin"===J.type,v,"internal-error");const he=(null===(C=O.multiFactorHint)||void 0===C?void 0:C.uid)||O.multiFactorUid;return Z(he,v,"missing-multi-factor-info"),(yield cr(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield K_(v,{phoneNumber:O.phoneNumber,recaptchaToken:x});return J}}finally{_._reset()}})).apply(this,arguments)}function Gu(){return(Gu=(0,s.Z)(function*(v,m){yield Ro((0,L.m9)(v),m)})).apply(this,arguments)}let xc=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Gn(_)}verifyPhoneNumber(_,C){return Ei(this.auth,_,(0,L.m9)(C))}static credential(_,C){return Qs._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:x}=_;return C&&x?Qs._fromTokenResponse(C,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Fs(v,m){return m?oe(m):(Z(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class tr extends Gr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ra(m,this._buildIdpRequest())}_linkToIdToken(m,_){return ra(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return ra(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Mc(v){return Oo(v.auth,new tr(v),v.bypassAuthState)}function No(v){const{auth:m,user:_}=v;return Z(_,m,"internal-error"),ll(_,new tr(v),v.bypassAuthState)}function Vf(v){return bs.apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(v){const{auth:m,user:_}=v;return Z(_,m,"internal-error"),Ro(_,new tr(v),v.bypassAuthState)})).apply(this,arguments)}class kc{constructor(m,_,C,x,O=!1){this.auth=m,this.resolver=C,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(C,x){m.pendingPromise={resolve:C,reject:x};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(C,x){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:x,postBody:O,tenantId:J,error:he,type:Be}=m;if(he)return void _.reject(he);const rt={auth:_.auth,requestUri:C,sessionId:x,tenantId:J||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Be)(rt))}catch(Dt){_.reject(Dt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Mc;case"linkViaPopup":case"linkViaRedirect":return Vf;case"reauthViaPopup":case"reauthViaRedirect":return No;default:Re(this.auth,"internal-error")}}resolve(m){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rc=new Cn(2e3,1e4);function Oc(){return(Oc=(0,s.Z)(function*(v,m,_){const C=Gn(v);Ge(v,m,zr);const x=Fs(C,_);return new $u(C,"signInViaPopup",m,x).executeNotNull()})).apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v);Ge(C.auth,m,zr);const x=Fs(C.auth,_);return new $u(C.auth,"reauthViaPopup",m,x,C).executeNotNull()})).apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v);Ge(C.auth,m,zr);const x=Fs(C.auth,_);return new $u(C.auth,"linkViaPopup",m,x,C).executeNotNull()})).apply(this,arguments)}let $u=(()=>{class v extends kc{constructor(_,C,x,O,J){super(_,C,O,J),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const C=yield _.execute();return Z(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,s.Z)(function*(){X(1===_.filter.length,"Popup operations only handle one event");const C=ys();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(Ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,x;this.pollId=null!==(x=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Rc.get())};_()}}return v.currentPopupAction=null,v})();const Lo=new Map;class Cl extends kc{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let C=Lo.get(_.auth._key());if(!C){try{const O=(yield function Bf(v,m){return oo.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(O)}catch(x){C=()=>Promise.reject(x)}Lo.set(_.auth._key(),C)}return _.bypassAuthState||Lo.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const x=yield C.auth._redirectUserForId(m.eventId);if(x)return C.user=x,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function oo(){return(oo=(0,s.Z)(function*(v,m){const _=ti(m),C=va(v);if(!(yield C._isAvailable()))return!1;const x="true"===(yield C._get(_));return yield C._remove(_),x})).apply(this,arguments)}function qd(v,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(v,m){return va(v)._set(ti(m),"true")})).apply(this,arguments)}function ya(v,m){Lo.set(v._key(),m)}function va(v){return oe(v._redirectPersistence)}function ti(v){return Ui("pendingRedirect",v.config.apiKey,v.name)}function S(){return(S=(0,s.Z)(function*(v,m,_){const C=Gn(v);Ge(v,m,zr);const x=Fs(C,_);return yield qd(x,C),x._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v);Ge(C.auth,m,zr);const x=Fs(C.auth,_);yield qd(x,C.auth);const O=yield gt(C);return x._openRedirect(C.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function Ae(){return(Ae=(0,s.Z)(function*(v,m,_){const C=(0,L.m9)(v);Ge(C.auth,m,zr);const x=Fs(C.auth,_);yield oa(!1,C,m.providerId),yield qd(x,C.auth);const O=yield gt(C);return x._openRedirect(C.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(v,m){return yield Gn(v)._initializationPromise,Rt(v,m,!1)})).apply(this,arguments)}function Rt(v,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(v,m,_=!1){const C=Gn(v),x=Fs(C,m),J=yield new Cl(C,x,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield C._persistUserIfCurrent(J.user),yield C._setRedirectUser(null,m)),J})).apply(this,arguments)}function gt(v){return ni.apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(v){const m=ys(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class ba{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ii(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bn(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!bn(m)){const x=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Ce(this.auth,x))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vo(m))}saveEventToCache(m){this.cachedEventUids.add(Vo(m)),this.lastProcessedEventTime=Date.now()}}function Vo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function bn({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===m?.code}function wa(v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(v,m={}){return Yt(v,"GET","/v1/projects",m)})).apply(this,arguments)}const Uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dl=/^https?/;function Hm(){return(Hm=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield wa(v);for(const _ of m)try{if(ww(_))return}catch{}Re(v,"unauthorized-domain")})).apply(this,arguments)}function ww(v){const m=Ve(),{protocol:_,hostname:C}=new URL(m);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===C}if(!Dl.test(_))return!1;if(Uo.test(v))return C===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(C)}const jm=new Cn(3e4,6e4);function Nc(){const v=mt().___jsl;if(v?.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Yu=null;function Gm(v){return Yu=Yu||function oy(v){return new Promise((m,_)=>{var C,x,O;function J(){Nc(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Nc(),_(Ce(v,"network-request-failed"))},timeout:jm.get()})}if(null!==(x=null===(C=mt().gapi)||void 0===C?void 0:C.iframes)&&void 0!==x&&x.Iframe)m(gapi.iframes.getContext());else{if(null===(O=mt().gapi)||void 0===O||!O.load){const he=Ct("iframefcb");return mt()[he]=()=>{gapi.load?J():_(Ce(v,"network-request-failed"))},ro(`https://apis.google.com/js/api.js?onload=${he}`).catch(Be=>_(Be))}J()}}).catch(m=>{throw Yu=null,m})}(v),Yu}const WE=new Cn(5e3,15e3),$d={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ly=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cy(v){const m=v.config;Z(m.authDomain,v,"auth-domain-config-required");const _=m.emulator?ai(m,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:v.name,v:de.SDK_VERSION},x=ly.get(v.config.apiHost);x&&(C.eid=x);const O=v._getFrameworks();return O.length&&(C.fw=O.join(",")),`${_}?${(0,L.xO)(C).slice(1)}`}function Wu(){return Wu=(0,s.Z)(function*(v){const m=yield Gm(v),_=mt().gapi;return Z(_,v,"internal-error"),m.open({where:document.body,url:cy(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$d,dontclear:!0},C=>new Promise(function(){var x=(0,s.Z)(function*(O,J){yield C.restyle({setHideOnLeave:!1});const he=Ce(v,"network-request-failed"),Be=mt().setTimeout(()=>{J(he)},WE.get());function rt(){mt().clearTimeout(Be),O(C)}C.ping(rt).then(rt,()=>{J(he)})});return function(O,J){return x.apply(this,arguments)}}()))}),Wu.apply(this,arguments)}const Fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ca{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ku(v,m,_,C,x,O){Z(v.config.authDomain,v,"auth-domain-config-required"),Z(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:de.SDK_VERSION,eventId:x};if(m instanceof zr){m.setDefaultLanguage(v.languageCode),J.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(J.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Be,rt]of Object.entries(O||{}))J[Be]=rt}if(m instanceof ko){const Be=m.getScopes().filter(rt=>""!==rt);Be.length>0&&(J.scopes=Be.join(","))}v.tenantId&&(J.tid=v.tenantId);const he=J;for(const Be of Object.keys(he))void 0===he[Be]&&delete he[Be];return`${function fy({config:v}){return v.emulator?ai(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(he).slice(1)}`}const Lc="webStorageSupport";class Vs extends class Ho{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return De("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Vs(m)}_finalizeEnroll(m,_,C){return function ey(v,m){return Yt(v,"POST","/v2/accounts/mfaEnrollment:finalize",ln(v,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function N(v,m){return Yt(v,"POST","/v2/accounts/mfaSignIn:finalize",ln(v,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qf=(()=>{class v{constructor(){}static assertion(_){return Vs._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var qm="@firebase/auth";class my{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var x;m((null===(x=C)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Da(){return window}function Vc(){return(Vc=(0,s.Z)(function*(v,m,_){var C;const{BuildInfo:x}=Da();X(m.sessionId,"AuthEvent did not contain a session ID");const O=yield Ym(m.sessionId),J={};return Zn()?J.ibi=x.packageName:We()?J.apn=x.packageName:Re(v,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=O,Ku(v,_,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,J)})).apply(this,arguments)}function Zm(){return(Zm=(0,s.Z)(function*(v){const{BuildInfo:m}=Da(),_={};Zn()?_.iosBundleId=m.packageName:We()?_.androidPackageName=m.packageName:Re(v,"operation-not-supported-in-this-environment"),yield wa(v,_)})).apply(this,arguments)}function Qr(){return(Qr=(0,s.Z)(function*(v,m,_){const{cordova:C}=Da();let x=()=>{};try{yield new Promise((O,J)=>{let he=null;function Be(){var yt;O();const Ti=null===(yt=C.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof Ti&&Ti(),"function"==typeof _?.close&&_.close()}function rt(){he||(he=window.setTimeout(()=>{J(Ce(v,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===document?.visibilityState&&rt()}m.addPassiveListener(Be),document.addEventListener("resume",rt,!1),We()&&document.addEventListener("visibilitychange",Dt,!1),x=()=>{m.removePassiveListener(Be),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",Dt,!1),he&&window.clearTimeout(he)}})}finally{x()}})).apply(this,arguments)}function Ym(v){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,s.Z)(function*(v){const m=_y(v),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _y(v){if(X(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const m=new ArrayBuffer(v.length),_=new Uint8Array(m);for(let C=0;C<v.length;C++)_[C]=v.charCodeAt(C);return _}!function Zd(v){(0,de._registerComponent)(new ie.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),x=m.getProvider("heartbeat"),{apiKey:O,authDomain:J}=C.options;return((he,Be)=>{Z(O&&!O.includes(":"),"invalid-api-key",{appName:he.name}),Z(!J?.includes(":"),"argument-error",{appName:he.name});const rt={apiKey:O,authDomain:J,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fs(v)},Dt=new gu(he,Be,rt);return function fe(v,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(oe);m?.errorMap&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(C,m?.popupRedirectResolver)}(Dt,_),Dt})(C,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ie.wA("auth-internal",m=>{const _=Gn(m.getProvider("auth").getImmediate());return new my(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(qm,"0.20.5",function gy(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,de.registerVersion)(qm,"0.20.5","esm2017")}("Browser");class Dw extends ba{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,s.Z)(function*(){yield m.initPromise})()}}function jo(v){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(v){const m=yield Ea()._get(Kd(v));return m&&(yield Ea()._remove(Kd(v))),m})).apply(this,arguments)}function yy(){const v=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*m.length);v.push(m.charAt(C))}return v.join("")}function Ea(){return oe(Po)}function Kd(v){return Ui("authEvent",v.config.apiKey,v.name)}function Yf(v){if(!v?.includes("?"))return{};const[m,..._]=v.split("?");return(0,L.zd)(_.join("?"))}function Gc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function qc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Ju(v=(0,L.z$)()){return!("file:"!==qc()&&"ionic:"!==qc()&&"capacitor:"!==qc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sw(){try{const v=self.localStorage,m=ys();if(v)return v.setItem(m,"1"),v.removeItem(m),!function Tw(v=(0,L.z$)()){return function Ew(){return(0,L.w1)()&&11===document?.documentMode}()||function wy(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch{return Cy()&&(0,L.hl)()}return!1}function Cy(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zc(){return(function by(){return"http:"===qc()||"https:"===qc()}()||(0,L.ru)()||Ju())&&!function Jd(){return(0,L.b$)()||(0,L.UG)()}()&&Sw()&&!Cy()}function Al(){return Ju()&&typeof document<"u"}function Xd(){return(Xd=(0,s.Z)(function*(){return!!Al()&&new Promise(v=>{const m=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),v(!0)})})})).apply(this,arguments)}const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},lo=Z,Qm="persistence";function Xm(v){return eg.apply(this,arguments)}function eg(){return(eg=(0,s.Z)(function*(v){yield v._initializationPromise;const m=Jf(),_=Ui(Qm,v.config.apiKey,v.name);m&&m.setItem(_,v._getPersistence())})).apply(this,arguments)}function Jf(){var v;try{return(null===(v=function Km(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Xf=Z;class vr{constructor(){this.browserResolver=oe(class py{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Rt,this._overrideRedirectResult=ya}_openPopup(m,_,C,x){var O=this;return(0,s.Z)(function*(){var J;X(null===(J=O.eventManagers[m._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const he=Ku(m,_,C,Ve(),x);return function dy(v,m,_,C=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-C)/2,0).toString();let he="";const Be=Object.assign(Object.assign({},Fc),{width:C.toString(),height:x.toString(),top:O,left:J}),rt=(0,L.z$)().toLowerCase();_&&(he=Qi(rt)?"_blank":_),Hn(rt)&&(m=m||"http://localhost",Be.scrollbars="yes");const Dt=Object.entries(Be).reduce((Ti,[Xr,eh])=>`${Ti}${Xr}=${eh},`,"");if(function ci(v=(0,L.z$)()){var m;return Zn(v)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(rt)&&"_self"!==he)return function hy(v,m){const _=document.createElement("a");_.href=v,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",he),new Ca(null);const yt=window.open(m||"",he,Dt);Z(yt,v,"popup-blocked");try{yt.focus()}catch{}return new Ca(yt)}(m,he,ys())})()}_openRedirect(m,_,C,x){var O=this;return(0,s.Z)(function*(){return yield O._originValidation(m),function to(v){mt().location.href=v}(Ku(m,_,C,Ve(),x)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:x,promise:O}=this.eventManagers[_];return x?Promise.resolve(x):(X(O,"If manager is not set, promise should be"),O)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const C=yield function El(v){return Wu.apply(this,arguments)}(m),x=new ba(m);return C.register("authEvent",O=>(Z(O?.authEvent,m,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:x},_.iframes[m._key()]=C,x})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Lc,{type:Lc},x=>{var O;const J=null===(O=x?.[0])||void 0===O?void 0:O[Lc];void 0!==J&&_(!!J),Re(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Hf(v){return Hm.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return jn()||vi()||Zn()}}),this.cordovaResolver=oe(class Bs{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rt,this._overrideRedirectResult=ya}_initialize(m){var _=this;return(0,s.Z)(function*(){const C=m._key();let x=_.eventManagers.get(C);return x||(x=new Dw(m),_.eventManagers.set(C,x),_.attachCallbackListeners(m,x)),x})()}_openPopup(m){Re(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,C,x){var O=this;return(0,s.Z)(function*(){!function Qu(v){var m,_,C,x,O,J,he,Be,rt,Dt;const yt=Da();Z("function"==typeof(null===(m=yt?.universalLinks)||void 0===m?void 0:m.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(_=yt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(O=null===(x=null===(C=yt?.cordova)||void 0===C?void 0:C.plugins)||void 0===x?void 0:x.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Be=null===(he=null===(J=yt?.cordova)||void 0===J?void 0:J.plugins)||void 0===he?void 0:he.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Dt=null===(rt=yt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===Dt?void 0:Dt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const J=yield O._initialize(m);yield J.initialized(),J.resetRedirect(),function ao(){Lo.clear()}(),yield O._originValidation(m);const he=function Wm(v,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:yy(),postBody:null,tenantId:v.tenantId,error:Ce(v,"no-auth-event")}}(m,C,x);yield function Uc(v,m){return Ea()._set(Kd(v),m)}(m,he);const Be=yield function $f(v,m,_){return Vc.apply(this,arguments)}(m,he,_),rt=yield function Bc(v){const{cordova:m}=Da();return new Promise(_=>{m.plugins.browsertab.isAvailable(C=>{let x=null;C?m.plugins.browsertab.openUrl(v):x=m.InAppBrowser.open(v,function nl(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(x)})})}(Be);return function Yd(v,m,_){return Qr.apply(this,arguments)}(m,J,rt)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Cw(v){return Zm.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:C,handleOpenURL:x,BuildInfo:O}=Da(),J=setTimeout((0,s.Z)(function*(){yield jo(m),_.onEvent(Gc())}),500),he=function(){var Dt=(0,s.Z)(function*(yt){clearTimeout(J);const Ti=yield jo(m);let Xr=null;Ti&&yt?.url&&(Xr=function QE(v,m){var _,C;const x=function vy(v){const m=Yf(v),_=m.link?decodeURIComponent(m.link):void 0,C=Yf(_).link,x=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Yf(x).link||x||C||_||v}(m);if(x.includes("/__/auth/callback")){const O=Yf(x),J=O.firebaseError?function jc(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,he=null===(C=null===(_=J?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Be=he?Ce(he):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(Ti,yt.url)),_.onEvent(Xr||Gc())});return function(Ti){return Dt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,he);const Be=x,rt=`${O.packageName.toLowerCase()}://`;Da().handleOpenURL=function(){var Dt=(0,s.Z)(function*(yt){if(yt.toLowerCase().startsWith(rt)&&he({url:yt}),"function"==typeof Be)try{Be(yt)}catch(Ti){console.error(Ti)}});return function(yt){return Dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Rt,this._overrideRedirectResult=ya}_initialize(m){var _=this;return(0,s.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,C,x){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,_,C,x)})()}_openRedirect(m,_,C,x){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,_,C,x)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Al()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,s.Z)(function*(){if(m.underlyingResolver)return;const _=yield function Ta(){return Xd.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function tg(v){return v.unwrap()}function Xu(v){return tp(v)}function tp(v){const{_tokenResponse:m}=v instanceof L.ZR?v.customData:v;if(!m)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return xc.credentialFromResult(v);const _=m.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=mc;break;case"facebook.com":C=pc;break;case"github.com":C=gc;break;case"twitter.com":C=wu;break;default:const{oauthIdToken:x,oauthAccessToken:O,oauthTokenSecret:J,pendingToken:he,nonce:Be}=m;return O||J||x||he?he?_.startsWith("saml.")?al._create(_,he):Ks._fromParams({providerId:_,signInMethod:_,pendingToken:he,idToken:x,accessToken:O}):new ol(_).credential({idToken:x,accessToken:O,rawNonce:Be}):null}return v instanceof L.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function ur(v,m){return m.catch(_=>{throw _ instanceof L.ZR&&function Iw(v,m){var _,C;const x=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=m)||void 0===C?void 0:C.code))m.resolver=new ed(v,function Ri(v,m){var _;const C=(0,L.m9)(v),x=m;return Z(m.customData.operationType,C,"argument-error"),Z(null===(_=x.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),pa._fromError(C,x)}(v,m));else if(x){const O=tp(m),J=m;O&&(J.credential=O,J.tenantId=x.tenantId||void 0,J.email=x.email||void 0,J.phoneNumber=x.phoneNumber||void 0)}}(v,_),_}).then(_=>{const x=_.user;return{operationType:_.operationType,credential:Xu(_),additionalUserInfo:Mm(_),user:co.getOrCreate(x)}})}function Us(v,m){return xl.apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(v,m){const _=yield m;return{verificationId:_.verificationId,confirm:C=>ur(v,_.confirm(C))}})).apply(this,arguments)}class ed{constructor(m,_){this.resolver=_,this.auth=function ep(v){return v.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return ur(tg(this.auth),this.resolver.resolveSignIn(m))}}class co{constructor(m){this._delegate=m,this.multiFactor=function Om(v){const m=(0,L.m9)(v);return ma.has(m)||ma.set(m,Rm._fromUser(m)),ma.get(m)}(m)}static getOrCreate(m){return co.USER_MAP.has(m)||co.USER_MAP.set(m,new co(m)),co.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,s.Z)(function*(){return ur(_.auth,Pd(_._delegate,m))})()}linkWithPhoneNumber(m,_){var C=this;return(0,s.Z)(function*(){return Us(C.auth,function Kr(v,m,_){return Ac.apply(this,arguments)}(C._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,s.Z)(function*(){return ur(_.auth,function zu(v,m,_){return Fo.apply(this,arguments)}(_._delegate,m,vr))})()}linkWithRedirect(m){var _=this;return(0,s.Z)(function*(){return yield Xm(Gn(_.auth)),function te(v,m,_){return function ce(v,m,_){return Ae.apply(this,arguments)}(v,m,_)}(_._delegate,m,vr)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,s.Z)(function*(){return ur(_.auth,Tu(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Us(this.auth,function Ni(v,m,_){return so.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return ur(this.auth,function Um(v,m,_){return Pc.apply(this,arguments)}(this._delegate,m,vr))}reauthenticateWithRedirect(m){var _=this;return(0,s.Z)(function*(){return yield Xm(Gn(_.auth)),function I(v,m,_){return function k(v,m,_){return U.apply(this,arguments)}(v,m,_)}(_._delegate,m,vr)})()}sendEmailVerification(m){return function wc(v,m){return Ld.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,s.Z)(function*(){return yield function Du(v,m){return sa.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function Ru(v,m){return Ou((0,L.m9)(v),m,null)}(this._delegate,m)}updatePassword(m){return function Bd(v,m){return Ou((0,L.m9)(v),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Bm(v,m){return Gu.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Mu(v,m){return ku.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function _l(v,m,_){return Cc.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}co.USER_MAP=new WeakMap;const td=Z;let $c=(()=>{class v{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=_.options;td(x,"invalid-api-key",{appName:_.name}),td(x,"invalid-api-key",{appName:_.name});const O=typeof window<"u"?vr:void 0;this._delegate=C.initialize({options:{persistence:Aw(x,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?co.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function ta(v,m,_){const C=Gn(v);Z(C._canInitEmulator,C,"emulator-config-failed"),Z(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const x=!!_?.disableWarnings,O=bi(m),{host:J,port:he}=function rl(v){const m=bi(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(C);if(x){const O=x[1];return{host:O,port:Ws(C.substr(O.length+1))}}{const[O,J]=C.split(":");return{host:O,port:Ws(J)}}}(m);C.config.emulator={url:`${O}//${J}${null===he?"":`:${he}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:J,port:he,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function gr(){function v(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,C)}applyActionCode(_){return function bc(v,m){return hl.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return fl(this._delegate,_)}confirmPasswordReset(_,C){return function ua(v,m,_){return Zr.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var x=this;return(0,s.Z)(function*(){return ur(x._delegate,function ki(v,m,_){return ps.apply(this,arguments)}(x._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function gl(v,m){return Au.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Af(v,m){return"EMAIL_SIGNIN"===bu.parseLink(m)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,s.Z)(function*(){td(zc(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function Ke(v,m){return ft.apply(this,arguments)}(_._delegate,vr);return C?ur(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Wf(v,m){Gn(v)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,C,x){const{next:O,error:J,complete:he}=uo(_,C,x);return this._delegate.onAuthStateChanged(O,J,he)}onIdTokenChanged(_,C,x){const{next:O,error:J,complete:he}=uo(_,C,x);return this._delegate.onIdTokenChanged(O,J,he)}sendSignInLinkToEmail(_,C){return function da(v,m,_){return ms.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function Yn(v,m,_){return dl.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,s.Z)(function*(){let x;switch(function Jm(v,m){lo(Object.values(Jr).includes(m),v,"invalid-persistence-type"),(0,L.b$)()?lo(m!==Jr.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?lo(m===Jr.NONE,v,"unsupported-persistence-type"):Cy()?lo(m===Jr.NONE||m===Jr.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):lo(m===Jr.NONE||Sw(),v,"unsupported-persistence-type")}(C._delegate,_),_){case Jr.SESSION:x=_s;break;case Jr.LOCAL:x=(yield oe(ji)._isAvailable())?ji:Po;break;case Jr.NONE:x=cn;break;default:return Re("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return ur(this._delegate,function Jn(v){return Sf.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return ur(this._delegate,ot(this._delegate,_))}signInWithCustomToken(_){return ur(this._delegate,function Su(v,m){return Ie.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return ur(this._delegate,function Fd(v,m,_){return ot((0,L.m9)(v),Od.credential(m,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return ur(this._delegate,function xf(v,m,_){return pl.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return Us(this._delegate,function Gd(v,m,_){return Pi.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,s.Z)(function*(){return td(zc(),C._delegate,"operation-not-supported-in-this-environment"),ur(C._delegate,function qu(v,m,_){return Oc.apply(this,arguments)}(C._delegate,_,vr))})()}signInWithRedirect(_){var C=this;return(0,s.Z)(function*(){return td(zc(),C._delegate,"operation-not-supported-in-this-environment"),yield Xm(C._delegate),function Uf(v,m,_){return function Zu(v,m,_){return S.apply(this,arguments)}(v,m,_)}(C._delegate,_,vr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Im(v,m){return Xs.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Jr,v})();function uo(v,m,_){let C=v;"function"!=typeof v&&({next:C,error:m,complete:_}=v);const x=C;return{next:J=>x(J&&co.getOrCreate(J)),error:m,complete:_}}function Aw(v,m){const _=function Qf(v,m){const _=Jf();if(!_)return[];const C=Ui(Qm,v,m);switch(_.getItem(C)){case Jr.NONE:return[cn];case Jr.LOCAL:return[ji,_s];case Jr.SESSION:return[_s];default:return[]}}(v,m);if(typeof self<"u"&&!_.includes(ji)&&_.push(ji),typeof window<"u")for(const C of[Po,_s])_.includes(C)||_.push(C);return _.includes(cn)||_.push(cn),_}class hi{constructor(){this.providerId="phone",this._delegate=new xc(tg(re.Z.auth()))}static credential(m,_){return xc.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}hi.PHONE_SIGN_IN_METHOD=xc.PHONE_SIGN_IN_METHOD,hi.PROVIDER_ID=xc.PROVIDER_ID;const Dy=Z;class xw{constructor(m,_,C=re.Z.app()){var x;Dy(null===(x=C.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new jd(m,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mw(v){v.INTERNAL.registerComponent(new ie.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new $c(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Od,FacebookAuthProvider:pc,GithubAuthProvider:gc,GoogleAuthProvider:mc,OAuthProvider:ol,SAMLAuthProvider:On,PhoneAuthProvider:hi,PhoneMultiFactorGenerator:qf,RecaptchaVerifier:xw,TwitterAuthProvider:wu,Auth:$c,AuthCredential:Gr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.18")}(re.Z)},9751:(ht,xe,V)=>{V.d(xe,{y:()=>me});var s=V(930),re=V(727),L=V(8822),de=V(9635),le=V(2416),ge=V(576),ie=V(2806);let me=(()=>{class ee{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ee=new ee;return Ee.source=this,Ee.operator=ke,Ee}subscribe(ke,Ee,lt){const we=function z(ee){return ee&&ee instanceof s.Lv||function q(ee){return ee&&(0,ge.m)(ee.next)&&(0,ge.m)(ee.error)&&(0,ge.m)(ee.complete)}(ee)&&(0,re.Nn)(ee)}(ke)?ke:new s.Hp(ke,Ee,lt);return(0,ie.x)(()=>{const{operator:ye,source:st}=this;we.add(ye?ye.call(we,st):st?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ee){ke.error(Ee)}}forEach(ke,Ee){return new(Ee=_e(Ee))((lt,we)=>{const ye=new s.Hp({next:st=>{try{ke(st)}catch(ut){we(ut),ye.unsubscribe()}},error:we,complete:lt});this.subscribe(ye)})}_subscribe(ke){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(ke)}[L.L](){return this}pipe(...ke){return(0,de.U)(ke)(this)}toPromise(ke){return new(ke=_e(ke))((Ee,lt)=>{let we;this.subscribe(ye=>we=ye,ye=>lt(ye),()=>Ee(we))})}}return ee.create=Ue=>new ee(Ue),ee})();function _e(ee){var Ue;return null!==(Ue=ee??le.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ht,xe,V)=>{V.d(xe,{x:()=>ie});var s=V(9751),re=V(727);const de=(0,V(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=V(8737),ge=V(2806);let ie=(()=>{class _e extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ee=new me(this,this);return ee.operator=z,ee}_throwIfClosed(){if(this.closed)throw new de}next(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(z)}})}error(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(z)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ee,isStopped:Ue,observers:ke}=this;return ee||Ue?re.Lc:(this.currentObservers=null,ke.push(z),new re.w0(()=>{this.currentObservers=null,(0,le.P)(ke,z)}))}_checkFinalizedStatuses(z){const{hasError:ee,thrownError:Ue,isStopped:ke}=this;ee?z.error(Ue):ke&&z.complete()}asObservable(){const z=new s.y;return z.source=this,z}}return _e.create=(q,z)=>new me(q,z),_e})();class me extends ie{constructor(q,z){super(),this.destination=q,this.source=z}next(q){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ee||ee.call(z,q)}error(q){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ee||ee.call(z,q)}complete(){var q,z;null===(z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===z||z.call(q)}_subscribe(q){var z,ee;return null!==(ee=null===(z=this.source)||void 0===z?void 0:z.subscribe(q))&&void 0!==ee?ee:re.Lc}}},930:(ht,xe,V)=>{V.d(xe,{Hp:()=>lt,Lv:()=>ee});var s=V(576),re=V(727),L=V(2416),de=V(7849),le=V(5032);const ge=_e("C",void 0,void 0);function _e(Re,Ce,Se){return{kind:Re,value:Ce,error:Se}}var q=V(3410),z=V(2806);class ee extends re.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,re.Nn)(Ce)&&Ce.add(this)):this.destination=ut}static create(Ce,Se,Ge){return new lt(Ce,Se,Ge)}next(Ce){this.isStopped?st(function me(Re){return _e("N",Re,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?st(function ie(Re){return _e("E",void 0,Re)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?st(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ke(Re,Ce){return Ue.call(Re,Ce)}class Ee{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ce)}catch(Ge){we(Ge)}}error(Ce){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ce)}catch(Ge){we(Ge)}else we(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Se){we(Se)}}}class lt extends ee{constructor(Ce,Se,Ge){let ze;if(super(),(0,s.m)(Ce)||!Ce)ze={next:Ce??void 0,error:Se??void 0,complete:Ge??void 0};else{let Z;this&&L.v.useDeprecatedNextContext?(Z=Object.create(Ce),Z.unsubscribe=()=>this.unsubscribe(),ze={next:Ce.next&&ke(Ce.next,Z),error:Ce.error&&ke(Ce.error,Z),complete:Ce.complete&&ke(Ce.complete,Z)}):ze=Ce}this.destination=new Ee(ze)}}function we(Re){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,de.h)(Re)}function st(Re,Ce){const{onStoppedNotification:Se}=L.v;Se&&q.z.setTimeout(()=>Se(Re,Ce))}const ut={closed:!0,next:le.Z,error:function ye(Re){throw Re},complete:le.Z}},727:(ht,xe,V)=>{V.d(xe,{Lc:()=>ge,w0:()=>le,Nn:()=>ie});var s=V(576);const L=(0,V(3888).d)(_e=>function(z){_e(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ee,Ue)=>`${Ue+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var de=V(8737);class le{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:ee}=this;if((0,s.m)(ee))try{ee()}catch(ke){q=ke instanceof L?ke.errors:[ke]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ke of Ue)try{me(ke)}catch(Ee){q=q??[],Ee instanceof L?q=[...q,...Ee.errors]:q.push(Ee)}}if(q)throw new L(q)}}add(q){var z;if(q&&q!==this)if(this.closed)me(q);else{if(q instanceof le){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(q)}}_hasParent(q){const{_parentage:z}=this;return z===q||Array.isArray(z)&&z.includes(q)}_addParent(q){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(q),z):z?[z,q]:q}_removeParent(q){const{_parentage:z}=this;z===q?this._parentage=null:Array.isArray(z)&&(0,de.P)(z,q)}remove(q){const{_finalizers:z}=this;z&&(0,de.P)(z,q),q instanceof le&&q._removeParent(this)}}le.EMPTY=(()=>{const _e=new le;return _e.closed=!0,_e})();const ge=le.EMPTY;function ie(_e){return _e instanceof le||_e&&"closed"in _e&&(0,s.m)(_e.remove)&&(0,s.m)(_e.add)&&(0,s.m)(_e.unsubscribe)}function me(_e){(0,s.m)(_e)?_e():_e.unsubscribe()}},2416:(ht,xe,V)=>{V.d(xe,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,V)=>{V.d(xe,{E:()=>re});const re=new(V(9751).y)(le=>le.complete())},8996:(ht,xe,V)=>{V.d(xe,{D:()=>Ce});var s=V(8421),re=V(5363),L=V(9468),ge=V(9751),me=V(2202),_e=V(576),q=V(9672);function ee(Se,Ge){if(!Se)throw new Error("Iterable cannot be null");return new ge.y(ze=>{(0,q.f)(ze,Ge,()=>{const Z=Se[Symbol.asyncIterator]();(0,q.f)(ze,Ge,()=>{Z.next().then(De=>{De.done?ze.complete():ze.next(De.value)})},0,!0)})})}var Ue=V(3670),ke=V(8239),Ee=V(1144),lt=V(6495),we=V(2206),ye=V(4532),st=V(3260);function Ce(Se,Ge){return Ge?function Re(Se,Ge){if(null!=Se){if((0,Ue.c)(Se))return function de(Se,Ge){return(0,s.Xf)(Se).pipe((0,L.R)(Ge),(0,re.Q)(Ge))}(Se,Ge);if((0,Ee.z)(Se))return function ie(Se,Ge){return new ge.y(ze=>{let Z=0;return Ge.schedule(function(){Z===Se.length?ze.complete():(ze.next(Se[Z++]),ze.closed||this.schedule())})})}(Se,Ge);if((0,ke.t)(Se))return function le(Se,Ge){return(0,s.Xf)(Se).pipe((0,L.R)(Ge),(0,re.Q)(Ge))}(Se,Ge);if((0,we.D)(Se))return ee(Se,Ge);if((0,lt.T)(Se))return function z(Se,Ge){return new ge.y(ze=>{let Z;return(0,q.f)(ze,Ge,()=>{Z=Se[me.h](),(0,q.f)(ze,Ge,()=>{let De,X;try{({value:De,done:X}=Z.next())}catch(ae){return void ze.error(ae)}X?ze.complete():ze.next(De)},0,!0)}),()=>(0,_e.m)(Z?.return)&&Z.return()})}(Se,Ge);if((0,st.L)(Se))return function ut(Se,Ge){return ee((0,st.Q)(Se),Ge)}(Se,Ge)}throw(0,ye.z)(Se)}(Se,Ge):(0,s.Xf)(Se)}},8421:(ht,xe,V)=>{V.d(xe,{Xf:()=>Ue});var s=V(655),re=V(1144),L=V(8239),de=V(9751),le=V(3670),ge=V(2206),ie=V(4532),me=V(6495),_e=V(3260),q=V(576),z=V(7849),ee=V(8822);function Ue(Re){if(Re instanceof de.y)return Re;if(null!=Re){if((0,le.c)(Re))return function ke(Re){return new de.y(Ce=>{const Se=Re[ee.L]();if((0,q.m)(Se.subscribe))return Se.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,re.z)(Re))return function Ee(Re){return new de.y(Ce=>{for(let Se=0;Se<Re.length&&!Ce.closed;Se++)Ce.next(Re[Se]);Ce.complete()})}(Re);if((0,L.t)(Re))return function lt(Re){return new de.y(Ce=>{Re.then(Se=>{Ce.closed||(Ce.next(Se),Ce.complete())},Se=>Ce.error(Se)).then(null,z.h)})}(Re);if((0,ge.D)(Re))return ye(Re);if((0,me.T)(Re))return function we(Re){return new de.y(Ce=>{for(const Se of Re)if(Ce.next(Se),Ce.closed)return;Ce.complete()})}(Re);if((0,_e.L)(Re))return function st(Re){return ye((0,_e.Q)(Re))}(Re)}throw(0,ie.z)(Re)}function ye(Re){return new de.y(Ce=>{(function ut(Re,Ce){var Se,Ge,ze,Z;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Se=(0,s.KL)(Re);!(Ge=yield Se.next()).done;)if(Ce.next(Ge.value),Ce.closed)return}catch(De){ze={error:De}}finally{try{Ge&&!Ge.done&&(Z=Se.return)&&(yield Z.call(Se))}finally{if(ze)throw ze.error}}Ce.complete()})})(Re,Ce).catch(Se=>Ce.error(Se))})}},6451:(ht,xe,V)=>{V.d(xe,{T:()=>ge});var s=V(8189),re=V(8421),L=V(515),de=V(3269),le=V(8996);function ge(...ie){const me=(0,de.yG)(ie),_e=(0,de._6)(ie,1/0),q=ie;return q.length?1===q.length?(0,re.Xf)(q[0]):(0,s.J)(_e)((0,le.D)(q,me)):L.E}},5403:(ht,xe,V)=>{V.d(xe,{x:()=>re});var s=V(930);function re(de,le,ge,ie,me){return new L(de,le,ge,ie,me)}class L extends s.Lv{constructor(le,ge,ie,me,_e,q){super(le),this.onFinalize=_e,this.shouldUnsubscribe=q,this._next=ge?function(z){try{ge(z)}catch(ee){le.error(ee)}}:super._next,this._error=me?function(z){try{me(z)}catch(ee){le.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(z){le.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ht,xe,V)=>{V.d(xe,{U:()=>L});var s=V(4482),re=V(5403);function L(de,le){return(0,s.e)((ge,ie)=>{let me=0;ge.subscribe((0,re.x)(ie,_e=>{ie.next(de.call(le,_e,me++))}))})}},8189:(ht,xe,V)=>{V.d(xe,{J:()=>L});var s=V(5577),re=V(4671);function L(de=1/0){return(0,s.z)(re.y,de)}},5577:(ht,xe,V)=>{V.d(xe,{z:()=>me});var s=V(4004),re=V(8421),L=V(4482),de=V(9672),le=V(5403),ie=V(576);function me(_e,q,z=1/0){return(0,ie.m)(q)?me((ee,Ue)=>(0,s.U)((ke,Ee)=>q(ee,ke,Ue,Ee))((0,re.Xf)(_e(ee,Ue))),z):("number"==typeof q&&(z=q),(0,L.e)((ee,Ue)=>function ge(_e,q,z,ee,Ue,ke,Ee,lt){const we=[];let ye=0,st=0,ut=!1;const Re=()=>{ut&&!we.length&&!ye&&q.complete()},Ce=Ge=>ye<ee?Se(Ge):we.push(Ge),Se=Ge=>{ke&&q.next(Ge),ye++;let ze=!1;(0,re.Xf)(z(Ge,st++)).subscribe((0,le.x)(q,Z=>{Ue?.(Z),ke?Ce(Z):q.next(Z)},()=>{ze=!0},void 0,()=>{if(ze)try{for(ye--;we.length&&ye<ee;){const Z=we.shift();Ee?(0,de.f)(q,Ee,()=>Se(Z)):Se(Z)}Re()}catch(Z){q.error(Z)}}))};return _e.subscribe((0,le.x)(q,Ce,()=>{ut=!0,Re()})),()=>{lt?.()}}(ee,Ue,_e,z)))}},5363:(ht,xe,V)=>{V.d(xe,{Q:()=>de});var s=V(9672),re=V(4482),L=V(5403);function de(le,ge=0){return(0,re.e)((ie,me)=>{ie.subscribe((0,L.x)(me,_e=>(0,s.f)(me,le,()=>me.next(_e),ge),()=>(0,s.f)(me,le,()=>me.complete(),ge),_e=>(0,s.f)(me,le,()=>me.error(_e),ge)))})}},3099:(ht,xe,V)=>{V.d(xe,{B:()=>le});var s=V(8421),re=V(7579),L=V(930),de=V(4482);function le(ie={}){const{connector:me=(()=>new re.x),resetOnError:_e=!0,resetOnComplete:q=!0,resetOnRefCountZero:z=!0}=ie;return ee=>{let Ue,ke,Ee,lt=0,we=!1,ye=!1;const st=()=>{ke?.unsubscribe(),ke=void 0},ut=()=>{st(),Ue=Ee=void 0,we=ye=!1},Re=()=>{const Ce=Ue;ut(),Ce?.unsubscribe()};return(0,de.e)((Ce,Se)=>{lt++,!ye&&!we&&st();const Ge=Ee=Ee??me();Se.add(()=>{lt--,0===lt&&!ye&&!we&&(ke=ge(Re,z))}),Ge.subscribe(Se),!Ue&&lt>0&&(Ue=new L.Hp({next:ze=>Ge.next(ze),error:ze=>{ye=!0,st(),ke=ge(ut,_e,ze),Ge.error(ze)},complete:()=>{we=!0,st(),ke=ge(ut,q),Ge.complete()}}),(0,s.Xf)(Ce).subscribe(Ue))})(ee)}}function ge(ie,me,..._e){if(!0===me)return void ie();if(!1===me)return;const q=new L.Hp({next:()=>{q.unsubscribe(),ie()}});return me(..._e).subscribe(q)}},9468:(ht,xe,V)=>{V.d(xe,{R:()=>re});var s=V(4482);function re(L,de=0){return(0,s.e)((le,ge)=>{ge.add(L.schedule(()=>le.subscribe(ge),de))})}},8505:(ht,xe,V)=>{V.d(xe,{b:()=>le});var s=V(576),re=V(4482),L=V(5403),de=V(4671);function le(ge,ie,me){const _e=(0,s.m)(ge)||ie||me?{next:ge,error:ie,complete:me}:ge;return _e?(0,re.e)((q,z)=>{var ee;null===(ee=_e.subscribe)||void 0===ee||ee.call(_e);let Ue=!0;q.subscribe((0,L.x)(z,ke=>{var Ee;null===(Ee=_e.next)||void 0===Ee||Ee.call(_e,ke),z.next(ke)},()=>{var ke;Ue=!1,null===(ke=_e.complete)||void 0===ke||ke.call(_e),z.complete()},ke=>{var Ee;Ue=!1,null===(Ee=_e.error)||void 0===Ee||Ee.call(_e,ke),z.error(ke)},()=>{var ke,Ee;Ue&&(null===(ke=_e.unsubscribe)||void 0===ke||ke.call(_e)),null===(Ee=_e.finalize)||void 0===Ee||Ee.call(_e)}))}):de.y}},4408:(ht,xe,V)=>{V.d(xe,{o:()=>le});var s=V(727);class re extends s.w0{constructor(ie,me){super()}schedule(ie,me=0){return this}}const L={setInterval(ge,ie,...me){const{delegate:_e}=L;return _e?.setInterval?_e.setInterval(ge,ie,...me):setInterval(ge,ie,...me)},clearInterval(ge){const{delegate:ie}=L;return(ie?.clearInterval||clearInterval)(ge)},delegate:void 0};var de=V(8737);class le extends re{constructor(ie,me){super(ie,me),this.scheduler=ie,this.work=me,this.pending=!1}schedule(ie,me=0){if(this.closed)return this;this.state=ie;const _e=this.id,q=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(q,_e,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(q,this.id,me),this}requestAsyncId(ie,me,_e=0){return L.setInterval(ie.flush.bind(ie,this),_e)}recycleAsyncId(ie,me,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return me;L.clearInterval(me)}execute(ie,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ie,me);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,me){let q,_e=!1;try{this.work(ie)}catch(z){_e=!0,q=z||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ie,scheduler:me}=this,{actions:_e}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(_e,this),null!=ie&&(this.id=this.recycleAsyncId(me,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,V)=>{V.d(xe,{v:()=>L});var s=V(6063);class re{constructor(le,ge=re.now){this.schedulerActionCtor=le,this.now=ge}schedule(le,ge=0,ie){return new this.schedulerActionCtor(this,le).schedule(ie,ge)}}re.now=s.l.now;class L extends re{constructor(le,ge=re.now){super(le,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:ge}=this;if(this._active)return void ge.push(le);let ie;this._active=!0;do{if(ie=le.execute(le.state,le.delay))break}while(le=ge.shift());if(this._active=!1,ie){for(;le=ge.shift();)le.unsubscribe();throw ie}}}},4986:(ht,xe,V)=>{V.d(xe,{P:()=>de,z:()=>L});var s=V(4408);const L=new(V(7565).v)(s.o),de=L},6063:(ht,xe,V)=>{V.d(xe,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,V)=>{V.d(xe,{z:()=>s});const s={setTimeout(re,L,...de){const{delegate:le}=s;return le?.setTimeout?le.setTimeout(re,L,...de):setTimeout(re,L,...de)},clearTimeout(re){const{delegate:L}=s;return(L?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(ht,xe,V)=>{V.d(xe,{h:()=>re});const re=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,xe,V)=>{V.d(xe,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,xe,V)=>{V.d(xe,{_6:()=>ge,jO:()=>de,yG:()=>le});var s=V(576),re=V(3532);function L(ie){return ie[ie.length-1]}function de(ie){return(0,s.m)(L(ie))?ie.pop():void 0}function le(ie){return(0,re.K)(L(ie))?ie.pop():void 0}function ge(ie,me){return"number"==typeof L(ie)?ie.pop():me}},8737:(ht,xe,V)=>{function s(re,L){if(re){const de=re.indexOf(L);0<=de&&re.splice(de,1)}}V.d(xe,{P:()=>s})},3888:(ht,xe,V)=>{function s(re){const de=re(le=>{Error.call(le),le.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}V.d(xe,{d:()=>s})},2806:(ht,xe,V)=>{V.d(xe,{O:()=>de,x:()=>L});var s=V(2416);let re=null;function L(le){if(s.v.useDeprecatedSynchronousErrorHandling){const ge=!re;if(ge&&(re={errorThrown:!1,error:null}),le(),ge){const{errorThrown:ie,error:me}=re;if(re=null,ie)throw me}}else le()}function de(le){s.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=le)}},9672:(ht,xe,V)=>{function s(re,L,de,le=0,ge=!1){const ie=L.schedule(function(){de(),ge?re.add(this.schedule(null,le)):this.unsubscribe()},le);if(re.add(ie),!ge)return ie}V.d(xe,{f:()=>s})},4671:(ht,xe,V)=>{function s(re){return re}V.d(xe,{y:()=>s})},1144:(ht,xe,V)=>{V.d(xe,{z:()=>s});const s=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(ht,xe,V)=>{V.d(xe,{D:()=>re});var s=V(576);function re(L){return Symbol.asyncIterator&&(0,s.m)(L?.[Symbol.asyncIterator])}},576:(ht,xe,V)=>{function s(re){return"function"==typeof re}V.d(xe,{m:()=>s})},3670:(ht,xe,V)=>{V.d(xe,{c:()=>L});var s=V(8822),re=V(576);function L(de){return(0,re.m)(de[s.L])}},6495:(ht,xe,V)=>{V.d(xe,{T:()=>L});var s=V(2202),re=V(576);function L(de){return(0,re.m)(de?.[s.h])}},8239:(ht,xe,V)=>{V.d(xe,{t:()=>re});var s=V(576);function re(L){return(0,s.m)(L?.then)}},3260:(ht,xe,V)=>{V.d(xe,{L:()=>de,Q:()=>L});var s=V(655),re=V(576);function L(le){return(0,s.FC)(this,arguments,function*(){const ie=le.getReader();try{for(;;){const{value:me,done:_e}=yield(0,s.qq)(ie.read());if(_e)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(me)}}finally{ie.releaseLock()}})}function de(le){return(0,re.m)(le?.getReader)}},3532:(ht,xe,V)=>{V.d(xe,{K:()=>re});var s=V(576);function re(L){return L&&(0,s.m)(L.schedule)}},4482:(ht,xe,V)=>{V.d(xe,{A:()=>re,e:()=>L});var s=V(576);function re(de){return(0,s.m)(de?.lift)}function L(de){return le=>{if(re(le))return le.lift(function(ge){try{return de(ge,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,xe,V)=>{function s(){}V.d(xe,{Z:()=>s})},9635:(ht,xe,V)=>{V.d(xe,{U:()=>L,z:()=>re});var s=V(4671);function re(...de){return L(de)}function L(de){return 0===de.length?s.y:1===de.length?de[0]:function(ge){return de.reduce((ie,me)=>me(ie),ge)}}},7849:(ht,xe,V)=>{V.d(xe,{h:()=>L});var s=V(2416),re=V(3410);function L(de){re.z.setTimeout(()=>{const{onUnhandledError:le}=s.v;if(!le)throw de;le(de)})}},4532:(ht,xe,V)=>{function s(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(xe,{z:()=>s})},655:(ht,xe,V)=>{function de(X,ae){var oe={};for(var be in X)Object.prototype.hasOwnProperty.call(X,be)&&ae.indexOf(be)<0&&(oe[be]=X[be]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(be=Object.getOwnPropertySymbols(X);fe<be.length;fe++)ae.indexOf(be[fe])<0&&Object.prototype.propertyIsEnumerable.call(X,be[fe])&&(oe[be[fe]]=X[be[fe]])}return oe}function me(X,ae,oe,be){return new(oe||(oe=Promise))(function(Ve,vt){function en(Cn){try{Je(be.next(Cn))}catch(ai){vt(ai)}}function Zt(Cn){try{Je(be.throw(Cn))}catch(ai){vt(ai)}}function Je(Cn){Cn.done?Ve(Cn.value):function fe(Ve){return Ve instanceof oe?Ve:new oe(function(vt){vt(Ve)})}(Cn.value).then(en,Zt)}Je((be=be.apply(X,ae||[])).next())})}function we(X){return this instanceof we?(this.v=X,this):new we(X)}function ye(X,ae,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,be=oe.apply(X,ae||[]),Ve=[];return fe={},vt("next"),vt("throw"),vt("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function vt(Tn){be[Tn]&&(fe[Tn]=function(fn){return new Promise(function(fr,ln){Ve.push([Tn,fn,fr,ln])>1||en(Tn,fn)})})}function en(Tn,fn){try{!function Zt(Tn){Tn.value instanceof we?Promise.resolve(Tn.value.v).then(Je,Cn):ai(Ve[0][2],Tn)}(be[Tn](fn))}catch(fr){ai(Ve[0][3],fr)}}function Je(Tn){en("next",Tn)}function Cn(Tn){en("throw",Tn)}function ai(Tn,fn){Tn(fn),Ve.shift(),Ve.length&&en(Ve[0][0],Ve[0][1])}}function ut(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ae=X[Symbol.asyncIterator];return ae?ae.call(X):(X=function ee(X){var ae="function"==typeof Symbol&&Symbol.iterator,oe=ae&&X[ae],be=0;if(oe)return oe.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&be>=X.length&&(X=void 0),{value:X&&X[be++],done:!X}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),oe={},be("next"),be("throw"),be("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function be(Ve){oe[Ve]=X[Ve]&&function(vt){return new Promise(function(en,Zt){!function fe(Ve,vt,en,Zt){Promise.resolve(Zt).then(function(Je){Ve({value:Je,done:en})},vt)}(en,Zt,(vt=X[Ve](vt)).done,vt.value)})}}}V.d(xe,{FC:()=>ye,KL:()=>ut,_T:()=>de,mG:()=>me,qq:()=>we})},4650:(ht,xe,V)=>{V.d(xe,{$8M:()=>cr,$Z:()=>IT,AFp:()=>Xg,ALo:()=>Qv,AaK:()=>me,BQk:()=>Dg,CHM:()=>ul,CRH:()=>CI,CZH:()=>Ln,CqO:()=>fv,D6c:()=>bR,DdM:()=>jg,EJc:()=>Q0,EiD:()=>Qd,EpF:()=>Eg,F$t:()=>PC,F4k:()=>RC,FYo:()=>yt,FiY:()=>Ae,G48:()=>ZI,Gf:()=>rb,GfV:()=>th,GkF:()=>MC,Gpc:()=>z,Gre:()=>DS,Hsn:()=>_v,Ikx:()=>Ng,JOm:()=>Ml,JVY:()=>qm,KtG:()=>ca,L6k:()=>zf,LAX:()=>gy,LFG:()=>ti,LSH:()=>qc,Lbi:()=>LI,Lck:()=>QS,MAs:()=>TC,MMx:()=>R0,NdJ:()=>Tg,O4$:()=>Mf,OlP:()=>Jt,Oqu:()=>jC,PXZ:()=>cR,Q6J:()=>SC,QGY:()=>kC,QP$:()=>jp,QbO:()=>ub,Qsj:()=>Ti,R0b:()=>xn,RDi:()=>ly,Rgc:()=>Ba,SBq:()=>Be,Sil:()=>SF,Suo:()=>Zg,TTD:()=>zr,TgZ:()=>$i,Tol:()=>Dv,Udp:()=>UC,VKq:()=>oI,W1O:()=>SI,WFA:()=>Lh,X6Q:()=>$I,XFs:()=>bt,Xpm:()=>H,Xts:()=>Al,Y36:()=>gp,YKP:()=>Ug,YNc:()=>EC,Yjl:()=>qt,Yz7:()=>fn,ZZ4:()=>aA,_Bn:()=>k0,_UZ:()=>xC,_Vd:()=>O,_c5:()=>gD,_uU:()=>Iv,aQg:()=>pD,c2e:()=>X1,cJS:()=>ln,cg1:()=>n0,d8E:()=>XC,dDg:()=>oR,deG:()=>ny,dqk:()=>Ze,eBb:()=>my,eFA:()=>rD,ekj:()=>Cv,eoX:()=>rs,f3M:()=>Zu,g9A:()=>vo,h0i:()=>Lp,hGG:()=>VF,hij:()=>kp,iGM:()=>wI,ifc:()=>tn,ip1:()=>Hl,kL8:()=>r0,kcU:()=>Ud,lG2:()=>Ui,lcZ:()=>P0,lqb:()=>Us,lri:()=>UI,mCW:()=>Bc,n5z:()=>Sc,n_E:()=>Kh,oAB:()=>pt,oJD:()=>qn,oxw:()=>sS,pB0:()=>Zd,q3G:()=>di,q4F:()=>Zc,qLn:()=>rg,qOj:()=>vC,qZA:()=>dv,qzn:()=>Vs,rWj:()=>HI,sBO:()=>hR,sIi:()=>Ip,s_b:()=>zg,soG:()=>db,tb:()=>cb,tp0:()=>ft,uIk:()=>Ll,vHH:()=>Ee,vpe:()=>zs,wAp:()=>Tt,xp6:()=>zn,ynx:()=>hv,z2F:()=>wd,z3N:()=>Ho,zSh:()=>ep,zs3:()=>fh});var s=V(7579),re=V(727),L=V(9751),de=V(6451),le=V(3099);function ge(a){for(let l in a)if(a[l]===ge)return l;throw Error("Could not find renamed property on target object.")}function ie(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function me(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(me).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function _e(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=ge({__forward_ref__:ge});function z(a){return a.__forward_ref__=z,a.toString=function(){return me(this())},a}function ee(a){return Ue(a)?a():a}function Ue(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===z}class Ee extends Error{constructor(l,u){super(function lt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function we(a){return"string"==typeof a?a:null==a?"":String(a)}function Ce(a,l){throw new Ee(-201,!1)}function Zt(a,l){null==a&&function Je(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function fn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ln(a){return{providers:a.providers||[],imports:a.imports||[]}}function Yt(a){return ks(a,Rs)||ks(a,xr)}function ks(a,l){return a.hasOwnProperty(l)?a[l]:null}function Ar(a){return a&&(a.hasOwnProperty(So)||a.hasOwnProperty(ds))?a[So]:null}const Rs=ge({\u0275prov:ge}),So=ge({\u0275inj:ge}),xr=ge({ngInjectableDef:ge}),ds=ge({ngInjectorDef:ge});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Mr;function $n(a){const l=Mr;return Mr=a,l}function Os(a,l,u){const h=Yt(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&bt.Optional?null:void 0!==l?l:void Ce(me(a))}function Kn(a){return{toString:a}.toString()}var yi=(()=>((yi=yi||{})[yi.OnPush=0]="OnPush",yi[yi.Default=1]="Default",yi))(),tn=(()=>{return(a=tn||(tn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",tn;var a})();const Ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xi={},Pt=[],jr=ge({\u0275cmp:ge}),Mi=ge({\u0275dir:ge}),hs=ge({\u0275pipe:ge}),vn=ge({\u0275mod:ge}),kr=ge({\u0275fac:ge}),G=ge({__NG_ELEMENT_ID__:ge});let Y=0;function H(a){return Kn(()=>{const u=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===yi.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Pt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c"+Y++,styles:a.styles||Pt,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,b=a.features;return f.inputs=cn(a.inputs,h),f.outputs=cn(a.outputs),b&&b.forEach(D=>D(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(K).filter(Me):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(vi).filter(Me):null,f})}function K(a){return jt(a)||Hn(a)}function Me(a){return null!==a}const Ye={};function pt(a){return Kn(()=>{const l={type:a.type,bootstrap:a.bootstrap||Pt,declarations:a.declarations||Pt,imports:a.imports||Pt,exports:a.exports||Pt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Ye[a.id]=a.type),l})}function cn(a,l){if(null==a)return xi;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}const Ui=H;function qt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function jt(a){return a[jr]||null}function Hn(a){return a[Mi]||null}function vi(a){return a[hs]||null}function Qi(a,l){const u=a[vn]||null;if(!u&&!0===l)throw new Error(`Type ${me(a)} does not have '\u0275mod' property.`);return u}function Wt(a){return Array.isArray(a)&&"object"==typeof a[1]}function Rr(a){return Array.isArray(a)&&!0===a[1]}function dc(a){return 0!=(8&a.flags)}function hc(a){return 2==(2&a.flags)}function Ns(a){return 1==(1&a.flags)}function Or(a){return null!==a.template}function ia(a){return 0!=(256&a[2])}function Mo(a,l){return a.hasOwnProperty(kr)?a[kr]:null}class Od{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function zr(){return ko}function ko(a){return a.type.prototype.ngOnChanges&&(a.setInput=pc),ol}function ol(){const a=gc(this),l=a?.current;if(l){const u=a.previous;if(u===xi)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function pc(a,l,u,h){const f=gc(a)||function Sm(a,l){return a[mc]=l}(a,{previous:xi,current:null}),g=f.current||(f.current={}),b=f.previous,D=this.declaredInputs[u],T=b[D];g[D]=new Od(T&&T.currentValue,l,b===xi),a[h]=l}zr.ngInherit=!0;const mc="__ngSimpleChanges__";function gc(a){return a[mc]||null}function Jn(a){for(;Array.isArray(a);)a=a[0];return a}function yc(a,l){return Jn(l[a])}function Ci(a,l){return Jn(l[a.index])}function sa(a,l){return a.data[l]}function Ro(a,l){return a[l]}function Hi(a,l){const u=l[a];return Wt(u)?u:u[0]}function oa(a){return 4==(4&a[2])}function Js(a){return 64==(64&a[2])}function $r(a,l){return null==l?null:a[l]}function Oo(a){a[18]=0}function vc(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const ot={lFrame:xu(null),bindingsEnabled:!0};function la(){return ot.bindingsEnabled}function Ie(){return ot.lFrame.lView}function Gt(){return ot.lFrame.tView}function ul(a){return ot.lFrame.contextLView=a,a[8]}function ca(a){return ot.lFrame.contextLView=null,a}function Yn(){let a=dl();for(;null!==a&&64===a.type;)a=a.parent;return a}function dl(){return ot.lFrame.currentTNode}function Zr(a,l){const u=ot.lFrame;u.currentTNode=a,u.isParent=l}function bc(){return ot.lFrame.isParent}function hl(){ot.lFrame.isParent=!1}function ki(){const a=ot.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function da(){return ot.lFrame.bindingIndex++}function ms(a){const l=ot.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function pl(a,l){const u=ot.lFrame;u.bindingIndex=u.bindingRootIndex=a,ml(l)}function ml(a){ot.lFrame.currentDirectiveIndex=a}function gl(a){const l=ot.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Au(){return ot.lFrame.currentQueryIndex}function wc(a){ot.lFrame.currentQueryIndex=a}function Ld(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function _l(a,l,u){if(u&bt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||u&bt.Host||(f=Ld(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const h=ot.lFrame=Vd();return h.currentTNode=l,h.lView=a,!0}function Cc(a){const l=Vd(),u=a[1];ot.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Vd(){const a=ot.lFrame,l=null===a?null:a.child;return null===l?xu(a):l}function xu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Mu(){const a=ot.lFrame;return ot.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ku=Mu;function Ru(){const a=Mu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Di(){return ot.lFrame.selectedIndex}function eo(a){ot.lFrame.selectedIndex=a}function Dn(){const a=ot.lFrame;return sa(a.tView,a.selectedIndex)}function Mf(){ot.lFrame.currentNamespace="svg"}function Ud(){!function xm(){ot.lFrame.currentNamespace=null}()}function Rf(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:R}=g;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),D&&((a.contentHooks||(a.contentHooks=[])).push(u,D),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,D)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(u,R)}}function km(a,l,u){ha(a,l,3,u)}function Nu(a,l,u,h){(3&a[2])===u&&ha(a,l,u,h)}function Of(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function ha(a,l,u,h){const g=h??-1,b=l.length-1;let D=0;for(let T=void 0!==h?65535&a[18]:0;T<b;T++)if("number"==typeof l[T+1]){if(D=l[T],null!=h&&D>=h)break}else l[T]<0&&(a[18]+=65536),(D<g||-1==g)&&(Hd(a,u,l,T),a[18]=(4294901760&a[18])+T+2),T++}function Hd(a,l,u,h){const f=u[h]<0,g=u[h+1],D=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class yl{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function ma(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const g=u[h++],b=u[h++],D=u[h++];a.setAttribute(l,b,D,g)}else{const g=f,b=u[++h];ga(g)?a.setProperty(l,g,b):a.setAttribute(l,g,b),h++}}return h}function Om(a){return 3===a||4===a||6===a}function ga(a){return 64===a.charCodeAt(0)}function Lu(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Pm(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Pm(a,l,u,h,f){let g=0,b=a.length;if(-1===l)b=-1;else for(;g<a.length;){const D=a[g++];if("number"==typeof D){if(D===l){b=-1;break}if(D>l){b=g-1;break}}}for(;g<a.length;){const D=a[g];if("number"==typeof D)break;if(D===u){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==b&&(a.splice(b,0,l),g=b+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function Nm(a){return-1!==a}function Dc(a){return 32767&a}function Po(a,l){let u=function gs(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Ec=!0;function _s(a){const l=Ec;return Ec=a,l}let Xn=0;const mt={};function He(a,l){const u=no(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Kt(h.data,a),Kt(l,null),Kt(h.blueprint,null));const f=Vu(a,l),g=a.injectorIndex;if(Nm(f)){const b=Dc(f),D=Po(f,l),T=D[1].data;for(let A=0;A<8;A++)l[g+A]=D[b+A]|T[b+A]}return l[g+8]=f,g}function Kt(a,l){a.push(0,0,0,0,0,0,0,0,l)}function no(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Vu(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=ji(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function _a(a,l,u){!function to(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(G)&&(h=u[G]),null==h&&(h=u[G]=Xn++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function ei(a,l,u){if(u&bt.Optional)return a;Ce()}function pn(a,l,u,h){if(u&bt.Optional&&void 0===h&&(h=null),0==(u&(bt.Self|bt.Host))){const f=a[9],g=$n(void 0);try{return f?f.get(l,h,u&bt.Optional):Os(l,h,u&bt.Optional)}finally{$n(g)}}return ei(h,0,u)}function Tc(a,l,u,h=bt.Default,f){if(null!==a){if(1024&l[2]){const b=function Xi(a,l,u,h,f){let g=a,b=l;for(;null!==g&&null!==b&&1024&b[2]&&!(256&b[2]);){const D=$e(g,b,u,h|bt.Self,mt);if(D!==mt)return D;let T=g.parent;if(!T){const A=b[21];if(A){const R=A.get(u,mt,h);if(R!==mt)return R}T=ji(b),b=b[15]}g=T}return f}(a,l,u,h,mt);if(b!==mt)return b}const g=$e(a,l,u,h,mt);if(g!==mt)return g}return pn(l,u,h,f)}function $e(a,l,u,h,f){const g=function io(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(G)?a[G]:void 0;return"number"==typeof l?l>=0?255&l:Ff:l}(u);if("function"==typeof g){if(!_l(l,a,h))return h&bt.Host?ei(f,0,h):pn(l,u,h,f);try{const b=g(h);if(null!=b||h&bt.Optional)return b;Ce()}finally{ku()}}else if("number"==typeof g){let b=null,D=no(a,l),T=-1,A=h&bt.Host?l[16][6]:null;for((-1===D||h&bt.SkipSelf)&&(T=-1===D?Vu(a,l):l[D+8],-1!==T&&Qt(h,!1)?(b=l[1],D=Dc(T),l=Po(T,l)):D=-1);-1!==D;){const R=l[1];if(Uu(g,D,R.data)){const B=Bu(D,l,u,b,h,A);if(B!==mt)return B}T=l[D+8],-1!==T&&Qt(h,l[1].data[D+8]===A)&&Uu(g,D,l)?(b=R,D=Dc(T),l=Po(T,l)):D=-1}}return f}function Bu(a,l,u,h,f,g){const b=l[1],D=b.data[a+8],R=Yr(D,b,u,null==h?hc(D)&&Ec:h!=b&&0!=(3&D.type),f&bt.Host&&g===D);return null!==R?Wr(l,b,R,D):mt}function Yr(a,l,u,h,f){const g=a.providerIndexes,b=l.data,D=1048575&g,T=a.directiveStart,R=g>>20,Q=f?D+R:a.directiveEnd;for(let se=h?D:D+R;se<Q;se++){const Te=b[se];if(se<T&&u===Te||se>=T&&Te.type===u)return se}if(f){const se=b[T];if(se&&Or(se)&&se.type===u)return T}return null}function Wr(a,l,u,h){let f=a[u];const g=l.data;if(function Fu(a){return a instanceof yl}(f)){const b=f;b.resolving&&function st(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ye(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():we(a)}(g[u]));const D=_s(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?$n(b.injectImpl):null;_l(a,h,bt.Default);try{f=a[u]=b.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function Mm(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const b=ko(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==T&&$n(T),_s(D),b.resolving=!1,ku()}}return f}function Uu(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Qt(a,l){return!(a&bt.Self||a&bt.Host&&l)}class En{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Tc(this._tNode,this._lView,l,h,u)}}function Ff(){return new En(Yn(),Ie())}function Sc(a){return Kn(()=>{const l=a.prototype.constructor,u=l[kr]||ve(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[kr]||ve(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ve(a){return Ue(a)?()=>{const l=ve(ee(a));return l&&l()}:Mo(a)}function ji(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function cr(a){return function Pn(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(Om(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Yn(),a)}const _r="__parameters__";function Ct(a,l,u){return Kn(()=>{const h=function ro(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const b=new f(...g);return D.annotation=b,D;function D(T,A,R){const B=T.hasOwnProperty(_r)?T[_r]:Object.defineProperty(T,_r,{value:[]})[_r];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(b),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Jt{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=fn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ny=new Jt("AnalyzeForEntryComponents");function Pi(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Pi(h,l)):l!==a&&l.push(h)}return l}function Kr(a,l){a.forEach(u=>Array.isArray(u)?Kr(u,l):l(u))}function Ac(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Ni(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function so(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function tr(a,l,u){let h=No(a,l);return h>=0?a[1|h]=u:(h=~h,function Bm(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Mc(a,l){const u=No(a,l);if(u>=0)return a[1|u]}function No(a,l){return function bs(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const g=h+(f-h>>1),b=a[g<<u];if(l===b)return g<<u;b>l?f=g:h=g+1}return~(f<<u)}(a,l,1)}const Ls={},Lo="__NG_DI_FLAG__",Cl="ngTempTokenPath",oo=/\n/gm,kn="__source";let ao;function ya(a){const l=ao;return ao=a,l}function va(a,l=bt.Default){if(void 0===ao)throw new Ee(-203,!1);return null===ao?Os(a,void 0,l):ao.get(a,l&bt.Optional?null:void 0,l)}function ti(a,l=bt.Default){return(function li(){return Mr}()||va)(ee(a),l)}function Zu(a,l=bt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ti(a,l)}function S(a){const l=[];for(let u=0;u<a.length;u++){const h=ee(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Ee(900,!1);let f,g=bt.Default;for(let b=0;b<h.length;b++){const D=h[b],T=k(D);"number"==typeof T?-1===T?f=D.token:g|=T:f=D}l.push(ti(f,g))}else l.push(ti(h))}return l}function I(a,l){return a[Lo]=l,a.prototype[Lo]=l,a}function k(a){return a[Lo]}const Ae=I(Ct("Optional"),8),ft=I(Ct("SkipSelf"),4);let $d,El,Gf;function ly(a){$d=a}function Fc(a){return function Wu(){if(void 0===El&&(El=null,Ze.trustedTypes))try{El=Ze.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return El}()?.createHTML(a)||a}function dy(a){return function Ca(){if(void 0===Gf&&(Gf=null,Ze.trustedTypes))try{Gf=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Gf}()?.createHTML(a)||a}class Sl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ku extends Sl{getTypeName(){return"HTML"}}class fy extends Sl{getTypeName(){return"Style"}}class Lc extends Sl{getTypeName(){return"Script"}}class py extends Sl{getTypeName(){return"URL"}}class yr extends Sl{getTypeName(){return"ResourceURL"}}function Ho(a){return a instanceof Sl?a.changingThisBreaksApplicationSecurity:a}function Vs(a,l){const u=function qf(a){return a instanceof Sl&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function qm(a){return new Ku(a)}function zf(a){return new fy(a)}function my(a){return new Lc(a)}function gy(a){return new py(a)}function Zd(a){return new yr(a)}class Da{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Fc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class $m{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Fc(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Fc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Vc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bc(a){return(a=String(a)).match(Vc)||a.match(Zm)?a:"unsafe:"+a}function Qr(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Qu(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const Ym=Qr("area,br,col,hr,img,wbr"),Wd=Qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_y=Qr("rp,rt"),Uc=Qu(Ym,Qu(Wd,Qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qu(_y,Qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qu(_y,Wd)),jo=Qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hc=Qr("srcset"),Ea=Qu(jo,Hc,Qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kd=Qr("script,style,template");class jc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Uc.hasOwnProperty(u))return this.sanitizedSomething=!0,!Kd.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),b=g.name,D=b.toLowerCase();if(!Ea.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=g.value;jo[D]&&(T=Bc(T)),Hc[D]&&(a=T,T=(a=String(a)).split(",").map(l=>Bc(l.trim())).join(", ")),this.buf.push(" ",b,'="',Il(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Uc.hasOwnProperty(u)&&!Ym.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Il(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const vy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yf=/([^\#-~ |!])/g;function Il(a){return a.replace(/&/g,"&amp;").replace(vy,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Yf,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bs;function Qd(a,l){let u=null;try{Bs=Bs||function zm(a){const l=new $m(a);return function $f(){try{return!!(new window.DOMParser).parseFromString(Fc(""),"text/html")}catch{return!1}}()?new Da(l):l}(a);let h=l?String(l):"";u=Bs.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=Bs.getInertBodyElement(h)}while(h!==g);return Fc((new jc).sanitizeChildren(Gc(u)||u))}finally{if(u){const h=Gc(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Gc(a){return"content"in a&&function Wf(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function qn(a){const l=zc();return l?dy(l.sanitize(di.HTML,a)||""):Vs(a,"HTML")?dy(Ho(a)):Qd(function cy(){return void 0!==$d?$d:typeof document<"u"?document:void 0}(),we(a))}function qc(a){const l=zc();return l?l.sanitize(di.URL,a)||"":Vs(a,"URL")?Ho(a):Bc(we(a))}function zc(){const a=Ie();return a&&a[12]}const Al=new Jt("ENVIRONMENT_INITIALIZER"),Ta=new Jt("INJECTOR",-1),Xd=new Jt("INJECTOR_DEF_TYPES");class Km{get(l,u=Ls){if(u===Ls){const h=new Error(`NullInjectorError: No provider for ${me(l)}!`);throw h.name="NullInjectorError",h}return u}}function Jr(...a){return{\u0275providers:lo(0,a)}}function lo(a,...l){const u=[],h=new Set;let f;return Kr(l,g=>{const b=g;Jm(b,u,[],h)&&(f||(f=[]),f.push(b))}),void 0!==f&&Qm(f,u),u}function Qm(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];Kr(f,g=>{l.push(g)})}}function Jm(a,l,u,h){if(!(a=ee(a)))return!1;let f=null,g=Ar(a);const b=!g&&jt(a);if(g||b){if(b&&!b.standalone)return!1;f=a}else{const T=a.ngModule;if(g=Ar(T),!g)return!1;f=T}const D=h.has(f);if(b){if(D)return!1;if(h.add(f),b.dependencies){const T="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const A of T)Jm(A,l,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let A;h.add(f);try{Kr(g.imports,R=>{Jm(R,l,u,h)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&Qm(A,l)}if(!D){const A=Mo(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:Pt},{provide:Xd,useValue:f,multi:!0},{provide:Al,useValue:()=>ti(f),multi:!0})}const T=g.providers;null==T||D||Kr(T,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}const eg=ge({provide:String,useValue:ge});function Qf(a){return null!==a&&"object"==typeof a&&eg in a}function vr(a){return"function"==typeof a}const ep=new Jt("Set Injector scope."),Xu={},Iw={};let tp;function ur(){return void 0===tp&&(tp=new Km),tp}class Us{}class xl extends Us{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ng(l,b=>this.processProvider(b)),this.records.set(Ta,uo(void 0,this)),f.has("environment")&&this.records.set(Us,uo(void 0,this));const g=this.records.get(ep);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Xd.multi,Pt,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=ya(this),h=$n(void 0);try{return l()}finally{ya(u),$n(h)}}get(l,u=Ls,h=bt.Default){this.assertNotDestroyed();const f=ya(this),g=$n(void 0);try{if(!(h&bt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const T=function Dy(a){return"function"==typeof a||"object"==typeof a&&a instanceof Jt}(l)&&Yt(l);D=T&&this.injectableDefInScope(T)?uo(ed(l),Xu):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(h&bt.Self?ur():this.parent).get(l,u=h&bt.Optional&&u===Ls?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Cl]=b[Cl]||[]).unshift(me(l)),f)throw b;return function U(a,l,u,h){const f=a[Cl];throw l[kn]&&f.unshift(l[kn]),a.message=function te(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=me(l);if(Array.isArray(l))f=l.map(me).join(" -> ");else if("object"==typeof l){let g=[];for(let b in l)if(l.hasOwnProperty(b)){let D=l[b];g.push(b+":"+("string"==typeof D?JSON.stringify(D):me(D)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(oo,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[Cl]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{$n(g),ya(f)}}resolveInjectorInitializers(){const l=ya(this),u=$n(void 0);try{const h=this.get(Al.multi,Pt,bt.Self);for(const f of h)f()}finally{ya(l),$n(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(me(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(l){let u=vr(l=ee(l))?l:ee(l&&l.provide);const h=function td(a){return Qf(a)?uo(void 0,a.useValue):uo($c(a),Xu)}(l);if(vr(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=uo(void 0,Xu,!0),f.factory=()=>S(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Xu&&(u.value=Iw,u.value=u.factory()),"object"==typeof u.value&&u.value&&function hi(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ee(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function ed(a){const l=Yt(a),u=null!==l?l.factory:Mo(a);if(null!==u)return u;if(a instanceof Jt)throw new Ee(204,!1);if(a instanceof Function)return function co(a){const l=a.length;if(l>0)throw so(l,"?"),new Ee(204,!1);const u=function Ur(a){const l=a&&(a[Rs]||a[xr]);if(l){const u=function ar(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ee(204,!1)}function $c(a,l,u){let h;if(vr(a)){const f=ee(a);return Mo(f)||ed(f)}if(Qf(a))h=()=>ee(a.useValue);else if(function Xf(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...S(a.deps||[]));else if(function Jf(a){return!(!a||!a.useExisting)}(a))h=()=>ti(ee(a.useExisting));else{const f=ee(a&&(a.useClass||a.provide));if(!function Aw(a){return!!a.deps}(a))return Mo(f)||ed(f);h=()=>new f(...S(a.deps))}return h}function uo(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function xw(a){return!!a.\u0275providers}function ng(a,l){for(const u of a)Array.isArray(u)?ng(u,l):xw(u)?ng(u.\u0275providers,l):l(u)}class v{}class x{resolveComponentFactory(l){throw function m(a){const l=Error(`No component factory found for ${me(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let O=(()=>{class a{}return a.NULL=new x,a})();function J(){return he(Yn(),Ie())}function he(a,l){return new Be(Ci(a,l))}let Be=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=J,a})();function rt(a){return a instanceof Be?a.nativeElement:a}class yt{}let Ti=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Xr(){const a=Ie(),u=Hi(Yn().index,a);return(Wt(u)?u:a)[11]}(),a})(),eh=(()=>{class a{}return a.\u0275prov=fn({token:a,providedIn:"root",factory:()=>null}),a})();class th{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Zc=new th("14.1.0"),np={};function id(a){return a.ngOriginalError}class rg{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&id(l);for(;u&&id(u);)u=id(u);return u||null}}const xy=new Map;let br=0;const ct="__ngContext__";function dt(a,l){Wt(l)?(a[ct]=l[20],function rd(a){xy.set(a[20],a)}(l)):a[ct]=l}function sg(a){const l=a[ct];return"number"==typeof l?function My(a){return xy.get(a)||null}(l):l||null}function tt(a){const l=sg(a);return l?Wt(l)?l:l.lView:null}const sT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ze))();function Ot(a){return a instanceof Function?a():a}var Ml=(()=>((Ml=Ml||{})[Ml.Important=1]="Important",Ml[Ml.DashCase=2]="DashCase",Ml))();function Qe(a,l){return undefined(a,l)}function sd(a){const l=a[3];return Rr(l)?l[3]:l}function Py(a){return Ny(a[13])}function ws(a){return Ny(a[4])}function Ny(a){for(;null!==a&&!Rr(a);)a=a[4];return a}function ah(a,l,u,h,f){if(null!=h){let g,b=!1;Rr(h)?g=h:Wt(h)&&(b=!0,h=h[0]);const D=Jn(h);0===a&&null!==u?null==f?cg(l,u,D):Nn(l,u,D,f||null,!0):1===a&&null!==u?Nn(l,u,D,f||null,!0):2===a?function dT(a,l,u){const h=Wc(a,l);h&&function Fn(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,D,b):3===a&&l.destroyNode(D),null!=g&&function ld(a,l,u,h,f){const g=u[7];g!==Jn(u)&&ah(l,a,h,g,f);for(let D=10;D<u.length;D++){const T=u[D];Kc(T[1],T,a,l,h,g)}}(l,a,g,u,f)}}function lp(a,l,u){return a.createElement(l,u)}function Lw(a,l){const u=a[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,vc(f,-1)),u.splice(h,1)}function lg(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&Lw(f,h),l>0&&(a[u-1][4]=h[4]);const g=Ni(a,10+l);!function Sa(a,l){Kc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function aT(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Kc(a,l,u,3,null,null),function od(a){let l=a[13];if(!l)return Vw(a[1],a);for(;l;){let u=null;if(Wt(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)Wt(l)&&Vw(l[1],l),l=l[3];null===l&&(l=a),Wt(l)&&Vw(l[1],l),u=l&&l[4]}l=u}}(l)}}function Vw(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function lT(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof yl)){const g=u[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const D=f[g[b]],T=g[b+1];try{T.call(D)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function js(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const b=u[g+1],D="function"==typeof b?b(l):Jn(l[b]),T=h[f=u[g+2]],A=u[g+3];"boolean"==typeof A?D.removeEventListener(u[g],T,A):A>=0?h[f=A]():h[f=-A].unsubscribe(),g+=2}else{const b=h[f=u[g+1]];u[g].call(b)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Rr(l[3])){u!==l[3]&&Lw(u,l);const h=l[19];null!==h&&h.detachView(a)}!function XM(a){xy.delete(a[20])}(l)}}function ad(a,l,u){return function Bw(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return Ci(h,u)}(a,l.parent,u)}function Nn(a,l,u,h,f){a.insertBefore(l,u,h,f)}function cg(a,l,u){a.appendChild(l,u)}function wr(a,l,u,h,f){null!==h?Nn(a,l,u,h,f):cg(a,l,u)}function Wc(a,l){return a.parentNode(l)}function cT(a,l,u){return uT(a,l,u)}let uT=function ir(a,l,u){return 40&a.type?Ci(a,u):null};function Ol(a,l,u,h){const f=ad(a,h,l),g=l[11],D=cT(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)wr(g,f,u[T],D,!1);else wr(g,f,u,D,!1)}function cp(a,l){if(null!==l){const u=l.type;if(3&u)return Ci(l,a);if(4&u)return ch(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return cp(a,h);{const f=a[l.index];return Rr(f)?ch(-1,f):Jn(f)}}if(32&u)return Qe(l,a)()||Jn(a[l.index]);{const h=Uw(a,l);return null!==h?Array.isArray(h)?h[0]:cp(sd(a[16]),h):cp(a,l.next)}}return null}function Uw(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ch(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return cp(h,f)}return l[7]}function Ia(a,l,u,h,f,g,b){for(;null!=u;){const D=h[u.index],T=u.type;if(b&&0===l&&(D&&dt(Jn(D),h),u.flags|=4),64!=(64&u.flags))if(8&T)Ia(a,l,u.child,h,f,g,!1),ah(l,a,f,D,g);else if(32&T){const A=Qe(u,h);let R;for(;R=A();)ah(l,a,f,R,g);ah(l,a,f,D,g)}else 16&T?Hw(a,l,h,u,f,g):ah(l,a,f,D,g);u=b?u.projectionNext:u.next}}function Kc(a,l,u,h,f,g){Ia(u,h,a.firstChild,l,f,g,!1)}function Hw(a,l,u,h,f,g){const b=u[16],T=b[6].projection[h.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)ah(l,a,f,T[A],g);else Ia(a,l,T,b[3],f,g,!0)}function cd(a,l,u){a.setAttribute(l,"style",u)}function Go(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function up(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}u=f+1}}const jw="ng-template";function dp(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==up(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function Vy(a){return 4===a.type&&a.value!==jw}function dh(a,l,u){return l===(4!==a.type||u?a.value:jw)}function Gw(a,l,u){let h=4;const f=a.attrs||[],g=function dg(a){for(let l=0;l<a.length;l++)if(Om(a[l]))return l;return a.length}(f);let b=!1;for(let D=0;D<l.length;D++){const T=l[D];if("number"!=typeof T){if(!b)if(4&h){if(h=2|1&h,""!==T&&!dh(a,T,u)||""===T&&1===l.length){if(Cs(h))return!1;b=!0}}else{const A=8&h?T:l[++D];if(8&h&&null!==a.attrs){if(!dp(a.attrs,A,u)){if(Cs(h))return!1;b=!0}continue}const B=hT(8&h?"class":T,f,Vy(a),u);if(-1===B){if(Cs(h))return!1;b=!0;continue}if(""!==A){let Q;Q=B>g?"":f[B+1].toLowerCase();const se=8&h?Q:null;if(se&&-1!==up(se,A,0)||2&h&&A!==Q){if(Cs(h))return!1;b=!0}}}}else{if(!b&&!Cs(h)&&!Cs(T))return!1;if(b&&Cs(T))continue;b=!1,h=T|1&h}}return Cs(h)||b}function Cs(a){return 0==(1&a)}function hT(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)g=!0;else{if(1===b||2===b){let D=l[++f];for(;"string"==typeof D;)D=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=g?1:2}return-1}return function fT(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function qw(a,l,u=!1){for(let h=0;h<l.length;h++)if(Gw(a,l[h],u))return!0;return!1}function ck(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function pT(a,l){return a?":not("+l.trim()+")":l}function mT(a){let l=a[0],u=1,h=2,f="",g=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const D=a[++u];f+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!Cs(b)&&(l+=pT(g,f),f=""),h=b,g=g||!Cs(h);u++}return""!==f&&(l+=pT(g,f)),l}const Ut={};function zn(a){_T(Gt(),Ie(),Di()+a,!1)}function _T(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&km(l,g,u)}else{const g=a.preOrderHooks;null!==g&&Nu(l,g,0,u)}eo(u)}function bT(a,l=null,u=null,h){const f=wT(a,l,u,h);return f.resolveInjectorInitializers(),f}function wT(a,l=null,u=null,h,f=new Set){const g=[u||Pt,Jr(a)];return h=h||("object"==typeof a?void 0:me(a)),new xl(g,l||ur(),h||null,f)}let fh=(()=>{class a{static create(u,h){if(Array.isArray(u))return bT({name:""},h,u,"");{const f=u.name??"";return bT({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=Ls,a.NULL=new Km,a.\u0275prov=fn({token:a,providedIn:"any",factory:()=>ti(Ta)}),a.__NG_ELEMENT_ID__=-1,a})();function gp(a,l=bt.Default){const u=Ie();return null===u?ti(a,l):Tc(Yn(),u,ee(a),l)}function IT(){throw new Error("invalid")}function Jc(a,l){return a<<17|l<<2}function Fr(a){return a>>17&32767}function qy(a){return 2|a}function Gs(a){return(131068&a)>>2}function zy(a,l){return-131069&a|l<<2}function _h(a){return 1|a}function cC(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],g=u[h+1];if(-1!==g){const b=a.data[g];wc(f),b.contentQueries(2,l[g],g)}}}function Qy(a,l,u,h,f,g,b,D,T,A,R){const B=l.blueprint.slice();return B[0]=f,B[2]=76|h,(null!==R||a&&1024&a[2])&&(B[2]|=1024),Oo(B),B[3]=B[15]=a,B[8]=u,B[10]=b||a&&a[10],B[11]=D||a&&a[11],B[12]=T||a&&a[12]||null,B[9]=A||a&&a[9]||null,B[6]=g,B[20]=function sp(){return br++}(),B[21]=R,B[16]=2==l.type?a[16]:B,B}function Pl(a,l,u,h,f){let g=a.data[l];if(null===g)g=function Jy(a,l,u,h,f){const g=dl(),b=bc(),T=a.data[l]=function gg(a,l,u,h,f,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=T),null!==g&&(b?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(a,l,u,h,f),function Af(){return ot.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const b=function ua(){const a=ot.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Zr(g,!0),g}function wp(a,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function zi(a,l,u){Cc(l);try{const h=a.viewQuery;null!==h&&gC(1,h,u);const f=a.template;null!==f&&Cp(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&cC(a,l),a.staticViewQueries&&gC(2,a.viewQuery,u);const g=a.components;null!==g&&function wk(a,l){for(let u=0;u<l.length;u++)Nk(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Ru()}}function Dh(a,l,u,h){const f=l[2];if(128!=(128&f)){Cc(l);try{Oo(l),function Fd(a){return ot.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Cp(a,l,u,2,h);const b=3==(3&f);if(b){const A=a.preOrderCheckHooks;null!==A&&km(l,A,null)}else{const A=a.preOrderHooks;null!==A&&Nu(l,A,0,null),Of(l,0)}if(function Ok(a){for(let l=Py(a);null!==l;l=ws(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],g=f[3];0==(512&f[2])&&vc(g,1),f[2]|=512}}}(l),function Rk(a){for(let l=Py(a);null!==l;l=ws(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];Js(h)&&Dh(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&cC(a,l),b){const A=a.contentCheckHooks;null!==A&&km(l,A)}else{const A=a.contentHooks;null!==A&&Nu(l,A,1),Of(l,1)}!function NT(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)eo(~f);else{const g=f,b=u[++h],D=u[++h];pl(b,g),D(2,l[g])}}}finally{eo(-1)}}(a,l);const D=a.components;null!==D&&function bk(a,l){for(let u=0;u<l.length;u++)Pk(a,l[u])}(l,D);const T=a.viewQuery;if(null!==T&&gC(2,T,h),b){const A=a.viewCheckHooks;null!==A&&km(l,A)}else{const A=a.viewHooks;null!==A&&Nu(l,A,2),Of(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,vc(l[3],-1))}finally{Ru()}}}function FT(a,l,u,h){const f=l[10],b=oa(l);try{!b&&f.begin&&f.begin(),b&&zi(a,l,h),Dh(a,l,u,h)}finally{!b&&f.end&&f.end()}}function Cp(a,l,u,h,f){const g=Di(),b=2&h;try{eo(-1),b&&l.length>22&&_T(a,l,22,!1),u(h,f)}finally{eo(g)}}function Aa(a,l,u){if(dc(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const b=a.data[g];b.contentQueries&&b.contentQueries(1,u[g],g)}}}function mg(a,l,u){!la()||(function Ik(a,l,u,h){const f=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||He(u,l),dt(h,l);const b=u.initialInputs;for(let D=f;D<g;D++){const T=a.data[D],A=Or(T);A&&nv(l,u,T);const R=Wr(l,a,D,u);dt(R,l),null!==b&&Mk(0,D-f,R,T,0,b),A&&(Hi(u.index,l)[8]=R)}}(a,l,u,Ci(u,l)),128==(128&u.flags)&&function Ak(a,l,u){const h=u.directiveStart,f=u.directiveEnd,g=u.index,b=function Am(){return ot.lFrame.currentDirectiveIndex}();try{eo(g);for(let D=h;D<f;D++){const T=a.data[D],A=l[D];ml(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&HT(T,A)}}finally{eo(-1),ml(b)}}(a,l,u))}function Xy(a,l,u=Ci){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],D=-1===b?u(l,a):a[b];a[f++]=D}}}function Dp(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=ev(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function ev(a,l,u,h,f,g,b,D,T,A){const R=22+h,B=R+f,Q=function LT(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Ut);return u}(R,B),se="function"==typeof A?A():A;return Q[1]={type:a,blueprint:Q,template:u,queries:null,viewQuery:D,declTNode:l,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:se,incompleteFirstPass:!1}}function VT(a,l,u,h){const f=sv(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&ov(a).push(h,f.length-1))}function tv(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function BT(a,l){const h=l.directiveEnd,f=a.data,g=l.attrs,b=[];let D=null,T=null;for(let A=l.directiveStart;A<h;A++){const R=f[A],B=R.inputs,Q=null===g||Vy(l)?null:kk(B,g);b.push(Q),D=tv(B,A,D),T=tv(R.outputs,A,T)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=16),D.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=D,l.outputs=T}function qs(a,l,u,h,f,g,b,D){const T=Ci(l,u);let R,A=l.inputs;!D&&null!=A&&(R=A[h])?(lv(a,u,R,h,f),hc(l)&&uC(u,l.index)):3&l.type&&(h=function UT(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=b?b(f,l.value||"",h):f,g.setProperty(T,h,f))}function uC(a,l){const u=Hi(l,a);16&u[2]||(u[2]|=32)}function dC(a,l,u,h){let f=!1;if(la()){const g=function jT(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];qw(u,b.selectors,!1)&&(f||(f=[]),_a(He(u,l),a,b.type),Or(b)?(ts(a,u),f.unshift(b)):f.push(b))}return f}(a,l,u),b=null===h?null:{"":-1};if(null!==g){f=!0,xa(u,a.data.length,g.length);for(let R=0;R<g.length;R++){const B=g[R];B.providersResolver&&B.providersResolver(B)}let D=!1,T=!1,A=wp(a,l,g.length,null);for(let R=0;R<g.length;R++){const B=g[R];u.mergedAttrs=Lu(u.mergedAttrs,B.hostAttrs),hC(a,u,l,A,B),GT(A,B,b),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const Q=B.type.prototype;!D&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),D=!0),!T&&(Q.ngOnChanges||Q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),A++}BT(a,u)}b&&function xk(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new Ee(-301,!1);h.push(l[f],g)}}}(u,h,b)}return u.mergedAttrs=Lu(u.mergedAttrs,u.attrs),f}function Eh(a,l,u,h,f,g){const b=g.hostBindings;if(b){let D=a.hostBindingOpCodes;null===D&&(D=a.hostBindingOpCodes=[]);const T=~l.index;(function Ep(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(D)!=T&&D.push(T),D.push(h,f,b)}}function HT(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function ts(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function GT(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Or(l)&&(u[""]=a)}}function xa(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function hC(a,l,u,h,f){a.data[h]=f;const g=f.factory||(f.factory=Mo(f.type)),b=new yl(g,Or(f),gp);a.blueprint[h]=b,u[h]=b,Eh(a,l,0,h,wp(a,u,f.hostVars,Ut),f)}function nv(a,l,u){const h=Ci(l,a),f=Dp(u),g=a[10],b=iv(a,Qy(a,f,null,u.onPush?32:16,h,l,g,g.createRenderer(h,u),null,null,null));a[l.index]=b}function Ma(a,l,u,h,f,g){const b=Ci(a,l);!function fC(a,l,u,h,f,g,b){if(null==g)a.removeAttribute(l,f,u);else{const D=null==b?we(g):b(g,h||"",f);a.setAttribute(l,f,D,u)}}(l[11],b,g,a.value,u,h,f)}function Mk(a,l,u,h,f,g){const b=g[l];if(null!==b){const D=h.setInput;for(let T=0;T<b.length;){const A=b[T++],R=b[T++],B=b[T++];null!==D?h.setInput(u,B,A,R):u[R]=B}}}function kk(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function qT(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function Pk(a,l){const u=Hi(l,a);if(Js(u)){const h=u[1];48&u[2]?Dh(h,u,h.template,u[8]):u[5]>0&&pC(u)}}function pC(a){for(let h=Py(a);null!==h;h=ws(h))for(let f=10;f<h.length;f++){const g=h[f];if(512&g[2]){const b=g[1];Dh(b,g,b.template,g[8])}else g[5]>0&&pC(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Hi(u[h],a);Js(f)&&f[5]>0&&pC(f)}}function Nk(a,l){const u=Hi(l,a),h=u[1];(function Fk(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),zi(h,u,u[8])}function iv(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function mC(a){for(;a;){a[2]|=32;const l=sd(a);if(ia(a)&&!l)return a;a=l}return null}function $T(a){!function zT(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=tt(u);if(null!==h){const f=h[1];FT(f,h,f.template,u)}}}(a[8])}function gC(a,l,u){wc(0),l(a,u)}const Cr=(()=>Promise.resolve(null))();function sv(a){return a[7]||(a[7]=[])}function ov(a){return a.cleanup||(a.cleanup=[])}function av(a,l,u){return(null===a||Or(a))&&(u=function Sf(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function nu(a,l){const u=a[9],h=u?u.get(rg,null):null;h&&h.handleError(l)}function lv(a,l,u,h,f){for(let g=0;g<u.length;){const b=u[g++],D=u[g++],T=l[b],A=a.data[b];null!==A.setInput?A.setInput(T,f,h,D):T[D]=f}}function _g(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==l)for(let b=0;b<l.length;b++){const D=l[b];"number"==typeof D?g=D:1==g?f=_e(f,D):2==g&&(h=_e(h,D+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function Th(a,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Jn(g)),Rr(g))for(let D=10;D<g.length;D++){const T=g[D],A=T[1].firstChild;null!==A&&Th(T[1],T,A,h)}const b=u.type;if(8&b)Th(a,l,u.child,h);else if(32&b){const D=Qe(u,l);let T;for(;T=D();)h.push(T)}else if(16&b){const D=Uw(l,u);if(Array.isArray(D))h.push(...D);else{const T=sd(l[16]);Th(T[1],T,D,h,!0)}}u=f?u.projectionNext:u.next}return h}class ka{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Th(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Rr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(lg(l,h),Ni(u,h))}this._attachedToViewContainer=!1}aT(this._lView[1],this._lView)}onDestroy(l){VT(this._lView[1],this._lView,null,l)}markForCheck(){mC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function rv(a,l,u){const h=l[10];h.begin&&h.begin();try{Dh(a,l,a.template,u)}catch(f){throw nu(l,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ag(a,l){Kc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=l}}class Sh extends ka{constructor(l){super(l),this._view=l}detectChanges(){$T(this._view)}checkNoChanges(){}get context(){return null}}class ru extends O{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=jt(l);return new Ih(u,this.ngModule)}}function Tp(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class _C{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,np,h);return f!==np||u===np?f:this.parentInjector.get(l,u,h)}}class Ih extends v{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function gT(a){return a.map(mT).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Tp(this.componentDef.inputs)}get outputs(){return Tp(this.componentDef.outputs)}create(l,u,h,f){let g=(f=f||this.ngModule)instanceof Us?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const b=g?new _C(l,g):l,D=b.get(yt,null);if(null===D)throw new Ee(407,!1);const T=b.get(eh,null),A=D.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=h?function Dk(a,l,u){return a.selectRootElement(l,u===tn.ShadowDom)}(A,h,this.componentDef.encapsulation):lp(D.createRenderer(null,this.componentDef),R,function YT(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),Q=this.componentDef.onPush?288:272,se=function yg(a,l){return{components:[],scheduler:a||sT,clean:Cr,playerHandler:l||null,flags:0}}(),Te=ev(0,null,null,1,0,null,null,null,null,null),Fe=Qy(null,Te,se,Q,null,null,D,A,T,b,null);let Xe,at;Cc(Fe);try{const At=function KT(a,l,u,h,f,g){const b=u[1];u[22]=a;const T=Pl(b,22,2,"#host",null),A=T.mergedAttrs=l.hostAttrs;null!==A&&(_g(T,A,!0),null!==a&&(ma(f,a,A),null!==T.classes&&Go(f,a,T.classes),null!==T.styles&&cd(f,a,T.styles)));const R=h.createRenderer(a,l),B=Qy(u,Dp(l),null,l.onPush?32:16,u[22],T,h,R,g||null,null,null);return b.firstCreatePass&&(_a(He(T,u),b,l.type),ts(b,T),xa(T,u.length,1)),iv(u,B),u[22]=B}(B,this.componentDef,Fe,D,A);if(B)if(h)ma(A,B,["ng-version",Zc.full]);else{const{attrs:Oe,classes:Et}=function Nr(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++h]):8===f&&u.push(g);else{if(!Cs(f))break;f=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Oe&&ma(A,B,Oe),Et&&Et.length>0&&Go(A,B,Et.join(" "))}if(at=sa(Te,22),void 0!==u){const Oe=at.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const rn=u[Et];Oe.push(null!=rn?Array.from(rn):null)}}Xe=function cv(a,l,u,h,f){const g=u[1],b=function Sk(a,l,u){const h=Yn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),hC(a,h,l,wp(a,l,1,null),u),BT(a,h));const f=Wr(l,a,h.directiveStart,h);dt(f,l);const g=Ci(h,l);return g&&dt(g,l),f}(g,u,l);if(h.components.push(b),a[8]=b,null!==f)for(const T of f)T(b,l);if(l.contentQueries){const T=Yn();l.contentQueries(1,b,T.directiveStart)}const D=Yn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(eo(D.index),Eh(u[1],D,0,D.directiveStart,D.directiveEnd,l),HT(l,b)),b}(At,this.componentDef,Fe,se,[Ah]),zi(Te,Fe,null)}finally{Ru()}return new Hk(this.componentType,Xe,he(at,Fe),Fe,at)}}class Hk extends class Mw{}{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Sh(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const g=this._rootLView;lv(g[1],g,f,l,u),uC(g,this._tNode.index)}}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Ah(){const a=Yn();Rf(Ie()[1],a)}function vC(a){let l=function yC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(Or(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ee(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const b=a;b.inputs=bC(a.inputs),b.declaredInputs=bC(a.declaredInputs),b.outputs=bC(a.outputs);const D=f.hostBindings;D&&Mh(a,D);const T=f.viewQuery,A=f.contentQueries;if(T&&vg(a,T),A&&xh(a,A),ie(a.inputs,f.inputs),ie(a.declaredInputs,f.declaredInputs),ie(a.outputs,f.outputs),Or(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let b=0;b<g.length;b++){const D=g[b];D&&D.ngInherit&&D(a),D===vC&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Gk(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Lu(f.hostAttrs,u=Lu(u,f.hostAttrs))}}(h)}function bC(a){return a===xi?{}:a===Pt?[]:a}function vg(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function xh(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function Mh(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Sp=null;function Nl(){if(!Sp){const a=Ze.Symbol;if(a&&a.iterator)Sp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Sp=h)}}}return Sp}function Ip(a){return!!kh(a)&&(Array.isArray(a)||!(a instanceof Map)&&Nl()in a)}function kh(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ra(a,l,u){return a[l]=u}function Lr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Ll(a,l,u,h){const f=Ie();return Lr(f,da(),l)&&(Gt(),Ma(Dn(),f,a,l,u,h)),Ll}function Oh(a,l,u,h){return Lr(a,da(),u)?l+we(u)+h:Ut}function EC(a,l,u,h,f,g,b,D){const T=Ie(),A=Gt(),R=a+22,B=A.firstCreatePass?function rS(a,l,u,h,f,g,b,D,T){const A=l.consts,R=Pl(l,a,4,b||null,$r(A,D));dC(l,u,R,$r(A,T)),Rf(l,R);const B=R.tViews=ev(2,R,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),B.queries=l.queries.embeddedTView(R)),R}(R,A,T,l,u,h,f,g,b):A.data[R];Zr(B,!1);const Q=T[11].createComment("");Ol(A,T,Q,B),dt(Q,T),iv(T,T[R]=qT(Q,T,Q,B)),Ns(B)&&mg(A,T,B),null!=b&&Xy(T,B,D)}function TC(a){return Ro(function Iu(){return ot.lFrame.contextLView}(),22+a)}function SC(a,l,u){const h=Ie();return Lr(h,da(),l)&&qs(Gt(),Dn(),h,a,l,h[11],u,!1),SC}function IC(a,l,u,h,f){const b=f?"class":"style";lv(a,u,l.inputs[b],b,h)}function $i(a,l,u,h){const f=Ie(),g=Gt(),b=22+a,D=f[11],T=f[b]=lp(D,l,function Pu(){return ot.lFrame.currentNamespace}()),A=g.firstCreatePass?function AC(a,l,u,h,f,g,b){const D=l.consts,A=Pl(l,a,2,f,$r(D,g));return dC(l,u,A,$r(D,b)),null!==A.attrs&&_g(A,A.attrs,!1),null!==A.mergedAttrs&&_g(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(b,g,f,0,l,u,h):g.data[b];Zr(A,!0);const R=A.mergedAttrs;null!==R&&ma(D,T,R);const B=A.classes;null!==B&&Go(D,T,B);const Q=A.styles;return null!==Q&&cd(D,T,Q),64!=(64&A.flags)&&Ol(g,f,T,A),0===function Nd(){return ot.lFrame.elementDepthCount}()&&dt(T,f),function Tu(){ot.lFrame.elementDepthCount++}(),Ns(A)&&(mg(g,f,A),Aa(g,A,f)),null!==h&&Xy(f,A),$i}function dv(){let a=Yn();bc()?hl():(a=a.parent,Zr(a,!1));const l=a;!function aa(){ot.lFrame.elementDepthCount--}();const u=Gt();return u.firstCreatePass&&(Rf(u,a),dc(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Pf(a){return 0!=(16&a.flags)}(l)&&IC(u,l,Ie(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function ey(a){return 0!=(32&a.flags)}(l)&&IC(u,l,Ie(),l.stylesWithoutHost,!1),dv}function xC(a,l,u,h){return $i(a,l,u,h),dv(),xC}function hv(a,l,u){const h=Ie(),f=Gt(),g=a+22,b=f.firstCreatePass?function Zk(a,l,u,h,f){const g=l.consts,b=$r(g,h),D=Pl(l,a,8,"ng-container",b);return null!==b&&_g(D,b,!0),dC(l,u,D,$r(g,f)),null!==l.queries&&l.queries.elementStart(l,D),D}(g,f,h,l,u):f.data[g];Zr(b,!0);const D=h[g]=h[11].createComment("");return Ol(f,h,D,b),dt(D,h),Ns(b)&&(mg(f,h,b),Aa(f,b,h)),null!=u&&Xy(h,b),hv}function Dg(){let a=Yn();const l=Gt();return bc()?hl():(a=a.parent,Zr(a,!1)),l.firstCreatePass&&(Rf(l,a),dc(a)&&l.queries.elementEnd(a)),Dg}function MC(a,l,u){return hv(a,l,u),Dg(),MC}function Eg(){return Ie()}function kC(a){return!!a&&"function"==typeof a.then}function RC(a){return!!a&&"function"==typeof a.subscribe}const fv=RC;function Tg(a,l,u,h){const f=Ie(),g=Gt(),b=Yn();return mv(g,f,f[11],b,a,l,0,h),Tg}function Lh(a,l){const u=Yn(),h=Ie(),f=Gt();return mv(f,h,av(gl(f.data),u,h),u,a,l),Lh}function mv(a,l,u,h,f,g,b,D){const T=Ns(h),R=a.firstCreatePass&&ov(a),B=l[8],Q=sv(l);let se=!0;if(3&h.type||D){const Xe=Ci(h,l),at=D?D(Xe):Xe,At=Q.length,Oe=D?rn=>D(Jn(rn[h.index])):h.index;let Et=null;if(!D&&T&&(Et=function pv(a,l,u,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const b=f[g];if(b===u&&f[g+1]===h){const D=l[7],T=f[g+2];return D.length>T?D[T]:null}"string"==typeof b&&(g+=2)}return null}(a,l,f,h.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=g,Et.__ngLastListenerFn__=g,se=!1;else{g=OC(h,l,B,g,!1);const rn=u.listen(at,f,g);Q.push(g,rn),R&&R.push(f,Oe,At,At+1)}}else g=OC(h,l,B,g,!1);const Te=h.outputs;let Fe;if(se&&null!==Te&&(Fe=Te[f])){const Xe=Fe.length;if(Xe)for(let at=0;at<Xe;at+=2){const si=l[Fe[at]][Fe[at+1]].subscribe(g),Cd=Q.length;Q.push(g,si),R&&R.push(f,h.index,Cd,-(Cd+1))}}}function gv(a,l,u,h){try{return!1!==u(h)}catch(f){return nu(a,f),!1}}function OC(a,l,u,h,f){return function g(b){if(b===Function)return h;mC(2&a.flags?Hi(a.index,l):l);let T=gv(l,0,h,b),A=g.__ngNextListenerFn__;for(;A;)T=gv(l,0,A,b)&&T,A=A.__ngNextListenerFn__;return f&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function sS(a=1){return function Bd(a){return(ot.lFrame.contextLView=function Ou(a,l){for(;a>0;)l=l[15],a--;return l}(a,ot.lFrame.contextLView))[8]}(a)}function oS(a,l){let u=null;const h=function By(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?qw(a,g,!0):ck(h,g))return f}else u=f}return u}function PC(a){const l=Ie()[16][6];if(!l.projection){const h=l.projection=so(a?a.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const b=a?oS(g,a):0;null!==b&&(f[b]?f[b].projectionNext=g:h[b]=g,f[b]=g),g=g.next}}}function _v(a,l=0,u){const h=Ie(),f=Gt(),g=Pl(f,22+a,16,null,u||null);null===g.projection&&(g.projection=l),hl(),64!=(64&g.flags)&&function ug(a,l,u){Hw(l[11],0,l,u,ad(a,u,l),cT(u.parent||l[6],u,l))}(f,h,g)}function bv(a,l,u,h,f){const g=a[u+1],b=null===l;let D=h?Fr(g):Gs(g),T=!1;for(;0!==D&&(!1===T||b);){const R=a[D+1];Kk(a[D],l)&&(T=!0,a[D+1]=h?_h(R):qy(R)),D=h?Fr(R):Gs(R)}T&&(a[u+1]=h?qy(g):_h(g))}function Kk(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&No(a,l)>=0}const Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LC(a){return a.substring(Zi.key,Zi.keyEnd)}function Ig(a,l){const u=Zi.textEnd;return u===l?-1:(l=Zi.keyEnd=function BC(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Zi.key=l,u),dd(a,l,u))}function dd(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function UC(a,l,u){return Fa(a,l,u,!1),UC}function Cv(a,l){return Fa(a,l,null,!0),Cv}function Dv(a){La(tr,Na,a,!0)}function Na(a,l){for(let u=function VC(a){return function wv(a){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=a.length}(a),Ig(a,dd(a,0,Zi.textEnd))}(l);u>=0;u=Ig(l,u))tr(a,LC(l),!0)}function Fa(a,l,u,h){const f=Ie(),g=Gt(),b=ms(2);g.firstUpdatePass&&_S(g,a,b,h),l!==Ut&&Lr(f,b,l)&&Tv(g,g.data[Di()],f,f[11],a,f[b+1]=function vS(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=me(Ho(a)))),a}(l,u),h,b)}function La(a,l,u,h){const f=Gt(),g=ms(2);f.firstUpdatePass&&_S(f,null,g,h);const b=Ie();if(u!==Ut&&Lr(b,g,u)){const D=f.data[Di()];if(bS(D,h)&&!gS(f,g)){let T=h?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(u=_e(T,u||"")),IC(f,D,b,u,h)}else!function yS(a,l,u,h,f,g,b,D){f===Ut&&(f=Pt);let T=0,A=0,R=0<f.length?f[0]:null,B=0<g.length?g[0]:null;for(;null!==R||null!==B;){const Q=T<f.length?f[T+1]:void 0,se=A<g.length?g[A+1]:void 0;let Fe,Te=null;R===B?(T+=2,A+=2,Q!==se&&(Te=B,Fe=se)):null===B||null!==R&&R<B?(T+=2,Te=R):(A+=2,Te=B,Fe=se),null!==Te&&Tv(a,l,u,h,Te,Fe,b,D),R=T<f.length?f[T]:null,B=A<g.length?g[A]:null}}(f,D,b,b[11],b[g+1],b[g+1]=function Og(a,l,u){if(null==u||""===u)return Pt;const h=[],f=Ho(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(h,g,f[g]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,g)}}function gS(a,l){return l>=a.expandoStartIndex}function _S(a,l,u,h){const f=a.data;if(null===f[u+1]){const g=f[Di()],b=gS(a,u);bS(g,h)&&null===l&&!b&&(l=!1),l=function Qk(a,l,u,h){const f=gl(a);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=hd(u=Rg(null,a,l,u,h),l.attrs,h),g=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(u=Rg(f,a,l,u,h),null===g){let T=function kg(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Gs(h))return a[Fr(h)]}(a,l,h);void 0!==T&&Array.isArray(T)&&(T=Rg(null,a,l,T[1],h),T=hd(T,l.attrs,h),function HC(a,l,u,h){a[Fr(u?l.classBindings:l.styleBindings)]=h}(a,l,h,T))}else g=function Mp(a,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=hd(h,a[g].hostAttrs,u);return hd(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function uS(a,l,u,h,f,g){let b=g?l.classBindings:l.styleBindings,D=Fr(b),T=Gs(b);a[h]=u;let R,A=!1;if(Array.isArray(u)){const B=u;R=B[1],(null===R||No(B,R)>0)&&(A=!0)}else R=u;if(f)if(0!==T){const Q=Fr(a[D+1]);a[h+1]=Jc(Q,D),0!==Q&&(a[Q+1]=zy(a[Q+1],h)),a[D+1]=function gh(a,l){return 131071&a|l<<17}(a[D+1],h)}else a[h+1]=Jc(D,0),0!==D&&(a[D+1]=zy(a[D+1],h)),D=h;else a[h+1]=Jc(T,0),0===D?D=h:a[T+1]=zy(a[T+1],h),T=h;A&&(a[h+1]=qy(a[h+1])),bv(a,R,h,!0),bv(a,R,h,!1),function Wk(a,l,u,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&No(g,l)>=0&&(u[h+1]=_h(u[h+1]))}(l,R,a,h,g),b=Jc(D,T),g?l.classBindings=b:l.styleBindings=b}(f,g,l,u,b,h)}}function Rg(a,l,u,h,f){let g=null;const b=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<b&&(g=l[D],h=hd(h,g.hostAttrs,f),g!==a);)D++;return null!==a&&(u.directiveStylingLast=D),h}function hd(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const b=l[g];"number"==typeof b?f=b:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),tr(a,b,!!u||l[++g]))}return void 0===a?null:a}function Tv(a,l,u,h,f,g,b,D){if(!(3&l.type))return;const T=a.data,A=T[D+1];Va(function iC(a){return 1==(1&a)}(A)?Sv(T,l,u,f,Gs(A),b):void 0)||(Va(g)||function nC(a){return 2==(2&a)}(A)&&(g=Sv(T,null,u,f,D,b)),function Ly(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:Ml.DashCase;null==f?a.removeStyle(u,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Ml.Important),a.setStyle(u,h,f,g))}}(h,b,yc(Di(),u),f,g))}function Sv(a,l,u,h,f,g){const b=null===l;let D;for(;f>0;){const T=a[f],A=Array.isArray(T),R=A?T[1]:T,B=null===R;let Q=u[f+1];Q===Ut&&(Q=B?Pt:void 0);let se=B?Mc(Q,h):R===h?Q:void 0;if(A&&!Va(se)&&(se=Mc(T,h)),Va(se)&&(D=se,b))return D;const Te=a[f+1];f=b?Fr(Te):Gs(Te)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(D=Mc(T,h))}return D}function Va(a){return void 0!==a}function bS(a,l){return 0!=(a.flags&(l?16:32))}function Iv(a,l=""){const u=Ie(),h=Gt(),f=a+22,g=h.firstCreatePass?Pl(h,f,1,l,null):h.data[f],b=u[f]=function kl(a,l){return a.createText(l)}(u[11],l);Ol(h,u,b,g),Zr(g,!1)}function jC(a){return kp("",a,""),jC}function kp(a,l,u){const h=Ie(),f=Oh(h,a,l,u);return f!==Ut&&function iu(a,l,u){const h=yc(l,a);!function Fy(a,l,u){a.setValue(l,u)}(a[11],h,u)}(h,Di(),f),kp}function DS(a,l,u){La(tr,Na,Oh(Ie(),a,l,u),!0)}function Ng(a,l,u){const h=Ie();return Lr(h,da(),l)&&qs(Gt(),Dn(),h,a,l,h[11],u,!0),Ng}function XC(a,l,u){const h=Ie();if(Lr(h,da(),l)){const g=Gt(),b=Dn();qs(g,b,h,a,l,av(gl(g.data),b,h),u,!0)}return XC}const qh=void 0;var t0=["en",[["a","p"],["AM","PM"],qh],[["AM","PM"],qh,qh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qh,"{1} 'at' {0}",qh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function e0(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Op={};function n0(a){const l=function o1(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=s0(l);if(u)return u;const h=l.split("-")[0];if(u=s0(h),u)return u;if("en"===h)return t0;throw new Ee(701,!1)}function r0(a){return n0(a)[Tt.PluralCase]}function s0(a){return a in Op||(Op[a]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[a]),Op[a]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const pd="en-US";let Nv=pd;function nn(a,l,u,h,f){if(a=ee(a),Array.isArray(a))for(let g=0;g<a.length;g++)nn(a[g],l,u,h,f);else{const g=Gt(),b=Ie();let D=vr(a)?a:ee(a.provide),T=$c(a);const A=Yn(),R=1048575&A.providerIndexes,B=A.directiveStart,Q=A.providerIndexes>>20;if(vr(a)||!a.multi){const se=new yl(T,f,gp),Te=Zh(D,l,f?R:R+Q,B);-1===Te?(_a(He(A,b),g,D),$v(g,a,l.length),l.push(D),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(se),b.push(se)):(u[Te]=se,b[Te]=se)}else{const se=Zh(D,l,R+Q,B),Te=Zh(D,l,R,R+Q),Fe=se>=0&&u[se],Xe=Te>=0&&u[Te];if(f&&!Xe||!f&&!Fe){_a(He(A,b),g,D);const at=function Vl(a,l,u,h,f){const g=new yl(a,u,gp);return g.multi=[],g.index=l,g.componentProviders=0,M0(g,f,h&&!u),g}(f?ri:S1,u.length,f,h,T);!f&&Xe&&(u[Te].providerFactory=at),$v(g,a,l.length,0),l.push(D),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(at),b.push(at)}else $v(g,a,se>-1?se:Te,M0(u[f?Te:se],T,!f&&h));!f&&h&&Xe&&u[Te].componentProviders++}}}function $v(a,l,u,h){const f=vr(l),g=function tg(a){return!!a.useClass}(l);if(f||g){const T=(g?ee(l.useClass):l).prototype.ngOnDestroy;if(T){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(u);-1===R?A.push(u,[h,T]):A[R+1].push(h,T)}else A.push(u,T)}}}function M0(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Zh(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function S1(a,l,u,h){return Er(this.multi,[])}function ri(a,l,u,h){const f=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=Wr(u,u[1],this.providerFactory.index,h);g=D.slice(0,b),Er(f,g);for(let T=b;T<D.length;T++)g.push(D[T])}else g=[],Er(f,g);return g}function Er(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function k0(a,l=[]){return u=>{u.providersResolver=(h,f)=>function zv(a,l,u){const h=Gt();if(h.firstCreatePass){const f=Or(a);nn(u,h.data,h.blueprint,f,!0),nn(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class Lp{}class Ug{}function QS(a,l){return new JS(a,l??null)}class JS extends Lp{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ru(this);const h=Qi(l);this._bootstrapComponents=Ot(h.bootstrap),this._r3Injector=wT(l,u,[{provide:Lp,useValue:this},{provide:O,useValue:this.componentFactoryResolver}],me(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Hg extends Ug{constructor(l){super(),this.moduleType=l}create(l){return new JS(this.moduleType,l)}}class A1 extends Lp{constructor(l,u,h){super(),this.componentFactoryResolver=new ru(this),this.instance=null;const f=new xl([...l,{provide:Lp,useValue:this},{provide:O,useValue:this.componentFactoryResolver}],u||ur(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function R0(a,l,u=null){return new A1(a,l,u).injector}function jg(a,l,u){const h=ki()+a,f=Ie();return f[h]===Ut?Ra(f,h,u?l.call(u):l()):function Dr(a,l){return a[l]}(f,h)}function oI(a,l,u,h){return Wv(Ie(),ki(),a,l,u,h)}function Wv(a,l,u,h,f,g){const b=l+u;return Lr(a,b,f)?Ra(a,b+1,g?h.call(g,f):h(f)):function Vp(a,l){const u=a[l];return u===Ut?void 0:u}(a,b+1)}function Qv(a,l){const u=Gt();let h;const f=a+22;u.firstCreatePass?(h=function hI(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=Mo(h.type)),b=$n(gp);try{const D=_s(!1),T=g();return _s(D),function $k(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Ie(),f,T),T}finally{$n(b)}}function P0(a,l,u){const h=a+22,f=Ie(),g=Ro(f,h);return function gd(a,l){return a[1].data[l].pure}(f,h)?Wv(f,ki(),l,g.transform,u,g):g.transform(u)}function Xv(a){return l=>{setTimeout(a,void 0,l)}}const zs=class Jv extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,g=u||(()=>null),b=h;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),g=T.error?.bind(T),b=T.complete?.bind(T)}this.__isAsync&&(g=Xv(g),f&&(f=Xv(f)),b&&(b=Xv(b)));const D=super.subscribe({next:f,error:g,complete:b});return l instanceof re.w0&&l.add(D),D}};function F1(){return this._results[Nl()]()}class Kh{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Nl(),h=Kh.prototype;h[u]||(h[u]=F1)}get changes(){return this._changes||(this._changes=new zs)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=Pi(l);(this._changesDetected=!function Gd(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ba=(()=>{class a{}return a.__NG_ELEMENT_ID__=_d,a})();const ou=Ba,qg=class extends ou{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=Qy(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(h)),zi(h,f,l),new ka(f)}};function _d(){return eb(Yn(),Ie())}function eb(a,l){return 4&a.type?new qg(l,a,he(a,l)):null}let zg=(()=>{class a{}return a.__NG_ELEMENT_ID__=pI,a})();function pI(){return gI(Yn(),Ie())}const $g=zg,au=class extends $g{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return he(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const l=Vu(this._hostTNode,this._hostLView);if(Nm(l)){const u=Po(l,this._hostLView),h=Dc(l);return new En(u[1].data[h+8],u)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=mI(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const b=l.createEmbeddedView(u||{},g);return this.insert(b,f),b}createComponent(l,u,h,f,g){const b=l&&!function wl(a){return"function"==typeof a}(l);let D;if(b)D=u;else{const B=u||{};D=B.index,h=B.injector,f=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const T=b?l:new Ih(jt(l)),A=h||this.parentInjector;if(!g&&null==T.ngModule){const Q=(b?A:this.parentInjector).get(Us,null);Q&&(g=Q)}const R=T.create(A,f,void 0,g);return this.insert(R.hostView,D),R}insert(l,u){const h=l._lView,f=h[1];if(function ll(a){return Rr(a[3])}(h)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const B=h[3],Q=new au(B,B[6],B[3]);Q.detach(Q.indexOf(l))}}const g=this._adjustIndex(u),b=this._lContainer;!function ak(a,l,u,h){const f=10+h,g=u.length;h>0&&(u[f-1][4]=l),h<g-10?(l[4]=u[f],Ac(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function lh(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const D=l[19];null!==D&&D.insertView(a),l[2]|=64}(f,h,b,g);const D=ch(g,b),T=h[11],A=Wc(T,b[7]);return null!==A&&function ok(a,l,u,h,f,g){h[0]=f,h[6]=l,Kc(a,h,u,1,f,g)}(f,b[6],T,h,A,D),l.attachToViewContainerRef(),Ac(L0(b),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=mI(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=lg(this._lContainer,u);h&&(Ni(L0(this._lContainer),u),aT(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=lg(this._lContainer,u);return h&&null!=Ni(L0(this._lContainer),u)?new ka(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function mI(a){return a[8]}function L0(a){return a[8]||(a[8]=[])}function gI(a,l){let u;const h=l[a.index];if(Rr(h))u=h;else{let f;if(8&a.type)f=Jn(h);else{const g=l[11];f=g.createComment("");const b=Ci(a,l);Nn(g,Wc(g,b),f,function ho(a,l){return a.nextSibling(l)}(g,b),!1)}l[a.index]=u=qT(h,l,f,a),iv(l,u)}return new au(u,a,l)}class V0{constructor(l){this.queryList=l,this.matches=null}clone(){return new V0(this.queryList)}setDirty(){this.queryList.setDirty()}}class tb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const b=u.getByIndex(g);f.push(this.queries[b.indexInDeclarationView].clone())}return new tb(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==TI(l,u).matches&&this.queries[u].setDirty()}}class yI{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class B0{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new B0(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class nb{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new nb(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,V1(u,g)),this.matchTNodeWithReadOption(l,u,Yr(u,l,g,!1,!1))}else h===Ba?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Yr(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Be||f===zg||f===Ba&&4&u.type)this.addMatch(u.index,-2);else{const g=Yr(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function V1(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function vI(a,l,u,h){return-1===u?function B1(a,l){return 11&a.type?he(a,l):4&a.type?eb(a,l):null}(l,a):-2===u?function bI(a,l,u){return u===Be?he(l,a):u===Ba?eb(l,a):u===zg?gI(l,a):void 0}(a,l,h):Wr(a,a[1],u,l)}function U0(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const g=a.data,b=u.matches,D=[];for(let T=0;T<b.length;T+=2){const A=b[T];D.push(A<0?null:vI(l,g[A],b[T+1],u.metadata.read))}f.matches=D}return f.matches}function ib(a,l,u,h){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const b=U0(a,l,f,u);for(let D=0;D<g.length;D+=2){const T=g[D];if(T>0)h.push(b[D/2]);else{const A=g[D+1],R=l[-T];for(let B=10;B<R.length;B++){const Q=R[B];Q[17]===Q[3]&&ib(Q[1],Q,A,h)}if(null!==R[9]){const B=R[9];for(let Q=0;Q<B.length;Q++){const se=B[Q];ib(se[1],se,A,h)}}}}}return h}function wI(a){const l=Ie(),u=Gt(),h=Au();wc(h+1);const f=TI(u,h);if(a.dirty&&oa(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?ib(u,l,h,[]):U0(u,l,f,h);a.reset(g,rt),a.notifyOnChanges()}return!0}return!1}function rb(a,l,u){const h=Gt();h.firstCreatePass&&(EI(h,new yI(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),lu(h,Ie(),l)}function Zg(a,l,u,h){const f=Gt();if(f.firstCreatePass){const g=Yn();EI(f,new yI(l,u,h),g.index),function Qh(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}lu(f,Ie(),u)}function CI(){return function DI(a,l){return a[19].queries[l].queryList}(Ie(),Au())}function lu(a,l,u){const h=new Kh(4==(4&u));VT(a,l,h,h.destroy),null===l[19]&&(l[19]=new tb),l[19].queries.push(new V0(h))}function EI(a,l,u){null===a.queries&&(a.queries=new B0),a.queries.track(new nb(l,u))}function TI(a,l){return a.queries.getByIndex(l)}function SI(a,l){return eb(a,l)}function jp(a){const l=jt(a)||Hn(a)||vi(a);return null!==l&&l.standalone}function lb(...a){}const Hl=new Jt("Application Initializer");let Ln=(()=>{class a{constructor(u){this.appInits=u,this.resolve=lb,this.reject=lb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(kC(g))u.push(g);else if(fv(g)){const b=new Promise((D,T)=>{g.subscribe({complete:D,error:T})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(ti(Hl,8))},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Xg=new Jt("AppId",{providedIn:"root",factory:function K0(){return`${Ua()}${Ua()}${Ua()}`}});function Ua(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vo=new Jt("Platform Initializer"),LI=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cb=new Jt("appBootstrapListener"),ub=new Jt("AnimationModuleType");let X1=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const db=new Jt("LocaleId",{providedIn:"root",factory:()=>Zu(db,bt.Optional|bt.SkipSelf)||function EF(){return typeof $localize<"u"&&$localize.locale||pd}()}),Q0=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eR{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let SF=(()=>{class a{compileModuleSync(u){return new Hg(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Ot(Qi(u).declarations).reduce((b,D)=>{const T=jt(D);return T&&b.push(new Ih(T)),b},[]);return new eR(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const VI=(()=>Promise.resolve(0))();function J0(a){typeof Zone>"u"?VI.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class xn{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function iR(){let a=Ze.requestAnimationFrame,l=Ze.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function rR(a){const l=()=>{!function X0(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ze,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,eD(a),a.isCheckStableRunning=!0,qp(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),eD(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,b,D)=>{try{return BI(a),u.invokeTask(f,g,b,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),tD(a)}},onInvoke:(u,h,f,g,b,D,T)=>{try{return BI(a),u.invoke(f,g,b,D,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),tD(a)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,eD(a),qp(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xn.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(xn.isInAngularZone())throw new Ee(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+f,l,Ha,lb,lb);try{return g.runTask(b,u,h)}finally{g.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const Ha={};function qp(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function eD(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function BI(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function tD(a){a._nesting--,qp(a)}class sR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const UI=new Jt(""),HI=new Jt("");let fb,oR=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fb||(function hb(a){fb=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xn.assertNotInAngularZone(),J0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(ti(xn),ti(rs),ti(HI))},a.\u0275prov=fn({token:a,factory:a.\u0275fac}),a})(),rs=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return fb?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Gl=null;const e_=new Jt("AllowMultipleToken"),t_=new Jt("PlatformDestroyListeners");class cR{constructor(l,u){this.name=l,this.token=u}}function rD(a,l,u=[]){const h=`Platform: ${l}`,f=new Jt(h);return(g=[])=>{let b=sD();if(!b||b.injector.get(e_,!1)){const D=[...u,...g,{provide:f,useValue:!0}];a?a(D):function uR(a){if(Gl&&!Gl.get(e_,!1))throw new Ee(400,!1);Gl=a;const l=a.get(oD);(function nD(a){const l=a.get(vo,null);l&&l.forEach(u=>u())})(a)}(function jI(a=[],l){return fh.create({name:l,providers:[{provide:ep,useValue:"platform"},{provide:t_,useValue:new Set([()=>Gl=null])},...a]})}(D,h))}return function dR(a){const l=sD();if(!l)throw new Ee(401,!1);return l}()}}function sD(){return Gl?.get(oD)??null}let oD=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function GI(a,l){let u;return u="noop"===a?new sR:("zone.js"===a?void 0:a)||new xn(l),u}(h?.ngZone,function pb(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:xn,useValue:f}];return f.run(()=>{const b=fh.create({providers:g,parent:this.injector,name:u.moduleType.name}),D=u.create(b),T=D.injector.get(rg,null);if(!T)throw new Ee(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{T.handleError(R)}});D.onDestroy(()=>{gb(this._modules,D),A.unsubscribe()})}),function mb(a,l,u){try{const h=u();return kC(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(T,f,()=>{const A=D.injector.get(Ln);return A.runInitializers(),A.donePromise.then(()=>(function a0(a){Zt(a,"Expected localeId to be defined"),"string"==typeof a&&(Nv=a.toLowerCase().replace(/_/g,"-"))}(D.injector.get(db,pd)||pd),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,h=[]){const f=aD({},h);return function aR(a,l,u){const h=new Hg(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(wd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ee(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(t_,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(ti(fh))},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function aD(a,l){return Array.isArray(l)?l.reduce(aD,a):{...a,...l}}let wd=(()=>{class a{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new L.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{xn.assertNotInAngularZone(),J0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{xn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,de.T)(g,b.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof v;if(!this._injector.get(Ln).done)throw!f&&jp(u),new Ee(405,false);let b;b=f?u:this._injector.get(O).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const D=function lR(a){return a.isBoundToModule}(b)?void 0:this._injector.get(Lp),A=b.create(fh.NULL,[],h||b.selector,D),R=A.location.nativeElement,B=A.injector.get(UI,null);return B?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),gb(this.components,A),B?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;gb(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(cb,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>gb(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(ti(xn),ti(Us),ti(rg))},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function gb(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let zI=!0,yb=!1;function $I(){return yb=!0,zI}function ZI(){if(yb)throw new Error("Cannot enable prod mode after platform setup.");zI=!1}let hR=(()=>{class a{}return a.__NG_ELEMENT_ID__=vb,a})();function vb(a){return function lD(a,l,u){if(hc(a)&&!u){const h=Hi(a.index,l);return new ka(h,h)}return 47&a.type?new ka(l[16],l):null}(Yn(),Ie(),16==(16&a))}class tA{constructor(){}supports(l){return Ip(l)}create(l){return new iA(l)}}const nA=(a,l)=>l;class iA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||nA}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const b=!h||u&&u.currentIndex<vR(h,f,g)?u:h,D=vR(b,f,g),T=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{g||(g=[]);const A=D-f,R=T-f;if(A!=R){for(let Q=0;Q<A;Q++){const se=Q<g.length?g[Q]:g[Q]=0,Te=se+Q;R<=Te&&Te<A&&(g[Q]=se+1)}g[b.previousIndex]=R-A}}D!==T&&l(b,D,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Ip(l))throw new Ee(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)g=l[D],b=this._trackByFn(D,g),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,g,b,D)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,b,D),h=!0),u=u._next}else f=0,function uv(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Nl()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,D=>{b=this._trackByFn(f,D),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,D,b,f)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new rA(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new hD),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class rA{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sA{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class hD{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new sA,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vR(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class oA{constructor(){}supports(l){return l instanceof Map||kh(l)}create(){return new NF}}class NF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||kh(l)))throw new Ee(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,b=f._next;return g&&(g._next=b),b&&(b._prev=g),f._next=null,f._prev=null,f}const h=new FF(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class FF{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cb(){return new aA([new tA])}let aA=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Cb()),deps:[[a,new ft,new Ae]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ee(901,!1)}}return a.\u0275prov=fn({token:a,providedIn:"root",factory:Cb}),a})();function fD(){return new pD([new oA])}let pD=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||fD()),deps:[[a,new ft,new Ae]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Ee(901,!1)}}return a.\u0275prov=fn({token:a,providedIn:"root",factory:fD}),a})();const gD=rD(null,"core",[]);let VF=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(ti(wd))},a.\u0275mod=pt({type:a}),a.\u0275inj=ln({}),a})();function bR(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ht,xe,V)=>{V.d(xe,{Z:()=>Ee});var s=V(2090),re=V(4859),L=V(9681),de=V(1877);class le{constructor(we,ye){this._delegate=we,this.firebase=ye,(0,L._addComponent)(we,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(we,ye=L._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(we);return!ut.isInitialized()&&"EXPLICIT"===(null===(st=ut.getComponent())||void 0===st?void 0:st.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:ye})}_removeServiceInstance(we,ye=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ye)}_addComponent(we){(0,L._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,L._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function _e(){const lt=function me(lt){const we={},ye={__esModule:!0,initializeApp:function Re(ze,Z={}){const De=L.initializeApp(ze,Z);if((0,s.r3)(we,De.name))return we[De.name];const X=new lt(De,ye);return we[De.name]=X,X},app:ut,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Se(ze){const Z=ze.name,De=Z.replace("-compat","");if(L._registerComponent(ze)&&"PUBLIC"===ze.type){const X=(ae=ut())=>{if("function"!=typeof ae[De])throw ie.create("invalid-app-argument",{appName:Z});return ae[De]()};void 0!==ze.serviceProps&&(0,s.ZB)(X,ze.serviceProps),ye[De]=X,lt.prototype[De]=function(...ae){return this._getService.bind(this,Z).apply(this,ze.multipleInstances?ae:[])}}return"PUBLIC"===ze.type?ye[De]:null},removeApp:function st(ze){delete we[ze]},useAsService:function Ge(ze,Z){return"serverAuth"===Z?null:Z},modularAPIs:L}};function ut(ze){if(!(0,s.r3)(we,ze=ze||L._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ze});return we[ze]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ce(){return Object.keys(we).map(ze=>we[ze])}}),ut.App=lt,ye}(le);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function we(ye){(0,s.ZB)(lt,ye)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),lt}(),z=new de.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=q;!function ke(lt){(0,L.registerVersion)("@firebase/app-compat","0.1.30",lt)}()},9681:(ht,xe,V)=>{V.r(xe),V.d(xe,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>Tn,_addOrOverwriteComponent:()=>fn,_apps:()=>Cn,_clearComponents:()=>ks,_components:()=>ai,_getProvider:()=>ln,_registerComponent:()=>fr,_removeServiceInstance:()=>Yt,deleteApp:()=>bt,getApp:()=>xr,getApps:()=>ds,initializeApp:()=>So,onLog:()=>$n,registerVersion:()=>li,setLogLevel:()=>Os});var s=V(5861),re=V(4859),L=V(1877),de=V(2090),le=V(8766);class ge{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function ie(H){return"VERSION"===H.getComponent()?.type}(K)){const Me=K.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter(K=>K).join(" ")}}const me="@firebase/app",q=new L.Yd("@firebase/app"),Zt="[DEFAULT]",Je={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cn=new Map,ai=new Map;function Tn(H,W){try{H.container.addComponent(W)}catch(K){q.debug(`Component ${W.name} failed to register with FirebaseApp ${H.name}`,K)}}function fn(H,W){H.container.addOrOverwriteComponent(W)}function fr(H){const W=H.name;if(ai.has(W))return q.debug(`There were multiple attempts to register component ${W}.`),!1;ai.set(W,H);for(const K of Cn.values())Tn(K,H);return!0}function ln(H,W){const K=H.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),H.container.getProvider(W)}function Yt(H,W,K=Zt){ln(H,W).clearInstance(K)}function ks(){ai.clear()}const ar=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ar{constructor(W,K,Me){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Rs="9.9.1";function So(H,W={}){"object"!=typeof W&&(W={name:W});const K=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},W),Me=K.name;if("string"!=typeof Me||!Me)throw ar.create("bad-app-name",{appName:String(Me)});const Ye=Cn.get(Me);if(Ye){if((0,de.vZ)(H,Ye.options)&&(0,de.vZ)(K,Ye.config))return Ye;throw ar.create("duplicate-app",{appName:Me})}const pt=new re.H0(Me);for(const cn of ai.values())pt.addComponent(cn);const An=new Ar(H,K,pt);return Cn.set(Me,An),An}function xr(H=Zt){const W=Cn.get(H);if(!W)throw ar.create("no-app",{appName:H});return W}function ds(){return Array.from(Cn.values())}function bt(H){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(H){const W=H.name;Cn.has(W)&&(Cn.delete(W),yield Promise.all(H.container.getProviders().map(K=>K.delete())),H.isDeleted=!0)})).apply(this,arguments)}function li(H,W,K){var Me;let Ye=null!==(Me=Je[H])&&void 0!==Me?Me:H;K&&(Ye+=`-${K}`);const pt=Ye.match(/\s|\//),An=W.match(/\s|\//);if(pt||An){const cn=[`Unable to register library "${Ye}" with version "${W}":`];return pt&&cn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),pt&&An&&cn.push("and"),An&&cn.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void q.warn(cn.join(" "))}fr(new re.wA(`${Ye}-version`,()=>({library:Ye,version:W}),"VERSION"))}function $n(H,W){if(null!==H&&"function"!=typeof H)throw ar.create("invalid-log-argument");(0,L.Am)(H,W)}function Os(H){(0,L.Ub)(H)}const yi="firebase-heartbeat-store";let Hr=null;function ea(){return Hr||(Hr=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(H,W)=>{0===W&&H.createObjectStore(yi)}}).catch(H=>{throw ar.create("storage-open",{originalErrorMessage:H.message})})),Hr}function Ze(){return(Ze=(0,s.Z)(function*(H){var W;try{return(yield ea()).transaction(yi).objectStore(yi).get(xi(H))}catch(K){throw ar.create("storage-get",{originalErrorMessage:null===(W=K)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function kt(H,W){return pr.apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(H,W){var K;try{const Ye=(yield ea()).transaction(yi,"readwrite");return yield Ye.objectStore(yi).put(W,xi(H)),Ye.done}catch(Me){throw ar.create("storage-set",{originalErrorMessage:null===(K=Me)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function xi(H){return`${H.name}!${H.options.appId}`}class Mi{constructor(W){this.container=W,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new kr(K),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var W=this;return(0,s.Z)(function*(){const Me=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=hs();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!W._heartbeatsCache.heartbeats.some(pt=>pt.date===Ye))return W._heartbeatsCache.heartbeats.push({date:Ye,agent:Me}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(pt=>{const An=new Date(pt.date).valueOf();return Date.now()-An<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,s.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const K=hs(),{heartbeatsToSend:Me,unsentEntries:Ye}=function vn(H,W=1024){const K=[];let Me=H.slice();for(const Ye of H){const pt=K.find(An=>An.agent===Ye.agent);if(pt){if(pt.dates.push(Ye.date),G(K)>W){pt.dates.pop();break}}else if(K.push({agent:Ye.agent,dates:[Ye.date]}),G(K)>W){K.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:K,unsentEntries:Me}}(W._heartbeatsCache.heartbeats),pt=(0,de.L)(JSON.stringify({version:2,heartbeats:Me}));return W._heartbeatsCache.lastSentHeartbeatDate=K,Ye.length>0?(W._heartbeatsCache.heartbeats=Ye,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),pt})()}}function hs(){return(new Date).toISOString().substring(0,10)}class kr{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,s.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function tn(H){return Ze.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var K=this;return(0,s.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const pt=yield K.read();return kt(K.app,{lastSentHeartbeatDate:null!==(Me=W.lastSentHeartbeatDate)&&void 0!==Me?Me:pt.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var K=this;return(0,s.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const pt=yield K.read();return kt(K.app,{lastSentHeartbeatDate:null!==(Me=W.lastSentHeartbeatDate)&&void 0!==Me?Me:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...W.heartbeats]})}})()}}function G(H){return(0,de.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Y(H){fr(new re.wA("platform-logger",W=>new ge(W),"PRIVATE")),fr(new re.wA("heartbeat",W=>new Mi(W),"PRIVATE")),li(me,"0.7.29",H),li(me,"0.7.29","esm2017"),li("fire-js","")}("")},4859:(ht,xe,V)=>{V.d(xe,{H0:()=>me,wA:()=>L,zt:()=>le});var s=V(5861),re=V(2090);class L{constructor(q,z,ee){this.name=q,this.instanceFactory=z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const de="[DEFAULT]";class le{constructor(q,z){this.name=q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(z)){const ee=new re.BH;if(this.instancesDeferred.set(z,ee),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:z});Ue&&ee.resolve(Ue)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(q){var z;const ee=this.normalizeInstanceIdentifier(q?.identifier),Ue=null!==(z=q?.optional)&&void 0!==z&&z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ke){if(Ue)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ie(_e){return"EAGER"===_e.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[z,ee]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:Ue});ee.resolve(ke)}catch{}}}}clearInstance(q=de){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,s.Z)(function*(){const z=Array.from(q.instances.values());yield Promise.all([...z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=de){return this.instances.has(q)}getOptions(q=de){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:z={}}=q,ee=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ee,options:z});for(const[ke,Ee]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ke)&&Ee.resolve(Ue);return Ue}onInit(q,z){var ee;const Ue=this.normalizeInstanceIdentifier(z),ke=null!==(ee=this.onInitCallbacks.get(Ue))&&void 0!==ee?ee:new Set;ke.add(q),this.onInitCallbacks.set(Ue,ke);const Ee=this.instances.get(Ue);return Ee&&q(Ee,Ue),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,z){const ee=this.onInitCallbacks.get(z);if(ee)for(const Ue of ee)try{Ue(q,z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:z={}}){let ee=this.instances.get(q);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=q,_e===de?void 0:_e),options:z}),this.instances.set(q,ee),this.instancesOptions.set(q,z),this.invokeOnInitCallbacks(ee,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ee)}catch{}var _e;return ee||null}normalizeInstanceIdentifier(q=de){return this.component?this.component.multipleInstances?q:de:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const z=this.getProvider(q.name);if(z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const z=new le(q,this);return this.providers.set(q,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,xe,V)=>{V.d(xe,{Am:()=>_e,Ub:()=>me,Yd:()=>ie,in:()=>re});const s=[];var re=(()=>{return(q=re||(re={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",re;var q})();const L={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},de=re.INFO,le={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ge=(q,z,...ee)=>{if(z<q.logLevel)return;const Ue=(new Date).toISOString(),ke=le[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${Ue}]  ${q.name}:`,...ee)};class ie{constructor(z){this.name=z,this._logLevel=de,this._logHandler=ge,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in re))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...z),this._logHandler(this,re.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...z),this._logHandler(this,re.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,re.INFO,...z),this._logHandler(this,re.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,re.WARN,...z),this._logHandler(this,re.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...z),this._logHandler(this,re.ERROR,...z)}}function me(q){s.forEach(z=>{z.setLogLevel(q)})}function _e(q,z){for(const ee of s){let Ue=null;z&&z.level&&(Ue=L[z.level]),ee.userLogHandler=null===q?null:(ke,Ee,...lt)=>{const we=lt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Ee>=(Ue??ke.logLevel)&&q({level:re[Ee].toLowerCase(),message:we,args:lt,type:ke.name})}}}},8766:(ht,xe,V)=>{V.d(xe,{Lj:()=>Re,X3:()=>ut});var s=V(5861);let L,de;const ie=new WeakMap,me=new WeakMap,_e=new WeakMap,q=new WeakMap,z=new WeakMap;let ke={get(Z,De,X){if(Z instanceof IDBTransaction){if("done"===De)return me.get(Z);if("objectStoreNames"===De)return Z.objectStoreNames||_e.get(Z);if("store"===De)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ye(Z[De])},set:(Z,De,X)=>(Z[De]=X,!0),has:(Z,De)=>Z instanceof IDBTransaction&&("done"===De||"store"===De)||De in Z};function we(Z){return"function"==typeof Z?function lt(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...De){return Z.apply(st(this),De),ye(ie.get(this))}:function(...De){return ye(Z.apply(st(this),De))}:function(De,...X){const ae=Z.call(st(this),De,...X);return _e.set(ae,De.sort?De.sort():[De]),ye(ae)}}(Z):(Z instanceof IDBTransaction&&function Ue(Z){if(me.has(Z))return;const De=new Promise((X,ae)=>{const oe=()=>{Z.removeEventListener("complete",be),Z.removeEventListener("error",fe),Z.removeEventListener("abort",fe)},be=()=>{X(),oe()},fe=()=>{ae(Z.error||new DOMException("AbortError","AbortError")),oe()};Z.addEventListener("complete",be),Z.addEventListener("error",fe),Z.addEventListener("abort",fe)});me.set(Z,De)}(Z),((Z,De)=>De.some(X=>Z instanceof X))(Z,function le(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,ke):Z)}function ye(Z){if(Z instanceof IDBRequest)return function ee(Z){const De=new Promise((X,ae)=>{const oe=()=>{Z.removeEventListener("success",be),Z.removeEventListener("error",fe)},be=()=>{X(ye(Z.result)),oe()},fe=()=>{ae(Z.error),oe()};Z.addEventListener("success",be),Z.addEventListener("error",fe)});return De.then(X=>{X instanceof IDBCursor&&ie.set(X,Z)}).catch(()=>{}),z.set(De,Z),De}(Z);if(q.has(Z))return q.get(Z);const De=we(Z);return De!==Z&&(q.set(Z,De),z.set(De,Z)),De}const st=Z=>z.get(Z);function ut(Z,De,{blocked:X,upgrade:ae,blocking:oe,terminated:be}={}){const fe=indexedDB.open(Z,De),Ve=ye(fe);return ae&&fe.addEventListener("upgradeneeded",vt=>{ae(ye(fe.result),vt.oldVersion,vt.newVersion,ye(fe.transaction))}),X&&fe.addEventListener("blocked",()=>X()),Ve.then(vt=>{be&&vt.addEventListener("close",()=>be()),oe&&vt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ve}function Re(Z,{blocked:De}={}){const X=indexedDB.deleteDatabase(Z);return De&&X.addEventListener("blocked",()=>De()),ye(X).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Ge=new Map;function ze(Z,De){if(!(Z instanceof IDBDatabase)||De in Z||"string"!=typeof De)return;if(Ge.get(De))return Ge.get(De);const X=De.replace(/FromIndex$/,""),ae=De!==X,oe=Se.includes(X);if(!(X in(ae?IDBIndex:IDBObjectStore).prototype)||!oe&&!Ce.includes(X))return;const be=function(){var fe=(0,s.Z)(function*(Ve,...vt){const en=this.transaction(Ve,oe?"readwrite":"readonly");let Zt=en.store;return ae&&(Zt=Zt.index(vt.shift())),(yield Promise.all([Zt[X](...vt),oe&&en.done]))[0]});return function(vt){return fe.apply(this,arguments)}}();return Ge.set(De,be),be}!function Ee(Z){ke=Z(ke)}(Z=>({...Z,get:(De,X,ae)=>ze(De,X)||Z.get(De,X,ae),has:(De,X)=>!!ze(De,X)||Z.has(De,X)}))},5861:(ht,xe,V)=>{function s(L,de,le,ge,ie,me,_e){try{var q=L[me](_e),z=q.value}catch(ee){return void le(ee)}q.done?de(z):Promise.resolve(z).then(ge,ie)}function re(L){return function(){var de=this,le=arguments;return new Promise(function(ge,ie){var me=L.apply(de,le);function _e(z){s(me,ge,ie,_e,q,"next",z)}function q(z){s(me,ge,ie,_e,q,"throw",z)}_e(void 0)})}}V.d(xe,{Z:()=>re})}},ht=>{ht(ht.s=2843)}]);